var hA=Object.defineProperty;var pA=(t,e,n)=>e in t?hA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Lt=(t,e,n)=>pA(t,typeof e!="symbol"?e+"":e,n);function mA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Go(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ug={exports:{}},Hd={},cg={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function gA(){if(Eb)return Yt;Eb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function E(fe){return fe===null||typeof fe!="object"?null:(fe=_&&fe[_]||fe["@@iterator"],typeof fe=="function"?fe:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,I={};function N(fe,ve,je){this.props=fe,this.context=ve,this.refs=I,this.updater=je||S}N.prototype.isReactComponent={},N.prototype.setState=function(fe,ve){if(typeof fe!="object"&&typeof fe!="function"&&fe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,fe,ve,"setState")},N.prototype.forceUpdate=function(fe){this.updater.enqueueForceUpdate(this,fe,"forceUpdate")};function z(){}z.prototype=N.prototype;function G(fe,ve,je){this.props=fe,this.context=ve,this.refs=I,this.updater=je||S}var Z=G.prototype=new z;Z.constructor=G,A(Z,N.prototype),Z.isPureReactComponent=!0;var X=Array.isArray,te=Object.prototype.hasOwnProperty,ne={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function ke(fe,ve,je){var Ze,Ge={},Ue=null,Mt=null;if(ve!=null)for(Ze in ve.ref!==void 0&&(Mt=ve.ref),ve.key!==void 0&&(Ue=""+ve.key),ve)te.call(ve,Ze)&&!se.hasOwnProperty(Ze)&&(Ge[Ze]=ve[Ze]);var Dt=arguments.length-2;if(Dt===1)Ge.children=je;else if(1<Dt){for(var $e=Array(Dt),vt=0;vt<Dt;vt++)$e[vt]=arguments[vt+2];Ge.children=$e}if(fe&&fe.defaultProps)for(Ze in Dt=fe.defaultProps,Dt)Ge[Ze]===void 0&&(Ge[Ze]=Dt[Ze]);return{$$typeof:t,type:fe,key:Ue,ref:Mt,props:Ge,_owner:ne.current}}function Le(fe,ve){return{$$typeof:t,type:fe.type,key:ve,ref:fe.ref,props:fe.props,_owner:fe._owner}}function Pe(fe){return typeof fe=="object"&&fe!==null&&fe.$$typeof===t}function _e(fe){var ve={"=":"=0",":":"=2"};return"$"+fe.replace(/[=:]/g,function(je){return ve[je]})}var Ne=/\/+/g;function qe(fe,ve){return typeof fe=="object"&&fe!==null&&fe.key!=null?_e(""+fe.key):ve.toString(36)}function Ke(fe,ve,je,Ze,Ge){var Ue=typeof fe;(Ue==="undefined"||Ue==="boolean")&&(fe=null);var Mt=!1;if(fe===null)Mt=!0;else switch(Ue){case"string":case"number":Mt=!0;break;case"object":switch(fe.$$typeof){case t:case e:Mt=!0}}if(Mt)return Mt=fe,Ge=Ge(Mt),fe=Ze===""?"."+qe(Mt,0):Ze,X(Ge)?(je="",fe!=null&&(je=fe.replace(Ne,"$&/")+"/"),Ke(Ge,ve,je,"",function(vt){return vt})):Ge!=null&&(Pe(Ge)&&(Ge=Le(Ge,je+(!Ge.key||Mt&&Mt.key===Ge.key?"":(""+Ge.key).replace(Ne,"$&/")+"/")+fe)),ve.push(Ge)),1;if(Mt=0,Ze=Ze===""?".":Ze+":",X(fe))for(var Dt=0;Dt<fe.length;Dt++){Ue=fe[Dt];var $e=Ze+qe(Ue,Dt);Mt+=Ke(Ue,ve,je,$e,Ge)}else if($e=E(fe),typeof $e=="function")for(fe=$e.call(fe),Dt=0;!(Ue=fe.next()).done;)Ue=Ue.value,$e=Ze+qe(Ue,Dt++),Mt+=Ke(Ue,ve,je,$e,Ge);else if(Ue==="object")throw ve=String(fe),Error("Objects are not valid as a React child (found: "+(ve==="[object Object]"?"object with keys {"+Object.keys(fe).join(", ")+"}":ve)+"). If you meant to render a collection of children, use an array instead.");return Mt}function ht(fe,ve,je){if(fe==null)return fe;var Ze=[],Ge=0;return Ke(fe,Ze,"","",function(Ue){return ve.call(je,Ue,Ge++)}),Ze}function Xe(fe){if(fe._status===-1){var ve=fe._result;ve=ve(),ve.then(function(je){(fe._status===0||fe._status===-1)&&(fe._status=1,fe._result=je)},function(je){(fe._status===0||fe._status===-1)&&(fe._status=2,fe._result=je)}),fe._status===-1&&(fe._status=0,fe._result=ve)}if(fe._status===1)return fe._result.default;throw fe._result}var it={current:null},Ie={transition:null},nt={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:Ie,ReactCurrentOwner:ne};function xe(){throw Error("act(...) is not supported in production builds of React.")}return Yt.Children={map:ht,forEach:function(fe,ve,je){ht(fe,function(){ve.apply(this,arguments)},je)},count:function(fe){var ve=0;return ht(fe,function(){ve++}),ve},toArray:function(fe){return ht(fe,function(ve){return ve})||[]},only:function(fe){if(!Pe(fe))throw Error("React.Children.only expected to receive a single React element child.");return fe}},Yt.Component=N,Yt.Fragment=n,Yt.Profiler=i,Yt.PureComponent=G,Yt.StrictMode=r,Yt.Suspense=f,Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nt,Yt.act=xe,Yt.cloneElement=function(fe,ve,je){if(fe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+fe+".");var Ze=A({},fe.props),Ge=fe.key,Ue=fe.ref,Mt=fe._owner;if(ve!=null){if(ve.ref!==void 0&&(Ue=ve.ref,Mt=ne.current),ve.key!==void 0&&(Ge=""+ve.key),fe.type&&fe.type.defaultProps)var Dt=fe.type.defaultProps;for($e in ve)te.call(ve,$e)&&!se.hasOwnProperty($e)&&(Ze[$e]=ve[$e]===void 0&&Dt!==void 0?Dt[$e]:ve[$e])}var $e=arguments.length-2;if($e===1)Ze.children=je;else if(1<$e){Dt=Array($e);for(var vt=0;vt<$e;vt++)Dt[vt]=arguments[vt+2];Ze.children=Dt}return{$$typeof:t,type:fe.type,key:Ge,ref:Ue,props:Ze,_owner:Mt}},Yt.createContext=function(fe){return fe={$$typeof:a,_currentValue:fe,_currentValue2:fe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},fe.Provider={$$typeof:o,_context:fe},fe.Consumer=fe},Yt.createElement=ke,Yt.createFactory=function(fe){var ve=ke.bind(null,fe);return ve.type=fe,ve},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(fe){return{$$typeof:u,render:fe}},Yt.isValidElement=Pe,Yt.lazy=function(fe){return{$$typeof:m,_payload:{_status:-1,_result:fe},_init:Xe}},Yt.memo=function(fe,ve){return{$$typeof:h,type:fe,compare:ve===void 0?null:ve}},Yt.startTransition=function(fe){var ve=Ie.transition;Ie.transition={};try{fe()}finally{Ie.transition=ve}},Yt.unstable_act=xe,Yt.useCallback=function(fe,ve){return it.current.useCallback(fe,ve)},Yt.useContext=function(fe){return it.current.useContext(fe)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(fe){return it.current.useDeferredValue(fe)},Yt.useEffect=function(fe,ve){return it.current.useEffect(fe,ve)},Yt.useId=function(){return it.current.useId()},Yt.useImperativeHandle=function(fe,ve,je){return it.current.useImperativeHandle(fe,ve,je)},Yt.useInsertionEffect=function(fe,ve){return it.current.useInsertionEffect(fe,ve)},Yt.useLayoutEffect=function(fe,ve){return it.current.useLayoutEffect(fe,ve)},Yt.useMemo=function(fe,ve){return it.current.useMemo(fe,ve)},Yt.useReducer=function(fe,ve,je){return it.current.useReducer(fe,ve,je)},Yt.useRef=function(fe){return it.current.useRef(fe)},Yt.useState=function(fe){return it.current.useState(fe)},Yt.useSyncExternalStore=function(fe,ve,je){return it.current.useSyncExternalStore(fe,ve,je)},Yt.useTransition=function(){return it.current.useTransition()},Yt.version="18.3.1",Yt}var kb;function cd(){return kb||(kb=1,cg.exports=gA()),cg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function yA(){if(Mb)return Hd;Mb=1;var t=cd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(u,f,h){var m,_={},E=null,S=null;h!==void 0&&(E=""+h),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(S=f.ref);for(m in f)r.call(f,m)&&!o.hasOwnProperty(m)&&(_[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)_[m]===void 0&&(_[m]=f[m]);return{$$typeof:e,type:u,key:E,ref:S,props:_,_owner:i.current}}return Hd.Fragment=n,Hd.jsx=a,Hd.jsxs=a,Hd}var Sb;function vA(){return Sb||(Sb=1,ug.exports=yA()),ug.exports}var V=vA(),$=cd();const _A=Go($);var bh={},dg={exports:{}},zi={},fg={exports:{}},hg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function xA(){return Tb||(Tb=1,function(t){function e(Ie,nt){var xe=Ie.length;Ie.push(nt);e:for(;0<xe;){var fe=xe-1>>>1,ve=Ie[fe];if(0<i(ve,nt))Ie[fe]=nt,Ie[xe]=ve,xe=fe;else break e}}function n(Ie){return Ie.length===0?null:Ie[0]}function r(Ie){if(Ie.length===0)return null;var nt=Ie[0],xe=Ie.pop();if(xe!==nt){Ie[0]=xe;e:for(var fe=0,ve=Ie.length,je=ve>>>1;fe<je;){var Ze=2*(fe+1)-1,Ge=Ie[Ze],Ue=Ze+1,Mt=Ie[Ue];if(0>i(Ge,xe))Ue<ve&&0>i(Mt,Ge)?(Ie[fe]=Mt,Ie[Ue]=xe,fe=Ue):(Ie[fe]=Ge,Ie[Ze]=xe,fe=Ze);else if(Ue<ve&&0>i(Mt,xe))Ie[fe]=Mt,Ie[Ue]=xe,fe=Ue;else break e}}return nt}function i(Ie,nt){var xe=Ie.sortIndex-nt.sortIndex;return xe!==0?xe:Ie.id-nt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var f=[],h=[],m=1,_=null,E=3,S=!1,A=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(Ie){for(var nt=n(h);nt!==null;){if(nt.callback===null)r(h);else if(nt.startTime<=Ie)r(h),nt.sortIndex=nt.expirationTime,e(f,nt);else break;nt=n(h)}}function X(Ie){if(I=!1,Z(Ie),!A)if(n(f)!==null)A=!0,Xe(te);else{var nt=n(h);nt!==null&&it(X,nt.startTime-Ie)}}function te(Ie,nt){A=!1,I&&(I=!1,z(ke),ke=-1),S=!0;var xe=E;try{for(Z(nt),_=n(f);_!==null&&(!(_.expirationTime>nt)||Ie&&!_e());){var fe=_.callback;if(typeof fe=="function"){_.callback=null,E=_.priorityLevel;var ve=fe(_.expirationTime<=nt);nt=t.unstable_now(),typeof ve=="function"?_.callback=ve:_===n(f)&&r(f),Z(nt)}else r(f);_=n(f)}if(_!==null)var je=!0;else{var Ze=n(h);Ze!==null&&it(X,Ze.startTime-nt),je=!1}return je}finally{_=null,E=xe,S=!1}}var ne=!1,se=null,ke=-1,Le=5,Pe=-1;function _e(){return!(t.unstable_now()-Pe<Le)}function Ne(){if(se!==null){var Ie=t.unstable_now();Pe=Ie;var nt=!0;try{nt=se(!0,Ie)}finally{nt?qe():(ne=!1,se=null)}}else ne=!1}var qe;if(typeof G=="function")qe=function(){G(Ne)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,ht=Ke.port2;Ke.port1.onmessage=Ne,qe=function(){ht.postMessage(null)}}else qe=function(){N(Ne,0)};function Xe(Ie){se=Ie,ne||(ne=!0,qe())}function it(Ie,nt){ke=N(function(){Ie(t.unstable_now())},nt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Ie){Ie.callback=null},t.unstable_continueExecution=function(){A||S||(A=!0,Xe(te))},t.unstable_forceFrameRate=function(Ie){0>Ie||125<Ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<Ie?Math.floor(1e3/Ie):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Ie){switch(E){case 1:case 2:case 3:var nt=3;break;default:nt=E}var xe=E;E=nt;try{return Ie()}finally{E=xe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Ie,nt){switch(Ie){case 1:case 2:case 3:case 4:case 5:break;default:Ie=3}var xe=E;E=Ie;try{return nt()}finally{E=xe}},t.unstable_scheduleCallback=function(Ie,nt,xe){var fe=t.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?fe+xe:fe):xe=fe,Ie){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=xe+ve,Ie={id:m++,callback:nt,priorityLevel:Ie,startTime:xe,expirationTime:ve,sortIndex:-1},xe>fe?(Ie.sortIndex=xe,e(h,Ie),n(f)===null&&Ie===n(h)&&(I?(z(ke),ke=-1):I=!0,it(X,xe-fe))):(Ie.sortIndex=ve,e(f,Ie),A||S||(A=!0,Xe(te))),Ie},t.unstable_shouldYield=_e,t.unstable_wrapCallback=function(Ie){var nt=E;return function(){var xe=E;E=nt;try{return Ie.apply(this,arguments)}finally{E=xe}}}}(hg)),hg}var Pb;function bA(){return Pb||(Pb=1,fg.exports=xA()),fg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function wA(){if(Ab)return zi;Ab=1;var t=cd(),e=bA();function n(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,y=1;y<arguments.length;y++)c+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,c){a(s,c),a(s+"Capture",c)}function a(s,c){for(i[s]=c,s=0;s<c.length;s++)r.add(c[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},_={};function E(s){return f.call(_,s)?!0:f.call(m,s)?!1:h.test(s)?_[s]=!0:(m[s]=!0,!1)}function S(s,c,y,k){if(y!==null&&y.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return k?!1:y!==null?!y.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,c,y,k){if(c===null||typeof c>"u"||S(s,c,y,k))return!0;if(k)return!1;if(y!==null)switch(y.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function I(s,c,y,k,D,O,H){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=k,this.attributeNamespace=D,this.mustUseProperty=y,this.propertyName=s,this.type=c,this.sanitizeURL=O,this.removeEmptyString=H}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new I(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];N[c]=new I(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new I(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new I(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new I(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new I(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new I(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new I(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new I(s,5,!1,s.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function G(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(z,G);N[c]=new I(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(z,G);N[c]=new I(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(z,G);N[c]=new I(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new I(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new I(s,1,!1,s.toLowerCase(),null,!0,!0)});function Z(s,c,y,k){var D=N.hasOwnProperty(c)?N[c]:null;(D!==null?D.type!==0:k||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(A(c,y,D,k)&&(y=null),k||D===null?E(c)&&(y===null?s.removeAttribute(c):s.setAttribute(c,""+y)):D.mustUseProperty?s[D.propertyName]=y===null?D.type===3?!1:"":y:(c=D.attributeName,k=D.attributeNamespace,y===null?s.removeAttribute(c):(D=D.type,y=D===3||D===4&&y===!0?"":""+y,k?s.setAttributeNS(k,c,y):s.setAttribute(c,y))))}var X=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),ne=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ke=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),Pe=Symbol.for("react.provider"),_e=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),qe=Symbol.for("react.suspense"),Ke=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),Xe=Symbol.for("react.lazy"),it=Symbol.for("react.offscreen"),Ie=Symbol.iterator;function nt(s){return s===null||typeof s!="object"?null:(s=Ie&&s[Ie]||s["@@iterator"],typeof s=="function"?s:null)}var xe=Object.assign,fe;function ve(s){if(fe===void 0)try{throw Error()}catch(y){var c=y.stack.trim().match(/\n( *(at )?)/);fe=c&&c[1]||""}return`
`+fe+s}var je=!1;function Ze(s,c){if(!s||je)return"";je=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Be){var k=Be}Reflect.construct(s,[],c)}else{try{c.call()}catch(Be){k=Be}s.call(c.prototype)}else{try{throw Error()}catch(Be){k=Be}s()}}catch(Be){if(Be&&k&&typeof Be.stack=="string"){for(var D=Be.stack.split(`
`),O=k.stack.split(`
`),H=D.length-1,ae=O.length-1;1<=H&&0<=ae&&D[H]!==O[ae];)ae--;for(;1<=H&&0<=ae;H--,ae--)if(D[H]!==O[ae]){if(H!==1||ae!==1)do if(H--,ae--,0>ae||D[H]!==O[ae]){var he=`
`+D[H].replace(" at new "," at ");return s.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",s.displayName)),he}while(1<=H&&0<=ae);break}}}finally{je=!1,Error.prepareStackTrace=y}return(s=s?s.displayName||s.name:"")?ve(s):""}function Ge(s){switch(s.tag){case 5:return ve(s.type);case 16:return ve("Lazy");case 13:return ve("Suspense");case 19:return ve("SuspenseList");case 0:case 2:case 15:return s=Ze(s.type,!1),s;case 11:return s=Ze(s.type.render,!1),s;case 1:return s=Ze(s.type,!0),s;default:return""}}function Ue(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case se:return"Fragment";case ne:return"Portal";case Le:return"Profiler";case ke:return"StrictMode";case qe:return"Suspense";case Ke:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case _e:return(s.displayName||"Context")+".Consumer";case Pe:return(s._context.displayName||"Context")+".Provider";case Ne:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ht:return c=s.displayName||null,c!==null?c:Ue(s.type)||"Memo";case Xe:c=s._payload,s=s._init;try{return Ue(s(c))}catch{}}return null}function Mt(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(c);case 8:return c===ke?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Dt(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function $e(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function vt(s){var c=$e(s)?"checked":"value",y=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),k=""+s[c];if(!s.hasOwnProperty(c)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var D=y.get,O=y.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return D.call(this)},set:function(H){k=""+H,O.call(this,H)}}),Object.defineProperty(s,c,{enumerable:y.enumerable}),{getValue:function(){return k},setValue:function(H){k=""+H},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Ct(s){s._valueTracker||(s._valueTracker=vt(s))}function He(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var y=c.getValue(),k="";return s&&(k=$e(s)?s.checked?"true":"false":s.value),s=k,s!==y?(c.setValue(s),!0):!1}function gn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Jt(s,c){var y=c.checked;return xe({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??s._wrapperState.initialChecked})}function In(s,c){var y=c.defaultValue==null?"":c.defaultValue,k=c.checked!=null?c.checked:c.defaultChecked;y=Dt(c.value!=null?c.value:y),s._wrapperState={initialChecked:k,initialValue:y,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function On(s,c){c=c.checked,c!=null&&Z(s,"checked",c,!1)}function Qn(s,c){On(s,c);var y=Dt(c.value),k=c.type;if(y!=null)k==="number"?(y===0&&s.value===""||s.value!=y)&&(s.value=""+y):s.value!==""+y&&(s.value=""+y);else if(k==="submit"||k==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?ei(s,c.type,y):c.hasOwnProperty("defaultValue")&&ei(s,c.type,Dt(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function $r(s,c,y){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var k=c.type;if(!(k!=="submit"&&k!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,y||c===s.value||(s.value=c),s.defaultValue=c}y=s.name,y!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,y!==""&&(s.name=y)}function ei(s,c,y){(c!=="number"||gn(s.ownerDocument)!==s)&&(y==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+y&&(s.defaultValue=""+y))}var Zi=Array.isArray;function vi(s,c,y,k){if(s=s.options,c){c={};for(var D=0;D<y.length;D++)c["$"+y[D]]=!0;for(y=0;y<s.length;y++)D=c.hasOwnProperty("$"+s[y].value),s[y].selected!==D&&(s[y].selected=D),D&&k&&(s[y].defaultSelected=!0)}else{for(y=""+Dt(y),c=null,D=0;D<s.length;D++){if(s[D].value===y){s[D].selected=!0,k&&(s[D].defaultSelected=!0);return}c!==null||s[D].disabled||(c=s[D])}c!==null&&(c.selected=!0)}}function Zo(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return xe({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function at(s,c){var y=c.value;if(y==null){if(y=c.children,c=c.defaultValue,y!=null){if(c!=null)throw Error(n(92));if(Zi(y)){if(1<y.length)throw Error(n(93));y=y[0]}c=y}c==null&&(c=""),y=c}s._wrapperState={initialValue:Dt(y)}}function St(s,c){var y=Dt(c.value),k=Dt(c.defaultValue);y!=null&&(y=""+y,y!==s.value&&(s.value=y),c.defaultValue==null&&s.defaultValue!==y&&(s.defaultValue=y)),k!=null&&(s.defaultValue=""+k)}function Xt(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function xn(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $n(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?xn(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Dr,ur=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,y,k,D){MSApp.execUnsafeLocalFunction(function(){return s(c,y,k,D)})}:s}(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Dr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function Vn(s,c){if(c){var y=s.firstChild;if(y&&y===s.lastChild&&y.nodeType===3){y.nodeValue=c;return}}s.textContent=c}var Rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yo=["Webkit","ms","Moz","O"];Object.keys(Rn).forEach(function(s){yo.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),Rn[c]=Rn[s]})});function Kl(s,c,y){return c==null||typeof c=="boolean"||c===""?"":y||typeof c!="number"||c===0||Rn.hasOwnProperty(s)&&Rn[s]?(""+c).trim():c+"px"}function ts(s,c){s=s.style;for(var y in c)if(c.hasOwnProperty(y)){var k=y.indexOf("--")===0,D=Kl(y,c[y],k);y==="float"&&(y="cssFloat"),k?s.setProperty(y,D):s[y]=D}}var xa=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zs(s,c){if(c){if(xa[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Ki(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yl=null;function Jl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ns=null,Ko=null,Yo=null;function ac(s){if(s=Oi(s)){if(typeof ns!="function")throw Error(n(280));var c=s.stateNode;c&&(c=_l(c),ns(s.stateNode,s.type,c))}}function sc(s){Ko?Yo?Yo.push(s):Yo=[s]:Ko=s}function Xl(){if(Ko){var s=Ko,c=Yo;if(Yo=Ko=null,ac(s),c)for(s=0;s<c.length;s++)ac(c[s])}}function Ql(s,c){return s(c)}function lc(){}var eu=!1;function Ks(s,c,y){if(eu)return s(c,y);eu=!0;try{return Ql(s,c,y)}finally{eu=!1,(Ko!==null||Yo!==null)&&(lc(),Xl())}}function ba(s,c){var y=s.stateNode;if(y===null)return null;var k=_l(y);if(k===null)return null;y=k[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(s=s.type,k=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!k;break e;default:s=!1}if(s)return null;if(y&&typeof y!="function")throw Error(n(231,c,typeof y));return y}var tu=!1;if(u)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){tu=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{tu=!1}function xd(s,c,y,k,D,O,H,ae,he){var Be=Array.prototype.slice.call(arguments,3);try{c.apply(y,Be)}catch(Ye){this.onError(Ye)}}var cr=!1,yt=null,is=!1,Ys=null,nu={onError:function(s){cr=!0,yt=s}};function uc(s,c,y,k,D,O,H,ae,he){cr=!1,yt=null,xd.apply(nu,arguments)}function ru(s,c,y,k,D,O,H,ae,he){if(uc.apply(this,arguments),cr){if(cr){var Be=yt;cr=!1,yt=null}else throw Error(n(198));is||(is=!0,Ys=Be)}}function vo(s){var c=s,y=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(y=c.return),s=c.return;while(s)}return c.tag===3?y:null}function Jo(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function iu(s){if(vo(s)!==s)throw Error(n(188))}function bd(s){var c=s.alternate;if(!c){if(c=vo(s),c===null)throw Error(n(188));return c!==s?null:s}for(var y=s,k=c;;){var D=y.return;if(D===null)break;var O=D.alternate;if(O===null){if(k=D.return,k!==null){y=k;continue}break}if(D.child===O.child){for(O=D.child;O;){if(O===y)return iu(D),s;if(O===k)return iu(D),c;O=O.sibling}throw Error(n(188))}if(y.return!==k.return)y=D,k=O;else{for(var H=!1,ae=D.child;ae;){if(ae===y){H=!0,y=D,k=O;break}if(ae===k){H=!0,k=D,y=O;break}ae=ae.sibling}if(!H){for(ae=O.child;ae;){if(ae===y){H=!0,y=O,k=D;break}if(ae===k){H=!0,k=O,y=D;break}ae=ae.sibling}if(!H)throw Error(n(189))}}if(y.alternate!==k)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?s:c}function cc(s){return s=bd(s),s!==null?dc(s):null}function dc(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=dc(s);if(c!==null)return c;s=s.sibling}return null}var fc=e.unstable_scheduleCallback,os=e.unstable_cancelCallback,ou=e.unstable_shouldYield,Js=e.unstable_requestPaint,En=e.unstable_now,wd=e.unstable_getCurrentPriorityLevel,au=e.unstable_ImmediatePriority,hc=e.unstable_UserBlockingPriority,Xs=e.unstable_NormalPriority,su=e.unstable_LowPriority,wa=e.unstable_IdlePriority,as=null,ti=null;function _o(s){if(ti&&typeof ti.onCommitFiberRoot=="function")try{ti.onCommitFiberRoot(as,s,void 0,(s.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Ca,dn=Math.log,ss=Math.LN2;function Ca(s){return s>>>=0,s===0?32:31-(dn(s)/ss|0)|0}var _i=64,La=4194304;function Ot(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function fn(s,c){var y=s.pendingLanes;if(y===0)return 0;var k=0,D=s.suspendedLanes,O=s.pingedLanes,H=y&268435455;if(H!==0){var ae=H&~D;ae!==0?k=Ot(ae):(O&=H,O!==0&&(k=Ot(O)))}else H=y&~D,H!==0?k=Ot(H):O!==0&&(k=Ot(O));if(k===0)return 0;if(c!==0&&c!==k&&(c&D)===0&&(D=k&-k,O=c&-c,D>=O||D===16&&(O&4194240)!==0))return c;if((k&4)!==0&&(k|=y&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=k;0<c;)y=31-zt(c),D=1<<y,k|=s[y],c&=~D;return k}function lu(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qs(s,c){for(var y=s.suspendedLanes,k=s.pingedLanes,D=s.expirationTimes,O=s.pendingLanes;0<O;){var H=31-zt(O),ae=1<<H,he=D[H];he===-1?((ae&y)===0||(ae&k)!==0)&&(D[H]=lu(ae,c)):he<=c&&(s.expiredLanes|=ae),O&=~ae}}function xr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function pc(){var s=_i;return _i<<=1,(_i&4194240)===0&&(_i=64),s}function Ea(s){for(var c=[],y=0;31>y;y++)c.push(s);return c}function ni(s,c,y){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-zt(c),s[c]=y}function Tn(s,c){var y=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var k=s.eventTimes;for(s=s.expirationTimes;0<y;){var D=31-zt(y),O=1<<D;c[D]=0,k[D]=-1,s[D]=-1,y&=~O}}function Yi(s,c){var y=s.entangledLanes|=c;for(s=s.entanglements;y;){var k=31-zt(y),D=1<<k;D&c|s[k]&c&&(s[k]|=c),y&=~D}}var Qt=0;function ka(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var el,xo,tl,nl,ls,us=!1,Ma=[],ri=null,Ji=null,xi=null,cs=new Map,It=new Map,Gn=[],un="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uu(s,c){switch(s){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":cs.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(c.pointerId)}}function Xo(s,c,y,k,D,O){return s===null||s.nativeEvent!==O?(s={blockedOn:c,domEventName:y,eventSystemFlags:k,nativeEvent:O,targetContainers:[D]},c!==null&&(c=Oi(c),c!==null&&xo(c)),s):(s.eventSystemFlags|=k,c=s.targetContainers,D!==null&&c.indexOf(D)===-1&&c.push(D),s)}function cu(s,c,y,k,D){switch(c){case"focusin":return ri=Xo(ri,s,c,y,k,D),!0;case"dragenter":return Ji=Xo(Ji,s,c,y,k,D),!0;case"mouseover":return xi=Xo(xi,s,c,y,k,D),!0;case"pointerover":var O=D.pointerId;return cs.set(O,Xo(cs.get(O)||null,s,c,y,k,D)),!0;case"gotpointercapture":return O=D.pointerId,It.set(O,Xo(It.get(O)||null,s,c,y,k,D)),!0}return!1}function Xi(s){var c=sa(s.target);if(c!==null){var y=vo(c);if(y!==null){if(c=y.tag,c===13){if(c=Jo(y),c!==null){s.blockedOn=c,ls(s.priority,function(){tl(y)});return}}else if(c===3&&y.stateNode.current.memoizedState.isDehydrated){s.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}s.blockedOn=null}function bi(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var y=il(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(y===null){y=s.nativeEvent;var k=new y.constructor(y.type,y);Yl=k,y.target.dispatchEvent(k),Yl=null}else return c=Oi(y),c!==null&&xo(c),s.blockedOn=y,!1;c.shift()}return!0}function rl(s,c,y){bi(s)&&y.delete(c)}function ds(){us=!1,ri!==null&&bi(ri)&&(ri=null),Ji!==null&&bi(Ji)&&(Ji=null),xi!==null&&bi(xi)&&(xi=null),cs.forEach(rl),It.forEach(rl)}function kn(s,c){s.blockedOn===c&&(s.blockedOn=null,us||(us=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ds)))}function ii(s){function c(D){return kn(D,s)}if(0<Ma.length){kn(Ma[0],s);for(var y=1;y<Ma.length;y++){var k=Ma[y];k.blockedOn===s&&(k.blockedOn=null)}}for(ri!==null&&kn(ri,s),Ji!==null&&kn(Ji,s),xi!==null&&kn(xi,s),cs.forEach(c),It.forEach(c),y=0;y<Gn.length;y++)k=Gn[y],k.blockedOn===s&&(k.blockedOn=null);for(;0<Gn.length&&(y=Gn[0],y.blockedOn===null);)Xi(y),y.blockedOn===null&&Gn.shift()}var Qo=X.ReactCurrentBatchConfig,fs=!0;function Cd(s,c,y,k){var D=Qt,O=Qo.transition;Qo.transition=null;try{Qt=1,hs(s,c,y,k)}finally{Qt=D,Qo.transition=O}}function mc(s,c,y,k){var D=Qt,O=Qo.transition;Qo.transition=null;try{Qt=4,hs(s,c,y,k)}finally{Qt=D,Qo.transition=O}}function hs(s,c,y,k){if(fs){var D=il(s,c,y,k);if(D===null)l(s,c,k,ea,y),uu(s,k);else if(cu(D,s,c,y,k))k.stopPropagation();else if(uu(s,k),c&4&&-1<un.indexOf(s)){for(;D!==null;){var O=Oi(D);if(O!==null&&el(O),O=il(s,c,y,k),O===null&&l(s,c,k,ea,y),O===D)break;D=O}D!==null&&k.stopPropagation()}else l(s,c,k,null,y)}}var ea=null;function il(s,c,y,k){if(ea=null,s=Jl(k),s=sa(s),s!==null)if(c=vo(s),c===null)s=null;else if(y=c.tag,y===13){if(s=Jo(c),s!==null)return s;s=null}else if(y===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return ea=s,null}function Ht(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wd()){case au:return 1;case hc:return 4;case Xs:case su:return 16;case wa:return 536870912;default:return 16}default:return 16}}var Qi=null,Bt=null,wi=null;function Sa(){if(wi)return wi;var s,c=Bt,y=c.length,k,D="value"in Qi?Qi.value:Qi.textContent,O=D.length;for(s=0;s<y&&c[s]===D[s];s++);var H=y-s;for(k=1;k<=H&&c[y-k]===D[O-k];k++);return wi=D.slice(s,1<k?1-k:void 0)}function ol(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function ta(){return!0}function gc(){return!1}function er(s){function c(y,k,D,O,H){this._reactName=y,this._targetInst=D,this.type=k,this.nativeEvent=O,this.target=H,this.currentTarget=null;for(var ae in s)s.hasOwnProperty(ae)&&(y=s[ae],this[ae]=y?y(O):O[ae]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?ta:gc,this.isPropagationStopped=gc,this}return xe(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),c}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=er(eo),br=xe({},eo,{view:0,detail:0}),yc=er(br),qn,fu,Ta,oi=xe({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ta&&(Ta&&s.type==="mousemove"?(qn=s.screenX-Ta.screenX,fu=s.screenY-Ta.screenY):fu=qn=0,Ta=s),qn)},movementY:function(s){return"movementY"in s?s.movementY:fu}}),hu=er(oi),vc=xe({},oi,{dataTransfer:0}),pu=er(vc),Ld=xe({},br,{relatedTarget:0}),al=er(Ld),mu=xe({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ed=er(mu),Hn=xe({},eo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),tr=er(Hn),_c=xe({},eo,{data:0}),bo=er(_c),na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kd(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=wr[s])?!!c[s]:!1}function ra(){return kd}var Cr=xe({},br,{key:function(s){if(s.key){var c=na[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=ol(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?wo[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(s){return s.type==="keypress"?ol(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ol(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Vr=er(Cr),gu=xe({},oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ps=er(gu),yu=xe({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),Gr=er(yu),Ci=xe({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),sl=er(Ci),vu=xe({},oi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),_u=er(vu),dr=[9,13,27,32],Co=u&&"CompositionEvent"in window,ms=null;u&&"documentMode"in document&&(ms=document.documentMode);var ai=u&&"TextEvent"in window&&!ms,xc=u&&(!Co||ms&&8<ms&&11>=ms),ia=" ",bc=!1;function Pa(s,c){switch(s){case"keyup":return dr.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gs(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var to=!1;function Md(s,c){switch(s){case"compositionend":return gs(c);case"keypress":return c.which!==32?null:(bc=!0,ia);case"textInput":return s=c.data,s===ia&&bc?null:s;default:return null}}function no(s,c){if(to)return s==="compositionend"||!Co&&Pa(s,c)?(s=Sa(),wi=Bt=Qi=null,to=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return xc&&c.locale!=="ko"?null:c.data;default:return null}}var Li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xu(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Li[s.type]:c==="textarea"}function ll(s,c,y,k){sc(k),c=C(c,"onChange"),0<c.length&&(y=new du("onChange","change",null,y,k),s.push({event:y,listeners:c}))}var si=null,Ir=null;function Sd(s){Ti(s,0)}function li(s){var c=So(s);if(He(c))return s}function ys(s,c){if(s==="change")return c}var Ei=!1;if(u){var Aa;if(u){var ul="oninput"in document;if(!ul){var vs=document.createElement("div");vs.setAttribute("oninput","return;"),ul=typeof vs.oninput=="function"}Aa=ul}else Aa=!1;Ei=Aa&&(!document.documentMode||9<document.documentMode)}function _s(){si&&(si.detachEvent("onpropertychange",xs),Ir=si=null)}function xs(s){if(s.propertyName==="value"&&li(Ir)){var c=[];ll(c,Ir,s,Jl(s)),Ks(Sd,c)}}function cl(s,c,y){s==="focusin"?(_s(),si=c,Ir=y,si.attachEvent("onpropertychange",xs)):s==="focusout"&&_s()}function Da(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return li(Ir)}function dl(s,c){if(s==="click")return li(c)}function fl(s,c){if(s==="input"||s==="change")return li(c)}function hl(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var qr=typeof Object.is=="function"?Object.is:hl;function ki(s,c){if(qr(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var y=Object.keys(s),k=Object.keys(c);if(y.length!==k.length)return!1;for(k=0;k<y.length;k++){var D=y[k];if(!f.call(c,D)||!qr(s[D],c[D]))return!1}return!0}function wc(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ia(s,c){var y=wc(s);s=0;for(var k;y;){if(y.nodeType===3){if(k=s+y.textContent.length,s<=c&&k>=c)return{node:y,offset:c-s};s=k}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=wc(y)}}function bu(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?bu(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function wu(){for(var s=window,c=gn();c instanceof s.HTMLIFrameElement;){try{var y=typeof c.contentWindow.location.href=="string"}catch{y=!1}if(y)s=c.contentWindow;else break;c=gn(s.document)}return c}function Cu(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function Mi(s){var c=wu(),y=s.focusedElem,k=s.selectionRange;if(c!==y&&y&&y.ownerDocument&&bu(y.ownerDocument.documentElement,y)){if(k!==null&&Cu(y)){if(c=k.start,s=k.end,s===void 0&&(s=c),"selectionStart"in y)y.selectionStart=c,y.selectionEnd=Math.min(s,y.value.length);else if(s=(c=y.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var D=y.textContent.length,O=Math.min(k.start,D);k=k.end===void 0?O:Math.min(k.end,D),!s.extend&&O>k&&(D=k,k=O,O=D),D=Ia(y,O);var H=Ia(y,k);D&&H&&(s.rangeCount!==1||s.anchorNode!==D.node||s.anchorOffset!==D.offset||s.focusNode!==H.node||s.focusOffset!==H.offset)&&(c=c.createRange(),c.setStart(D.node,D.offset),s.removeAllRanges(),O>k?(s.addRange(c),s.extend(H.node,H.offset)):(c.setEnd(H.node,H.offset),s.addRange(c)))}}for(c=[],s=y;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<c.length;y++)s=c[y],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Lo=u&&"documentMode"in document&&11>=document.documentMode,Oa=null,Ba=null,bs=null,pl=!1;function Cc(s,c,y){var k=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;pl||Oa==null||Oa!==gn(k)||(k=Oa,"selectionStart"in k&&Cu(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),bs&&ki(bs,k)||(bs=k,k=C(Ba,"onSelect"),0<k.length&&(c=new du("onSelect","select",null,c,y),s.push({event:c,listeners:k}),c.target=Oa)))}function Eo(s,c){var y={};return y[s.toLowerCase()]=c.toLowerCase(),y["Webkit"+s]="webkit"+c,y["Moz"+s]="moz"+c,y}var Na={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionend:Eo("Transition","TransitionEnd")},ko={},ml={};u&&(ml=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function oa(s){if(ko[s])return ko[s];if(!Na[s])return s;var c=Na[s],y;for(y in c)if(c.hasOwnProperty(y)&&y in ml)return ko[s]=c[y];return s}var Lc=oa("animationend"),Si=oa("animationiteration"),gl=oa("animationstart"),ws=oa("transitionend"),Ra=new Map,Ec="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(s,c){Ra.set(s,c),o(c,[s])}for(var Fn=0;Fn<Ec.length;Fn++){var Wn=Ec[Fn],Lu=Wn.toLowerCase(),ui=Wn[0].toUpperCase()+Wn.slice(1);Or(Lu,"on"+ui)}Or(Lc,"onAnimationEnd"),Or(Si,"onAnimationIteration"),Or(gl,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(ws,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tt));function Cs(s,c,y){var k=s.type||"unknown-event";s.currentTarget=y,ru(k,c,void 0,s),s.currentTarget=null}function Ti(s,c){c=(c&4)!==0;for(var y=0;y<s.length;y++){var k=s[y],D=k.event;k=k.listeners;e:{var O=void 0;if(c)for(var H=k.length-1;0<=H;H--){var ae=k[H],he=ae.instance,Be=ae.currentTarget;if(ae=ae.listener,he!==O&&D.isPropagationStopped())break e;Cs(D,ae,Be),O=he}else for(H=0;H<k.length;H++){if(ae=k[H],he=ae.instance,Be=ae.currentTarget,ae=ae.listener,he!==O&&D.isPropagationStopped())break e;Cs(D,ae,Be),O=he}}}if(is)throw s=Ys,is=!1,Ys=null,s}function Nt(s,c){var y=c[aa];y===void 0&&(y=c[aa]=new Set);var k=s+"__bubble";y.has(k)||(Mo(c,s,2,!1),y.add(k))}function vl(s,c,y){var k=0;c&&(k|=4),Mo(y,s,k,c)}var nr="_reactListening"+Math.random().toString(36).slice(2);function Zn(s){if(!s[nr]){s[nr]=!0,r.forEach(function(y){y!=="selectionchange"&&(yl.has(y)||vl(y,!1,s),vl(y,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[nr]||(c[nr]=!0,vl("selectionchange",!1,c))}}function Mo(s,c,y,k){switch(Ht(c)){case 1:var D=Cd;break;case 4:D=mc;break;default:D=hs}y=D.bind(null,c,y,s),D=void 0,!tu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(D=!0),k?D!==void 0?s.addEventListener(c,y,{capture:!0,passive:D}):s.addEventListener(c,y,!0):D!==void 0?s.addEventListener(c,y,{passive:D}):s.addEventListener(c,y,!1)}function l(s,c,y,k,D){var O=k;if((c&1)===0&&(c&2)===0&&k!==null)e:for(;;){if(k===null)return;var H=k.tag;if(H===3||H===4){var ae=k.stateNode.containerInfo;if(ae===D||ae.nodeType===8&&ae.parentNode===D)break;if(H===4)for(H=k.return;H!==null;){var he=H.tag;if((he===3||he===4)&&(he=H.stateNode.containerInfo,he===D||he.nodeType===8&&he.parentNode===D))return;H=H.return}for(;ae!==null;){if(H=sa(ae),H===null)return;if(he=H.tag,he===5||he===6){k=O=H;continue e}ae=ae.parentNode}}k=k.return}Ks(function(){var Be=O,Ye=Jl(y),Je=[];e:{var We=Ra.get(s);if(We!==void 0){var ut=du,pt=s;switch(s){case"keypress":if(ol(y)===0)break e;case"keydown":case"keyup":ut=Vr;break;case"focusin":pt="focus",ut=al;break;case"focusout":pt="blur",ut=al;break;case"beforeblur":case"afterblur":ut=al;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Gr;break;case Lc:case Si:case gl:ut=Ed;break;case ws:ut=sl;break;case"scroll":ut=yc;break;case"wheel":ut=_u;break;case"copy":case"cut":case"paste":ut=tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=ps}var _t=(c&4)!==0,Jn=!_t&&s==="scroll",Me=_t?We!==null?We+"Capture":null:We;_t=[];for(var ge=Be,De;ge!==null;){De=ge;var Qe=De.stateNode;if(De.tag===5&&Qe!==null&&(De=Qe,Me!==null&&(Qe=ba(ge,Me),Qe!=null&&_t.push(g(ge,Qe,De)))),Jn)break;ge=ge.return}0<_t.length&&(We=new ut(We,pt,null,y,Ye),Je.push({event:We,listeners:_t}))}}if((c&7)===0){e:{if(We=s==="mouseover"||s==="pointerover",ut=s==="mouseout"||s==="pointerout",We&&y!==Yl&&(pt=y.relatedTarget||y.fromElement)&&(sa(pt)||pt[tn]))break e;if((ut||We)&&(We=Ye.window===Ye?Ye:(We=Ye.ownerDocument)?We.defaultView||We.parentWindow:window,ut?(pt=y.relatedTarget||y.toElement,ut=Be,pt=pt?sa(pt):null,pt!==null&&(Jn=vo(pt),pt!==Jn||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(ut=null,pt=Be),ut!==pt)){if(_t=hu,Qe="onMouseLeave",Me="onMouseEnter",ge="mouse",(s==="pointerout"||s==="pointerover")&&(_t=ps,Qe="onPointerLeave",Me="onPointerEnter",ge="pointer"),Jn=ut==null?We:So(ut),De=pt==null?We:So(pt),We=new _t(Qe,ge+"leave",ut,y,Ye),We.target=Jn,We.relatedTarget=De,Qe=null,sa(Ye)===Be&&(_t=new _t(Me,ge+"enter",pt,y,Ye),_t.target=De,_t.relatedTarget=Jn,Qe=_t),Jn=Qe,ut&&pt)t:{for(_t=ut,Me=pt,ge=0,De=_t;De;De=T(De))ge++;for(De=0,Qe=Me;Qe;Qe=T(Qe))De++;for(;0<ge-De;)_t=T(_t),ge--;for(;0<De-ge;)Me=T(Me),De--;for(;ge--;){if(_t===Me||Me!==null&&_t===Me.alternate)break t;_t=T(_t),Me=T(Me)}_t=null}else _t=null;ut!==null&&F(Je,We,ut,_t,!1),pt!==null&&Jn!==null&&F(Je,Jn,pt,_t,!0)}}e:{if(We=Be?So(Be):window,ut=We.nodeName&&We.nodeName.toLowerCase(),ut==="select"||ut==="input"&&We.type==="file")var bt=ys;else if(xu(We))if(Ei)bt=fl;else{bt=Da;var Pt=cl}else(ut=We.nodeName)&&ut.toLowerCase()==="input"&&(We.type==="checkbox"||We.type==="radio")&&(bt=dl);if(bt&&(bt=bt(s,Be))){ll(Je,bt,y,Ye);break e}Pt&&Pt(s,We,Be),s==="focusout"&&(Pt=We._wrapperState)&&Pt.controlled&&We.type==="number"&&ei(We,"number",We.value)}switch(Pt=Be?So(Be):window,s){case"focusin":(xu(Pt)||Pt.contentEditable==="true")&&(Oa=Pt,Ba=Be,bs=null);break;case"focusout":bs=Ba=Oa=null;break;case"mousedown":pl=!0;break;case"contextmenu":case"mouseup":case"dragend":pl=!1,Cc(Je,y,Ye);break;case"selectionchange":if(Lo)break;case"keydown":case"keyup":Cc(Je,y,Ye)}var At;if(Co)e:{switch(s){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else to?Pa(s,y)&&(Rt="onCompositionEnd"):s==="keydown"&&y.keyCode===229&&(Rt="onCompositionStart");Rt&&(xc&&y.locale!=="ko"&&(to||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&to&&(At=Sa()):(Qi=Ye,Bt="value"in Qi?Qi.value:Qi.textContent,to=!0)),Pt=C(Be,Rt),0<Pt.length&&(Rt=new bo(Rt,s,null,y,Ye),Je.push({event:Rt,listeners:Pt}),At?Rt.data=At:(At=gs(y),At!==null&&(Rt.data=At)))),(At=ai?Md(s,y):no(s,y))&&(Be=C(Be,"onBeforeInput"),0<Be.length&&(Ye=new bo("onBeforeInput","beforeinput",null,y,Ye),Je.push({event:Ye,listeners:Be}),Ye.data=At))}Ti(Je,c)})}function g(s,c,y){return{instance:s,listener:c,currentTarget:y}}function C(s,c){for(var y=c+"Capture",k=[];s!==null;){var D=s,O=D.stateNode;D.tag===5&&O!==null&&(D=O,O=ba(s,y),O!=null&&k.unshift(g(s,O,D)),O=ba(s,c),O!=null&&k.push(g(s,O,D))),s=s.return}return k}function T(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function F(s,c,y,k,D){for(var O=c._reactName,H=[];y!==null&&y!==k;){var ae=y,he=ae.alternate,Be=ae.stateNode;if(he!==null&&he===k)break;ae.tag===5&&Be!==null&&(ae=Be,D?(he=ba(y,O),he!=null&&H.unshift(g(y,he,ae))):D||(he=ba(y,O),he!=null&&H.push(g(y,he,ae)))),y=y.return}H.length!==0&&s.push({event:c,listeners:H})}var W=/\r\n?/g,le=/\u0000|\uFFFD/g;function we(s){return(typeof s=="string"?s:""+s).replace(W,`
`).replace(le,"")}function Oe(s,c,y){if(c=we(c),we(s)!==c&&y)throw Error(n(425))}function ze(){}var ot=null,Et=null;function Vt(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Kn=typeof setTimeout=="function"?setTimeout:void 0,zn=typeof clearTimeout=="function"?clearTimeout:void 0,fr=typeof Promise=="function"?Promise:void 0,bn=typeof queueMicrotask=="function"?queueMicrotask:typeof fr<"u"?function(s){return fr.resolve(null).then(s).catch(Pi)}:Kn;function Pi(s){setTimeout(function(){throw s})}function Ls(s,c){var y=c,k=0;do{var D=y.nextSibling;if(s.removeChild(y),D&&D.nodeType===8)if(y=D.data,y==="/$"){if(k===0){s.removeChild(D),ii(c);return}k--}else y!=="$"&&y!=="$?"&&y!=="$!"||k++;y=D}while(y);ii(c)}function ci(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function Eu(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var y=s.data;if(y==="$"||y==="$!"||y==="$?"){if(c===0)return s;c--}else y==="/$"&&c++}s=s.previousSibling}return null}var Ai=Math.random().toString(36).slice(2),Di="__reactFiber$"+Ai,Fa="__reactProps$"+Ai,tn="__reactContainer$"+Ai,aa="__reactEvents$"+Ai,Td="__reactListeners$"+Ai,Ii="__reactHandles$"+Ai;function sa(s){var c=s[Di];if(c)return c;for(var y=s.parentNode;y;){if(c=y[tn]||y[Di]){if(y=c.alternate,c.child!==null||y!==null&&y.child!==null)for(s=Eu(s);s!==null;){if(y=s[Di])return y;s=Eu(s)}return c}s=y,y=s.parentNode}return null}function Oi(s){return s=s[Di]||s[tn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function So(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function _l(s){return s[Fa]||null}var kc=[],xl=-1;function la(s){return{current:s}}function yn(s){0>xl||(s.current=kc[xl],kc[xl]=null,xl--)}function hn(s,c){xl++,kc[xl]=s.current,s.current=c}var za={},jn=la(za),hr=la(!1),Es=za;function bl(s,c){var y=s.type.contextTypes;if(!y)return za;var k=s.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===c)return k.__reactInternalMemoizedMaskedChildContext;var D={},O;for(O in y)D[O]=c[O];return k&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=D),D}function pr(s){return s=s.childContextTypes,s!=null}function ks(){yn(hr),yn(jn)}function Pd(s,c,y){if(jn.current!==za)throw Error(n(168));hn(jn,c),hn(hr,y)}function Wf(s,c,y){var k=s.stateNode;if(c=c.childContextTypes,typeof k.getChildContext!="function")return y;k=k.getChildContext();for(var D in k)if(!(D in c))throw Error(n(108,Mt(s)||"Unknown",D));return xe({},y,k)}function Mc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||za,Es=jn.current,hn(jn,s),hn(hr,hr.current),!0}function Ad(s,c,y){var k=s.stateNode;if(!k)throw Error(n(169));y?(s=Wf(s,c,Es),k.__reactInternalMemoizedMergedChildContext=s,yn(hr),yn(jn),hn(jn,s)):yn(hr),hn(hr,y)}var To=null,Sc=!1,Dd=!1;function Id(s){To===null?To=[s]:To.push(s)}function Cm(s){Sc=!0,Id(s)}function ja(){if(!Dd&&To!==null){Dd=!0;var s=0,c=Qt;try{var y=To;for(Qt=1;s<y.length;s++){var k=y[s];do k=k(!0);while(k!==null)}To=null,Sc=!1}catch(D){throw To!==null&&(To=To.slice(s+1)),fc(au,ja),D}finally{Qt=c,Dd=!1}}return null}var wl=[],Cl=0,Tc=null,Pc=0,di=[],mr=0,Po=null,ua=1,ca="";function Ms(s,c){wl[Cl++]=Pc,wl[Cl++]=Tc,Tc=s,Pc=c}function Yn(s,c,y){di[mr++]=ua,di[mr++]=ca,di[mr++]=Po,Po=s;var k=ua;s=ca;var D=32-zt(k)-1;k&=~(1<<D),y+=1;var O=32-zt(c)+D;if(30<O){var H=D-D%5;O=(k&(1<<H)-1).toString(32),k>>=H,D-=H,ua=1<<32-zt(c)+D|y<<D|k,ca=O+s}else ua=1<<O|y<<D|k,ca=s}function Ao(s){s.return!==null&&(Ms(s,1),Yn(s,1,0))}function Od(s){for(;s===Tc;)Tc=wl[--Cl],wl[Cl]=null,Pc=wl[--Cl],wl[Cl]=null;for(;s===Po;)Po=di[--mr],di[mr]=null,ca=di[--mr],di[mr]=null,ua=di[--mr],di[mr]=null}var fi=null,Br=null,wn=!1,ro=null;function Zf(s,c){var y=Oo(5,null,null,0);y.elementType="DELETED",y.stateNode=c,y.return=s,c=s.deletions,c===null?(s.deletions=[y],s.flags|=16):c.push(y)}function Bd(s,c){switch(s.tag){case 5:var y=s.type;return c=c.nodeType!==1||y.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,fi=s,Br=ci(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,fi=s,Br=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(y=Po!==null?{id:ua,overflow:ca}:null,s.memoizedState={dehydrated:c,treeContext:y,retryLane:1073741824},y=Oo(18,null,null,0),y.stateNode=c,y.return=s,s.child=y,fi=s,Br=null,!0):!1;default:return!1}}function Ac(s){return(s.mode&1)!==0&&(s.flags&128)===0}function d(s){if(wn){var c=Br;if(c){var y=c;if(!Bd(s,c)){if(Ac(s))throw Error(n(418));c=ci(y.nextSibling);var k=fi;c&&Bd(s,c)?Zf(k,y):(s.flags=s.flags&-4097|2,wn=!1,fi=s)}}else{if(Ac(s))throw Error(n(418));s.flags=s.flags&-4097|2,wn=!1,fi=s}}}function p(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;fi=s}function v(s){if(s!==fi)return!1;if(!wn)return p(s),wn=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!Vt(s.type,s.memoizedProps)),c&&(c=Br)){if(Ac(s))throw x(),Error(n(418));for(;c;)Zf(s,c),c=ci(c.nextSibling)}if(p(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var y=s.data;if(y==="/$"){if(c===0){Br=ci(s.nextSibling);break e}c--}else y!=="$"&&y!=="$!"&&y!=="$?"||c++}s=s.nextSibling}Br=null}}else Br=fi?ci(s.stateNode.nextSibling):null;return!0}function x(){for(var s=Br;s;)s=ci(s.nextSibling)}function M(){Br=fi=null,wn=!1}function P(s){ro===null?ro=[s]:ro.push(s)}var B=X.ReactCurrentBatchConfig;function R(s,c,y){if(s=y.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(n(309));var k=y.stateNode}if(!k)throw Error(n(147,s));var D=k,O=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===O?c.ref:(c=function(H){var ae=D.refs;H===null?delete ae[O]:ae[O]=H},c._stringRef=O,c)}if(typeof s!="string")throw Error(n(284));if(!y._owner)throw Error(n(290,s))}return s}function j(s,c){throw s=Object.prototype.toString.call(c),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function q(s){var c=s._init;return c(s._payload)}function oe(s){function c(Me,ge){if(s){var De=Me.deletions;De===null?(Me.deletions=[ge],Me.flags|=16):De.push(ge)}}function y(Me,ge){if(!s)return null;for(;ge!==null;)c(Me,ge),ge=ge.sibling;return null}function k(Me,ge){for(Me=new Map;ge!==null;)ge.key!==null?Me.set(ge.key,ge):Me.set(ge.index,ge),ge=ge.sibling;return Me}function D(Me,ge){return Me=Pl(Me,ge),Me.index=0,Me.sibling=null,Me}function O(Me,ge,De){return Me.index=De,s?(De=Me.alternate,De!==null?(De=De.index,De<ge?(Me.flags|=2,ge):De):(Me.flags|=2,ge)):(Me.flags|=1048576,ge)}function H(Me){return s&&Me.alternate===null&&(Me.flags|=2),Me}function ae(Me,ge,De,Qe){return ge===null||ge.tag!==6?(ge=rg(De,Me.mode,Qe),ge.return=Me,ge):(ge=D(ge,De),ge.return=Me,ge)}function he(Me,ge,De,Qe){var bt=De.type;return bt===se?Ye(Me,ge,De.props.children,Qe,De.key):ge!==null&&(ge.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Xe&&q(bt)===ge.type)?(Qe=D(ge,De.props),Qe.ref=R(Me,ge,De),Qe.return=Me,Qe):(Qe=fh(De.type,De.key,De.props,null,Me.mode,Qe),Qe.ref=R(Me,ge,De),Qe.return=Me,Qe)}function Be(Me,ge,De,Qe){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==De.containerInfo||ge.stateNode.implementation!==De.implementation?(ge=ig(De,Me.mode,Qe),ge.return=Me,ge):(ge=D(ge,De.children||[]),ge.return=Me,ge)}function Ye(Me,ge,De,Qe,bt){return ge===null||ge.tag!==7?(ge=Au(De,Me.mode,Qe,bt),ge.return=Me,ge):(ge=D(ge,De),ge.return=Me,ge)}function Je(Me,ge,De){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=rg(""+ge,Me.mode,De),ge.return=Me,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case te:return De=fh(ge.type,ge.key,ge.props,null,Me.mode,De),De.ref=R(Me,null,ge),De.return=Me,De;case ne:return ge=ig(ge,Me.mode,De),ge.return=Me,ge;case Xe:var Qe=ge._init;return Je(Me,Qe(ge._payload),De)}if(Zi(ge)||nt(ge))return ge=Au(ge,Me.mode,De,null),ge.return=Me,ge;j(Me,ge)}return null}function We(Me,ge,De,Qe){var bt=ge!==null?ge.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return bt!==null?null:ae(Me,ge,""+De,Qe);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case te:return De.key===bt?he(Me,ge,De,Qe):null;case ne:return De.key===bt?Be(Me,ge,De,Qe):null;case Xe:return bt=De._init,We(Me,ge,bt(De._payload),Qe)}if(Zi(De)||nt(De))return bt!==null?null:Ye(Me,ge,De,Qe,null);j(Me,De)}return null}function ut(Me,ge,De,Qe,bt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return Me=Me.get(De)||null,ae(ge,Me,""+Qe,bt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case te:return Me=Me.get(Qe.key===null?De:Qe.key)||null,he(ge,Me,Qe,bt);case ne:return Me=Me.get(Qe.key===null?De:Qe.key)||null,Be(ge,Me,Qe,bt);case Xe:var Pt=Qe._init;return ut(Me,ge,De,Pt(Qe._payload),bt)}if(Zi(Qe)||nt(Qe))return Me=Me.get(De)||null,Ye(ge,Me,Qe,bt,null);j(ge,Qe)}return null}function pt(Me,ge,De,Qe){for(var bt=null,Pt=null,At=ge,Rt=ge=0,kr=null;At!==null&&Rt<De.length;Rt++){At.index>Rt?(kr=At,At=null):kr=At.sibling;var on=We(Me,At,De[Rt],Qe);if(on===null){At===null&&(At=kr);break}s&&At&&on.alternate===null&&c(Me,At),ge=O(on,ge,Rt),Pt===null?bt=on:Pt.sibling=on,Pt=on,At=kr}if(Rt===De.length)return y(Me,At),wn&&Ms(Me,Rt),bt;if(At===null){for(;Rt<De.length;Rt++)At=Je(Me,De[Rt],Qe),At!==null&&(ge=O(At,ge,Rt),Pt===null?bt=At:Pt.sibling=At,Pt=At);return wn&&Ms(Me,Rt),bt}for(At=k(Me,At);Rt<De.length;Rt++)kr=ut(At,Me,Rt,De[Rt],Qe),kr!==null&&(s&&kr.alternate!==null&&At.delete(kr.key===null?Rt:kr.key),ge=O(kr,ge,Rt),Pt===null?bt=kr:Pt.sibling=kr,Pt=kr);return s&&At.forEach(function(Al){return c(Me,Al)}),wn&&Ms(Me,Rt),bt}function _t(Me,ge,De,Qe){var bt=nt(De);if(typeof bt!="function")throw Error(n(150));if(De=bt.call(De),De==null)throw Error(n(151));for(var Pt=bt=null,At=ge,Rt=ge=0,kr=null,on=De.next();At!==null&&!on.done;Rt++,on=De.next()){At.index>Rt?(kr=At,At=null):kr=At.sibling;var Al=We(Me,At,on.value,Qe);if(Al===null){At===null&&(At=kr);break}s&&At&&Al.alternate===null&&c(Me,At),ge=O(Al,ge,Rt),Pt===null?bt=Al:Pt.sibling=Al,Pt=Al,At=kr}if(on.done)return y(Me,At),wn&&Ms(Me,Rt),bt;if(At===null){for(;!on.done;Rt++,on=De.next())on=Je(Me,on.value,Qe),on!==null&&(ge=O(on,ge,Rt),Pt===null?bt=on:Pt.sibling=on,Pt=on);return wn&&Ms(Me,Rt),bt}for(At=k(Me,At);!on.done;Rt++,on=De.next())on=ut(At,Me,Rt,on.value,Qe),on!==null&&(s&&on.alternate!==null&&At.delete(on.key===null?Rt:on.key),ge=O(on,ge,Rt),Pt===null?bt=on:Pt.sibling=on,Pt=on);return s&&At.forEach(function(fA){return c(Me,fA)}),wn&&Ms(Me,Rt),bt}function Jn(Me,ge,De,Qe){if(typeof De=="object"&&De!==null&&De.type===se&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case te:e:{for(var bt=De.key,Pt=ge;Pt!==null;){if(Pt.key===bt){if(bt=De.type,bt===se){if(Pt.tag===7){y(Me,Pt.sibling),ge=D(Pt,De.props.children),ge.return=Me,Me=ge;break e}}else if(Pt.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Xe&&q(bt)===Pt.type){y(Me,Pt.sibling),ge=D(Pt,De.props),ge.ref=R(Me,Pt,De),ge.return=Me,Me=ge;break e}y(Me,Pt);break}else c(Me,Pt);Pt=Pt.sibling}De.type===se?(ge=Au(De.props.children,Me.mode,Qe,De.key),ge.return=Me,Me=ge):(Qe=fh(De.type,De.key,De.props,null,Me.mode,Qe),Qe.ref=R(Me,ge,De),Qe.return=Me,Me=Qe)}return H(Me);case ne:e:{for(Pt=De.key;ge!==null;){if(ge.key===Pt)if(ge.tag===4&&ge.stateNode.containerInfo===De.containerInfo&&ge.stateNode.implementation===De.implementation){y(Me,ge.sibling),ge=D(ge,De.children||[]),ge.return=Me,Me=ge;break e}else{y(Me,ge);break}else c(Me,ge);ge=ge.sibling}ge=ig(De,Me.mode,Qe),ge.return=Me,Me=ge}return H(Me);case Xe:return Pt=De._init,Jn(Me,ge,Pt(De._payload),Qe)}if(Zi(De))return pt(Me,ge,De,Qe);if(nt(De))return _t(Me,ge,De,Qe);j(Me,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,ge!==null&&ge.tag===6?(y(Me,ge.sibling),ge=D(ge,De),ge.return=Me,Me=ge):(y(Me,ge),ge=rg(De,Me.mode,Qe),ge.return=Me,Me=ge),H(Me)):y(Me,ge)}return Jn}var re=oe(!0),Ee=oe(!1),Ae=la(null),Ve=null,tt=null,lt=null;function Wt(){lt=tt=Ve=null}function ie(s){var c=Ae.current;yn(Ae),s._currentValue=c}function ue(s,c,y){for(;s!==null;){var k=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,k!==null&&(k.childLanes|=c)):k!==null&&(k.childLanes&c)!==c&&(k.childLanes|=c),s===y)break;s=s.return}}function me(s,c){Ve=s,lt=tt=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&c)!==0&&(Ni=!0),s.firstContext=null)}function Se(s){var c=s._currentValue;if(lt!==s)if(s={context:s,memoizedValue:c,next:null},tt===null){if(Ve===null)throw Error(n(308));tt=s,Ve.dependencies={lanes:0,firstContext:s}}else tt=tt.next=s;return c}var ye=null;function Te(s){ye===null?ye=[s]:ye.push(s)}function U(s,c,y,k){var D=c.interleaved;return D===null?(y.next=y,Te(c)):(y.next=D.next,D.next=y),c.interleaved=y,K(s,k)}function K(s,c){s.lanes|=c;var y=s.alternate;for(y!==null&&(y.lanes|=c),y=s,s=s.return;s!==null;)s.childLanes|=c,y=s.alternate,y!==null&&(y.childLanes|=c),y=s,s=s.return;return y.tag===3?y.stateNode:null}var J=!1;function Y(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ee(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Q(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function ce(s,c,y){var k=s.updateQueue;if(k===null)return null;if(k=k.shared,(nn&2)!==0){var D=k.pending;return D===null?c.next=c:(c.next=D.next,D.next=c),k.pending=c,K(s,y)}return D=k.interleaved,D===null?(c.next=c,Te(k)):(c.next=D.next,D.next=c),k.interleaved=c,K(s,y)}function de(s,c,y){if(c=c.updateQueue,c!==null&&(c=c.shared,(y&4194240)!==0)){var k=c.lanes;k&=s.pendingLanes,y|=k,c.lanes=y,Yi(s,y)}}function pe(s,c){var y=s.updateQueue,k=s.alternate;if(k!==null&&(k=k.updateQueue,y===k)){var D=null,O=null;if(y=y.firstBaseUpdate,y!==null){do{var H={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};O===null?D=O=H:O=O.next=H,y=y.next}while(y!==null);O===null?D=O=c:O=O.next=c}else D=O=c;y={baseState:k.baseState,firstBaseUpdate:D,lastBaseUpdate:O,shared:k.shared,effects:k.effects},s.updateQueue=y;return}s=y.lastBaseUpdate,s===null?y.firstBaseUpdate=c:s.next=c,y.lastBaseUpdate=c}function be(s,c,y,k){var D=s.updateQueue;J=!1;var O=D.firstBaseUpdate,H=D.lastBaseUpdate,ae=D.shared.pending;if(ae!==null){D.shared.pending=null;var he=ae,Be=he.next;he.next=null,H===null?O=Be:H.next=Be,H=he;var Ye=s.alternate;Ye!==null&&(Ye=Ye.updateQueue,ae=Ye.lastBaseUpdate,ae!==H&&(ae===null?Ye.firstBaseUpdate=Be:ae.next=Be,Ye.lastBaseUpdate=he))}if(O!==null){var Je=D.baseState;H=0,Ye=Be=he=null,ae=O;do{var We=ae.lane,ut=ae.eventTime;if((k&We)===We){Ye!==null&&(Ye=Ye.next={eventTime:ut,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var pt=s,_t=ae;switch(We=c,ut=y,_t.tag){case 1:if(pt=_t.payload,typeof pt=="function"){Je=pt.call(ut,Je,We);break e}Je=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=_t.payload,We=typeof pt=="function"?pt.call(ut,Je,We):pt,We==null)break e;Je=xe({},Je,We);break e;case 2:J=!0}}ae.callback!==null&&ae.lane!==0&&(s.flags|=64,We=D.effects,We===null?D.effects=[ae]:We.push(ae))}else ut={eventTime:ut,lane:We,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Ye===null?(Be=Ye=ut,he=Je):Ye=Ye.next=ut,H|=We;if(ae=ae.next,ae===null){if(ae=D.shared.pending,ae===null)break;We=ae,ae=We.next,We.next=null,D.lastBaseUpdate=We,D.shared.pending=null}}while(!0);if(Ye===null&&(he=Je),D.baseState=he,D.firstBaseUpdate=Be,D.lastBaseUpdate=Ye,c=D.shared.interleaved,c!==null){D=c;do H|=D.lane,D=D.next;while(D!==c)}else O===null&&(D.shared.lanes=0);Mu|=H,s.lanes=H,s.memoizedState=Je}}function Ce(s,c,y){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var k=s[c],D=k.callback;if(D!==null){if(k.callback=null,k=y,typeof D!="function")throw Error(n(191,D));D.call(k)}}}var Fe={},rt=la(Fe),ct=la(Fe),xt=la(Fe);function Kt(s){if(s===Fe)throw Error(n(174));return s}function rn(s,c){switch(hn(xt,c),hn(ct,s),hn(rt,Fe),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:$n(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=$n(c,s)}yn(rt),hn(rt,c)}function Gt(){yn(rt),yn(ct),yn(xt)}function ln(s){Kt(xt.current);var c=Kt(rt.current),y=$n(c,s.type);c!==y&&(hn(ct,s),hn(rt,y))}function rr(s){ct.current===s&&(yn(rt),yn(ct))}var pn=la(0);function Ll(s){for(var c=s;c!==null;){if(c.tag===13){var y=c.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ku=[];function Bi(){for(var s=0;s<ku.length;s++)ku[s]._workInProgressVersionPrimary=null;ku.length=0}var Ua=X.ReactCurrentDispatcher,Hr=X.ReactCurrentBatchConfig,Bn=0,jt=null,gr=null,Lr=null,Kf=!1,Nd=!1,Rd=0,O4=0;function Wr(){throw Error(n(321))}function Lm(s,c){if(c===null)return!1;for(var y=0;y<c.length&&y<s.length;y++)if(!qr(s[y],c[y]))return!1;return!0}function Em(s,c,y,k,D,O){if(Bn=O,jt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Ua.current=s===null||s.memoizedState===null?F4:z4,s=y(k,D),Nd){O=0;do{if(Nd=!1,Rd=0,25<=O)throw Error(n(301));O+=1,Lr=gr=null,c.updateQueue=null,Ua.current=j4,s=y(k,D)}while(Nd)}if(Ua.current=Xf,c=gr!==null&&gr.next!==null,Bn=0,Lr=gr=jt=null,Kf=!1,c)throw Error(n(300));return s}function km(){var s=Rd!==0;return Rd=0,s}function $a(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?jt.memoizedState=Lr=s:Lr=Lr.next=s,Lr}function Do(){if(gr===null){var s=jt.alternate;s=s!==null?s.memoizedState:null}else s=gr.next;var c=Lr===null?jt.memoizedState:Lr.next;if(c!==null)Lr=c,gr=s;else{if(s===null)throw Error(n(310));gr=s,s={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Lr===null?jt.memoizedState=Lr=s:Lr=Lr.next=s}return Lr}function Fd(s,c){return typeof c=="function"?c(s):c}function Mm(s){var c=Do(),y=c.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=s;var k=gr,D=k.baseQueue,O=y.pending;if(O!==null){if(D!==null){var H=D.next;D.next=O.next,O.next=H}k.baseQueue=D=O,y.pending=null}if(D!==null){O=D.next,k=k.baseState;var ae=H=null,he=null,Be=O;do{var Ye=Be.lane;if((Bn&Ye)===Ye)he!==null&&(he=he.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),k=Be.hasEagerState?Be.eagerState:s(k,Be.action);else{var Je={lane:Ye,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};he===null?(ae=he=Je,H=k):he=he.next=Je,jt.lanes|=Ye,Mu|=Ye}Be=Be.next}while(Be!==null&&Be!==O);he===null?H=k:he.next=ae,qr(k,c.memoizedState)||(Ni=!0),c.memoizedState=k,c.baseState=H,c.baseQueue=he,y.lastRenderedState=k}if(s=y.interleaved,s!==null){D=s;do O=D.lane,jt.lanes|=O,Mu|=O,D=D.next;while(D!==s)}else D===null&&(y.lanes=0);return[c.memoizedState,y.dispatch]}function Sm(s){var c=Do(),y=c.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=s;var k=y.dispatch,D=y.pending,O=c.memoizedState;if(D!==null){y.pending=null;var H=D=D.next;do O=s(O,H.action),H=H.next;while(H!==D);qr(O,c.memoizedState)||(Ni=!0),c.memoizedState=O,c.baseQueue===null&&(c.baseState=O),y.lastRenderedState=O}return[O,k]}function cx(){}function dx(s,c){var y=jt,k=Do(),D=c(),O=!qr(k.memoizedState,D);if(O&&(k.memoizedState=D,Ni=!0),k=k.queue,Tm(px.bind(null,y,k,s),[s]),k.getSnapshot!==c||O||Lr!==null&&Lr.memoizedState.tag&1){if(y.flags|=2048,zd(9,hx.bind(null,y,k,D,c),void 0,null),Er===null)throw Error(n(349));(Bn&30)!==0||fx(y,c,D)}return D}function fx(s,c,y){s.flags|=16384,s={getSnapshot:c,value:y},c=jt.updateQueue,c===null?(c={lastEffect:null,stores:null},jt.updateQueue=c,c.stores=[s]):(y=c.stores,y===null?c.stores=[s]:y.push(s))}function hx(s,c,y,k){c.value=y,c.getSnapshot=k,mx(c)&&gx(s)}function px(s,c,y){return y(function(){mx(c)&&gx(s)})}function mx(s){var c=s.getSnapshot;s=s.value;try{var y=c();return!qr(s,y)}catch{return!0}}function gx(s){var c=K(s,1);c!==null&&pa(c,s,1,-1)}function yx(s){var c=$a();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fd,lastRenderedState:s},c.queue=s,s=s.dispatch=R4.bind(null,jt,s),[c.memoizedState,s]}function zd(s,c,y,k){return s={tag:s,create:c,destroy:y,deps:k,next:null},c=jt.updateQueue,c===null?(c={lastEffect:null,stores:null},jt.updateQueue=c,c.lastEffect=s.next=s):(y=c.lastEffect,y===null?c.lastEffect=s.next=s:(k=y.next,y.next=s,s.next=k,c.lastEffect=s)),s}function vx(){return Do().memoizedState}function Yf(s,c,y,k){var D=$a();jt.flags|=s,D.memoizedState=zd(1|c,y,void 0,k===void 0?null:k)}function Jf(s,c,y,k){var D=Do();k=k===void 0?null:k;var O=void 0;if(gr!==null){var H=gr.memoizedState;if(O=H.destroy,k!==null&&Lm(k,H.deps)){D.memoizedState=zd(c,y,O,k);return}}jt.flags|=s,D.memoizedState=zd(1|c,y,O,k)}function _x(s,c){return Yf(8390656,8,s,c)}function Tm(s,c){return Jf(2048,8,s,c)}function xx(s,c){return Jf(4,2,s,c)}function bx(s,c){return Jf(4,4,s,c)}function wx(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function Cx(s,c,y){return y=y!=null?y.concat([s]):null,Jf(4,4,wx.bind(null,c,s),y)}function Pm(){}function Lx(s,c){var y=Do();c=c===void 0?null:c;var k=y.memoizedState;return k!==null&&c!==null&&Lm(c,k[1])?k[0]:(y.memoizedState=[s,c],s)}function Ex(s,c){var y=Do();c=c===void 0?null:c;var k=y.memoizedState;return k!==null&&c!==null&&Lm(c,k[1])?k[0]:(s=s(),y.memoizedState=[s,c],s)}function kx(s,c,y){return(Bn&21)===0?(s.baseState&&(s.baseState=!1,Ni=!0),s.memoizedState=y):(qr(y,c)||(y=pc(),jt.lanes|=y,Mu|=y,s.baseState=!0),c)}function B4(s,c){var y=Qt;Qt=y!==0&&4>y?y:4,s(!0);var k=Hr.transition;Hr.transition={};try{s(!1),c()}finally{Qt=y,Hr.transition=k}}function Mx(){return Do().memoizedState}function N4(s,c,y){var k=Sl(s);if(y={lane:k,action:y,hasEagerState:!1,eagerState:null,next:null},Sx(s))Tx(c,y);else if(y=U(s,c,y,k),y!==null){var D=pi();pa(y,s,k,D),Px(y,c,k)}}function R4(s,c,y){var k=Sl(s),D={lane:k,action:y,hasEagerState:!1,eagerState:null,next:null};if(Sx(s))Tx(c,D);else{var O=s.alternate;if(s.lanes===0&&(O===null||O.lanes===0)&&(O=c.lastRenderedReducer,O!==null))try{var H=c.lastRenderedState,ae=O(H,y);if(D.hasEagerState=!0,D.eagerState=ae,qr(ae,H)){var he=c.interleaved;he===null?(D.next=D,Te(c)):(D.next=he.next,he.next=D),c.interleaved=D;return}}catch{}finally{}y=U(s,c,D,k),y!==null&&(D=pi(),pa(y,s,k,D),Px(y,c,k))}}function Sx(s){var c=s.alternate;return s===jt||c!==null&&c===jt}function Tx(s,c){Nd=Kf=!0;var y=s.pending;y===null?c.next=c:(c.next=y.next,y.next=c),s.pending=c}function Px(s,c,y){if((y&4194240)!==0){var k=c.lanes;k&=s.pendingLanes,y|=k,c.lanes=y,Yi(s,y)}}var Xf={readContext:Se,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},F4={readContext:Se,useCallback:function(s,c){return $a().memoizedState=[s,c===void 0?null:c],s},useContext:Se,useEffect:_x,useImperativeHandle:function(s,c,y){return y=y!=null?y.concat([s]):null,Yf(4194308,4,wx.bind(null,c,s),y)},useLayoutEffect:function(s,c){return Yf(4194308,4,s,c)},useInsertionEffect:function(s,c){return Yf(4,2,s,c)},useMemo:function(s,c){var y=$a();return c=c===void 0?null:c,s=s(),y.memoizedState=[s,c],s},useReducer:function(s,c,y){var k=$a();return c=y!==void 0?y(c):c,k.memoizedState=k.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},k.queue=s,s=s.dispatch=N4.bind(null,jt,s),[k.memoizedState,s]},useRef:function(s){var c=$a();return s={current:s},c.memoizedState=s},useState:yx,useDebugValue:Pm,useDeferredValue:function(s){return $a().memoizedState=s},useTransition:function(){var s=yx(!1),c=s[0];return s=B4.bind(null,s[1]),$a().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,y){var k=jt,D=$a();if(wn){if(y===void 0)throw Error(n(407));y=y()}else{if(y=c(),Er===null)throw Error(n(349));(Bn&30)!==0||fx(k,c,y)}D.memoizedState=y;var O={value:y,getSnapshot:c};return D.queue=O,_x(px.bind(null,k,O,s),[s]),k.flags|=2048,zd(9,hx.bind(null,k,O,y,c),void 0,null),y},useId:function(){var s=$a(),c=Er.identifierPrefix;if(wn){var y=ca,k=ua;y=(k&~(1<<32-zt(k)-1)).toString(32)+y,c=":"+c+"R"+y,y=Rd++,0<y&&(c+="H"+y.toString(32)),c+=":"}else y=O4++,c=":"+c+"r"+y.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},z4={readContext:Se,useCallback:Lx,useContext:Se,useEffect:Tm,useImperativeHandle:Cx,useInsertionEffect:xx,useLayoutEffect:bx,useMemo:Ex,useReducer:Mm,useRef:vx,useState:function(){return Mm(Fd)},useDebugValue:Pm,useDeferredValue:function(s){var c=Do();return kx(c,gr.memoizedState,s)},useTransition:function(){var s=Mm(Fd)[0],c=Do().memoizedState;return[s,c]},useMutableSource:cx,useSyncExternalStore:dx,useId:Mx,unstable_isNewReconciler:!1},j4={readContext:Se,useCallback:Lx,useContext:Se,useEffect:Tm,useImperativeHandle:Cx,useInsertionEffect:xx,useLayoutEffect:bx,useMemo:Ex,useReducer:Sm,useRef:vx,useState:function(){return Sm(Fd)},useDebugValue:Pm,useDeferredValue:function(s){var c=Do();return gr===null?c.memoizedState=s:kx(c,gr.memoizedState,s)},useTransition:function(){var s=Sm(Fd)[0],c=Do().memoizedState;return[s,c]},useMutableSource:cx,useSyncExternalStore:dx,useId:Mx,unstable_isNewReconciler:!1};function da(s,c){if(s&&s.defaultProps){c=xe({},c),s=s.defaultProps;for(var y in s)c[y]===void 0&&(c[y]=s[y]);return c}return c}function Am(s,c,y,k){c=s.memoizedState,y=y(k,c),y=y==null?c:xe({},c,y),s.memoizedState=y,s.lanes===0&&(s.updateQueue.baseState=y)}var Qf={isMounted:function(s){return(s=s._reactInternals)?vo(s)===s:!1},enqueueSetState:function(s,c,y){s=s._reactInternals;var k=pi(),D=Sl(s),O=Q(k,D);O.payload=c,y!=null&&(O.callback=y),c=ce(s,O,D),c!==null&&(pa(c,s,D,k),de(c,s,D))},enqueueReplaceState:function(s,c,y){s=s._reactInternals;var k=pi(),D=Sl(s),O=Q(k,D);O.tag=1,O.payload=c,y!=null&&(O.callback=y),c=ce(s,O,D),c!==null&&(pa(c,s,D,k),de(c,s,D))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var y=pi(),k=Sl(s),D=Q(y,k);D.tag=2,c!=null&&(D.callback=c),c=ce(s,D,k),c!==null&&(pa(c,s,k,y),de(c,s,k))}};function Ax(s,c,y,k,D,O,H){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(k,O,H):c.prototype&&c.prototype.isPureReactComponent?!ki(y,k)||!ki(D,O):!0}function Dx(s,c,y){var k=!1,D=za,O=c.contextType;return typeof O=="object"&&O!==null?O=Se(O):(D=pr(c)?Es:jn.current,k=c.contextTypes,O=(k=k!=null)?bl(s,D):za),c=new c(y,O),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Qf,s.stateNode=c,c._reactInternals=s,k&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=D,s.__reactInternalMemoizedMaskedChildContext=O),c}function Ix(s,c,y,k){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(y,k),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(y,k),c.state!==s&&Qf.enqueueReplaceState(c,c.state,null)}function Dm(s,c,y,k){var D=s.stateNode;D.props=y,D.state=s.memoizedState,D.refs={},Y(s);var O=c.contextType;typeof O=="object"&&O!==null?D.context=Se(O):(O=pr(c)?Es:jn.current,D.context=bl(s,O)),D.state=s.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(Am(s,c,O,y),D.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(c=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),c!==D.state&&Qf.enqueueReplaceState(D,D.state,null),be(s,y,D,k),D.state=s.memoizedState),typeof D.componentDidMount=="function"&&(s.flags|=4194308)}function Dc(s,c){try{var y="",k=c;do y+=Ge(k),k=k.return;while(k);var D=y}catch(O){D=`
Error generating stack: `+O.message+`
`+O.stack}return{value:s,source:c,stack:D,digest:null}}function Im(s,c,y){return{value:s,source:null,stack:y??null,digest:c??null}}function Om(s,c){try{console.error(c.value)}catch(y){setTimeout(function(){throw y})}}var U4=typeof WeakMap=="function"?WeakMap:Map;function Ox(s,c,y){y=Q(-1,y),y.tag=3,y.payload={element:null};var k=c.value;return y.callback=function(){ah||(ah=!0,Km=k),Om(s,c)},y}function Bx(s,c,y){y=Q(-1,y),y.tag=3;var k=s.type.getDerivedStateFromError;if(typeof k=="function"){var D=c.value;y.payload=function(){return k(D)},y.callback=function(){Om(s,c)}}var O=s.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(y.callback=function(){Om(s,c),typeof k!="function"&&(kl===null?kl=new Set([this]):kl.add(this));var H=c.stack;this.componentDidCatch(c.value,{componentStack:H!==null?H:""})}),y}function Nx(s,c,y){var k=s.pingCache;if(k===null){k=s.pingCache=new U4;var D=new Set;k.set(c,D)}else D=k.get(c),D===void 0&&(D=new Set,k.set(c,D));D.has(y)||(D.add(y),s=tA.bind(null,s,c,y),c.then(s,s))}function Rx(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function Fx(s,c,y,k,D){return(s.mode&1)===0?(s===c?s.flags|=65536:(s.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(c=Q(-1,1),c.tag=2,ce(y,c,1))),y.lanes|=1),s):(s.flags|=65536,s.lanes=D,s)}var $4=X.ReactCurrentOwner,Ni=!1;function hi(s,c,y,k){c.child=s===null?Ee(c,null,y,k):re(c,s.child,y,k)}function zx(s,c,y,k,D){y=y.render;var O=c.ref;return me(c,D),k=Em(s,c,y,k,O,D),y=km(),s!==null&&!Ni?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~D,Ss(s,c,D)):(wn&&y&&Ao(c),c.flags|=1,hi(s,c,k,D),c.child)}function jx(s,c,y,k,D){if(s===null){var O=y.type;return typeof O=="function"&&!ng(O)&&O.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(c.tag=15,c.type=O,Ux(s,c,O,k,D)):(s=fh(y.type,null,k,c,c.mode,D),s.ref=c.ref,s.return=c,c.child=s)}if(O=s.child,(s.lanes&D)===0){var H=O.memoizedProps;if(y=y.compare,y=y!==null?y:ki,y(H,k)&&s.ref===c.ref)return Ss(s,c,D)}return c.flags|=1,s=Pl(O,k),s.ref=c.ref,s.return=c,c.child=s}function Ux(s,c,y,k,D){if(s!==null){var O=s.memoizedProps;if(ki(O,k)&&s.ref===c.ref)if(Ni=!1,c.pendingProps=k=O,(s.lanes&D)!==0)(s.flags&131072)!==0&&(Ni=!0);else return c.lanes=s.lanes,Ss(s,c,D)}return Bm(s,c,y,k,D)}function $x(s,c,y){var k=c.pendingProps,D=k.children,O=s!==null?s.memoizedState:null;if(k.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn(Oc,io),io|=y;else{if((y&1073741824)===0)return s=O!==null?O.baseLanes|y:y,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,hn(Oc,io),io|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},k=O!==null?O.baseLanes:y,hn(Oc,io),io|=k}else O!==null?(k=O.baseLanes|y,c.memoizedState=null):k=y,hn(Oc,io),io|=k;return hi(s,c,D,y),c.child}function Vx(s,c){var y=c.ref;(s===null&&y!==null||s!==null&&s.ref!==y)&&(c.flags|=512,c.flags|=2097152)}function Bm(s,c,y,k,D){var O=pr(y)?Es:jn.current;return O=bl(c,O),me(c,D),y=Em(s,c,y,k,O,D),k=km(),s!==null&&!Ni?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~D,Ss(s,c,D)):(wn&&k&&Ao(c),c.flags|=1,hi(s,c,y,D),c.child)}function Gx(s,c,y,k,D){if(pr(y)){var O=!0;Mc(c)}else O=!1;if(me(c,D),c.stateNode===null)th(s,c),Dx(c,y,k),Dm(c,y,k,D),k=!0;else if(s===null){var H=c.stateNode,ae=c.memoizedProps;H.props=ae;var he=H.context,Be=y.contextType;typeof Be=="object"&&Be!==null?Be=Se(Be):(Be=pr(y)?Es:jn.current,Be=bl(c,Be));var Ye=y.getDerivedStateFromProps,Je=typeof Ye=="function"||typeof H.getSnapshotBeforeUpdate=="function";Je||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ae!==k||he!==Be)&&Ix(c,H,k,Be),J=!1;var We=c.memoizedState;H.state=We,be(c,k,H,D),he=c.memoizedState,ae!==k||We!==he||hr.current||J?(typeof Ye=="function"&&(Am(c,y,Ye,k),he=c.memoizedState),(ae=J||Ax(c,y,ae,k,We,he,Be))?(Je||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(c.flags|=4194308)):(typeof H.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=k,c.memoizedState=he),H.props=k,H.state=he,H.context=Be,k=ae):(typeof H.componentDidMount=="function"&&(c.flags|=4194308),k=!1)}else{H=c.stateNode,ee(s,c),ae=c.memoizedProps,Be=c.type===c.elementType?ae:da(c.type,ae),H.props=Be,Je=c.pendingProps,We=H.context,he=y.contextType,typeof he=="object"&&he!==null?he=Se(he):(he=pr(y)?Es:jn.current,he=bl(c,he));var ut=y.getDerivedStateFromProps;(Ye=typeof ut=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ae!==Je||We!==he)&&Ix(c,H,k,he),J=!1,We=c.memoizedState,H.state=We,be(c,k,H,D);var pt=c.memoizedState;ae!==Je||We!==pt||hr.current||J?(typeof ut=="function"&&(Am(c,y,ut,k),pt=c.memoizedState),(Be=J||Ax(c,y,Be,k,We,pt,he)||!1)?(Ye||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(k,pt,he),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(k,pt,he)),typeof H.componentDidUpdate=="function"&&(c.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof H.componentDidUpdate!="function"||ae===s.memoizedProps&&We===s.memoizedState||(c.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ae===s.memoizedProps&&We===s.memoizedState||(c.flags|=1024),c.memoizedProps=k,c.memoizedState=pt),H.props=k,H.state=pt,H.context=he,k=Be):(typeof H.componentDidUpdate!="function"||ae===s.memoizedProps&&We===s.memoizedState||(c.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ae===s.memoizedProps&&We===s.memoizedState||(c.flags|=1024),k=!1)}return Nm(s,c,y,k,O,D)}function Nm(s,c,y,k,D,O){Vx(s,c);var H=(c.flags&128)!==0;if(!k&&!H)return D&&Ad(c,y,!1),Ss(s,c,O);k=c.stateNode,$4.current=c;var ae=H&&typeof y.getDerivedStateFromError!="function"?null:k.render();return c.flags|=1,s!==null&&H?(c.child=re(c,s.child,null,O),c.child=re(c,null,ae,O)):hi(s,c,ae,O),c.memoizedState=k.state,D&&Ad(c,y,!0),c.child}function qx(s){var c=s.stateNode;c.pendingContext?Pd(s,c.pendingContext,c.pendingContext!==c.context):c.context&&Pd(s,c.context,!1),rn(s,c.containerInfo)}function Hx(s,c,y,k,D){return M(),P(D),c.flags|=256,hi(s,c,y,k),c.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function Fm(s){return{baseLanes:s,cachePool:null,transitions:null}}function Wx(s,c,y){var k=c.pendingProps,D=pn.current,O=!1,H=(c.flags&128)!==0,ae;if((ae=H)||(ae=s!==null&&s.memoizedState===null?!1:(D&2)!==0),ae?(O=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(D|=1),hn(pn,D&1),s===null)return d(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((c.mode&1)===0?c.lanes=1:s.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(H=k.children,s=k.fallback,O?(k=c.mode,O=c.child,H={mode:"hidden",children:H},(k&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=H):O=hh(H,k,0,null),s=Au(s,k,y,null),O.return=c,s.return=c,O.sibling=s,c.child=O,c.child.memoizedState=Fm(y),c.memoizedState=Rm,s):zm(c,H));if(D=s.memoizedState,D!==null&&(ae=D.dehydrated,ae!==null))return V4(s,c,H,k,ae,D,y);if(O){O=k.fallback,H=c.mode,D=s.child,ae=D.sibling;var he={mode:"hidden",children:k.children};return(H&1)===0&&c.child!==D?(k=c.child,k.childLanes=0,k.pendingProps=he,c.deletions=null):(k=Pl(D,he),k.subtreeFlags=D.subtreeFlags&14680064),ae!==null?O=Pl(ae,O):(O=Au(O,H,y,null),O.flags|=2),O.return=c,k.return=c,k.sibling=O,c.child=k,k=O,O=c.child,H=s.child.memoizedState,H=H===null?Fm(y):{baseLanes:H.baseLanes|y,cachePool:null,transitions:H.transitions},O.memoizedState=H,O.childLanes=s.childLanes&~y,c.memoizedState=Rm,k}return O=s.child,s=O.sibling,k=Pl(O,{mode:"visible",children:k.children}),(c.mode&1)===0&&(k.lanes=y),k.return=c,k.sibling=null,s!==null&&(y=c.deletions,y===null?(c.deletions=[s],c.flags|=16):y.push(s)),c.child=k,c.memoizedState=null,k}function zm(s,c){return c=hh({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function eh(s,c,y,k){return k!==null&&P(k),re(c,s.child,null,y),s=zm(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function V4(s,c,y,k,D,O,H){if(y)return c.flags&256?(c.flags&=-257,k=Im(Error(n(422))),eh(s,c,H,k)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(O=k.fallback,D=c.mode,k=hh({mode:"visible",children:k.children},D,0,null),O=Au(O,D,H,null),O.flags|=2,k.return=c,O.return=c,k.sibling=O,c.child=k,(c.mode&1)!==0&&re(c,s.child,null,H),c.child.memoizedState=Fm(H),c.memoizedState=Rm,O);if((c.mode&1)===0)return eh(s,c,H,null);if(D.data==="$!"){if(k=D.nextSibling&&D.nextSibling.dataset,k)var ae=k.dgst;return k=ae,O=Error(n(419)),k=Im(O,k,void 0),eh(s,c,H,k)}if(ae=(H&s.childLanes)!==0,Ni||ae){if(k=Er,k!==null){switch(H&-H){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}D=(D&(k.suspendedLanes|H))!==0?0:D,D!==0&&D!==O.retryLane&&(O.retryLane=D,K(s,D),pa(k,s,D,-1))}return tg(),k=Im(Error(n(421))),eh(s,c,H,k)}return D.data==="$?"?(c.flags|=128,c.child=s.child,c=nA.bind(null,s),D._reactRetry=c,null):(s=O.treeContext,Br=ci(D.nextSibling),fi=c,wn=!0,ro=null,s!==null&&(di[mr++]=ua,di[mr++]=ca,di[mr++]=Po,ua=s.id,ca=s.overflow,Po=c),c=zm(c,k.children),c.flags|=4096,c)}function Zx(s,c,y){s.lanes|=c;var k=s.alternate;k!==null&&(k.lanes|=c),ue(s.return,c,y)}function jm(s,c,y,k,D){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:k,tail:y,tailMode:D}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=k,O.tail=y,O.tailMode=D)}function Kx(s,c,y){var k=c.pendingProps,D=k.revealOrder,O=k.tail;if(hi(s,c,k.children,y),k=pn.current,(k&2)!==0)k=k&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Zx(s,y,c);else if(s.tag===19)Zx(s,y,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}k&=1}if(hn(pn,k),(c.mode&1)===0)c.memoizedState=null;else switch(D){case"forwards":for(y=c.child,D=null;y!==null;)s=y.alternate,s!==null&&Ll(s)===null&&(D=y),y=y.sibling;y=D,y===null?(D=c.child,c.child=null):(D=y.sibling,y.sibling=null),jm(c,!1,D,y,O);break;case"backwards":for(y=null,D=c.child,c.child=null;D!==null;){if(s=D.alternate,s!==null&&Ll(s)===null){c.child=D;break}s=D.sibling,D.sibling=y,y=D,D=s}jm(c,!0,y,null,O);break;case"together":jm(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function th(s,c){(c.mode&1)===0&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function Ss(s,c,y){if(s!==null&&(c.dependencies=s.dependencies),Mu|=c.lanes,(y&c.childLanes)===0)return null;if(s!==null&&c.child!==s.child)throw Error(n(153));if(c.child!==null){for(s=c.child,y=Pl(s,s.pendingProps),c.child=y,y.return=c;s.sibling!==null;)s=s.sibling,y=y.sibling=Pl(s,s.pendingProps),y.return=c;y.sibling=null}return c.child}function G4(s,c,y){switch(c.tag){case 3:qx(c),M();break;case 5:ln(c);break;case 1:pr(c.type)&&Mc(c);break;case 4:rn(c,c.stateNode.containerInfo);break;case 10:var k=c.type._context,D=c.memoizedProps.value;hn(Ae,k._currentValue),k._currentValue=D;break;case 13:if(k=c.memoizedState,k!==null)return k.dehydrated!==null?(hn(pn,pn.current&1),c.flags|=128,null):(y&c.child.childLanes)!==0?Wx(s,c,y):(hn(pn,pn.current&1),s=Ss(s,c,y),s!==null?s.sibling:null);hn(pn,pn.current&1);break;case 19:if(k=(y&c.childLanes)!==0,(s.flags&128)!==0){if(k)return Kx(s,c,y);c.flags|=128}if(D=c.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),hn(pn,pn.current),k)break;return null;case 22:case 23:return c.lanes=0,$x(s,c,y)}return Ss(s,c,y)}var Yx,Um,Jx,Xx;Yx=function(s,c){for(var y=c.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===c)break;for(;y.sibling===null;){if(y.return===null||y.return===c)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Um=function(){},Jx=function(s,c,y,k){var D=s.memoizedProps;if(D!==k){s=c.stateNode,Kt(rt.current);var O=null;switch(y){case"input":D=Jt(s,D),k=Jt(s,k),O=[];break;case"select":D=xe({},D,{value:void 0}),k=xe({},k,{value:void 0}),O=[];break;case"textarea":D=Zo(s,D),k=Zo(s,k),O=[];break;default:typeof D.onClick!="function"&&typeof k.onClick=="function"&&(s.onclick=ze)}Zs(y,k);var H;y=null;for(Be in D)if(!k.hasOwnProperty(Be)&&D.hasOwnProperty(Be)&&D[Be]!=null)if(Be==="style"){var ae=D[Be];for(H in ae)ae.hasOwnProperty(H)&&(y||(y={}),y[H]="")}else Be!=="dangerouslySetInnerHTML"&&Be!=="children"&&Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&Be!=="autoFocus"&&(i.hasOwnProperty(Be)?O||(O=[]):(O=O||[]).push(Be,null));for(Be in k){var he=k[Be];if(ae=D!=null?D[Be]:void 0,k.hasOwnProperty(Be)&&he!==ae&&(he!=null||ae!=null))if(Be==="style")if(ae){for(H in ae)!ae.hasOwnProperty(H)||he&&he.hasOwnProperty(H)||(y||(y={}),y[H]="");for(H in he)he.hasOwnProperty(H)&&ae[H]!==he[H]&&(y||(y={}),y[H]=he[H])}else y||(O||(O=[]),O.push(Be,y)),y=he;else Be==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,ae=ae?ae.__html:void 0,he!=null&&ae!==he&&(O=O||[]).push(Be,he)):Be==="children"?typeof he!="string"&&typeof he!="number"||(O=O||[]).push(Be,""+he):Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&(i.hasOwnProperty(Be)?(he!=null&&Be==="onScroll"&&Nt("scroll",s),O||ae===he||(O=[])):(O=O||[]).push(Be,he))}y&&(O=O||[]).push("style",y);var Be=O;(c.updateQueue=Be)&&(c.flags|=4)}},Xx=function(s,c,y,k){y!==k&&(c.flags|=4)};function jd(s,c){if(!wn)switch(s.tailMode){case"hidden":c=s.tail;for(var y=null;c!==null;)c.alternate!==null&&(y=c),c=c.sibling;y===null?s.tail=null:y.sibling=null;break;case"collapsed":y=s.tail;for(var k=null;y!==null;)y.alternate!==null&&(k=y),y=y.sibling;k===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:k.sibling=null}}function Zr(s){var c=s.alternate!==null&&s.alternate.child===s.child,y=0,k=0;if(c)for(var D=s.child;D!==null;)y|=D.lanes|D.childLanes,k|=D.subtreeFlags&14680064,k|=D.flags&14680064,D.return=s,D=D.sibling;else for(D=s.child;D!==null;)y|=D.lanes|D.childLanes,k|=D.subtreeFlags,k|=D.flags,D.return=s,D=D.sibling;return s.subtreeFlags|=k,s.childLanes=y,c}function q4(s,c,y){var k=c.pendingProps;switch(Od(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(c),null;case 1:return pr(c.type)&&ks(),Zr(c),null;case 3:return k=c.stateNode,Gt(),yn(hr),yn(jn),Bi(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(s===null||s.child===null)&&(v(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ro!==null&&(Xm(ro),ro=null))),Um(s,c),Zr(c),null;case 5:rr(c);var D=Kt(xt.current);if(y=c.type,s!==null&&c.stateNode!=null)Jx(s,c,y,k,D),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!k){if(c.stateNode===null)throw Error(n(166));return Zr(c),null}if(s=Kt(rt.current),v(c)){k=c.stateNode,y=c.type;var O=c.memoizedProps;switch(k[Di]=c,k[Fa]=O,s=(c.mode&1)!==0,y){case"dialog":Nt("cancel",k),Nt("close",k);break;case"iframe":case"object":case"embed":Nt("load",k);break;case"video":case"audio":for(D=0;D<Tt.length;D++)Nt(Tt[D],k);break;case"source":Nt("error",k);break;case"img":case"image":case"link":Nt("error",k),Nt("load",k);break;case"details":Nt("toggle",k);break;case"input":In(k,O),Nt("invalid",k);break;case"select":k._wrapperState={wasMultiple:!!O.multiple},Nt("invalid",k);break;case"textarea":at(k,O),Nt("invalid",k)}Zs(y,O),D=null;for(var H in O)if(O.hasOwnProperty(H)){var ae=O[H];H==="children"?typeof ae=="string"?k.textContent!==ae&&(O.suppressHydrationWarning!==!0&&Oe(k.textContent,ae,s),D=["children",ae]):typeof ae=="number"&&k.textContent!==""+ae&&(O.suppressHydrationWarning!==!0&&Oe(k.textContent,ae,s),D=["children",""+ae]):i.hasOwnProperty(H)&&ae!=null&&H==="onScroll"&&Nt("scroll",k)}switch(y){case"input":Ct(k),$r(k,O,!0);break;case"textarea":Ct(k),Xt(k);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(k.onclick=ze)}k=D,c.updateQueue=k,k!==null&&(c.flags|=4)}else{H=D.nodeType===9?D:D.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=xn(y)),s==="http://www.w3.org/1999/xhtml"?y==="script"?(s=H.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof k.is=="string"?s=H.createElement(y,{is:k.is}):(s=H.createElement(y),y==="select"&&(H=s,k.multiple?H.multiple=!0:k.size&&(H.size=k.size))):s=H.createElementNS(s,y),s[Di]=c,s[Fa]=k,Yx(s,c,!1,!1),c.stateNode=s;e:{switch(H=Ki(y,k),y){case"dialog":Nt("cancel",s),Nt("close",s),D=k;break;case"iframe":case"object":case"embed":Nt("load",s),D=k;break;case"video":case"audio":for(D=0;D<Tt.length;D++)Nt(Tt[D],s);D=k;break;case"source":Nt("error",s),D=k;break;case"img":case"image":case"link":Nt("error",s),Nt("load",s),D=k;break;case"details":Nt("toggle",s),D=k;break;case"input":In(s,k),D=Jt(s,k),Nt("invalid",s);break;case"option":D=k;break;case"select":s._wrapperState={wasMultiple:!!k.multiple},D=xe({},k,{value:void 0}),Nt("invalid",s);break;case"textarea":at(s,k),D=Zo(s,k),Nt("invalid",s);break;default:D=k}Zs(y,D),ae=D;for(O in ae)if(ae.hasOwnProperty(O)){var he=ae[O];O==="style"?ts(s,he):O==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,he!=null&&ur(s,he)):O==="children"?typeof he=="string"?(y!=="textarea"||he!=="")&&Vn(s,he):typeof he=="number"&&Vn(s,""+he):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?he!=null&&O==="onScroll"&&Nt("scroll",s):he!=null&&Z(s,O,he,H))}switch(y){case"input":Ct(s),$r(s,k,!1);break;case"textarea":Ct(s),Xt(s);break;case"option":k.value!=null&&s.setAttribute("value",""+Dt(k.value));break;case"select":s.multiple=!!k.multiple,O=k.value,O!=null?vi(s,!!k.multiple,O,!1):k.defaultValue!=null&&vi(s,!!k.multiple,k.defaultValue,!0);break;default:typeof D.onClick=="function"&&(s.onclick=ze)}switch(y){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}}k&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Zr(c),null;case 6:if(s&&c.stateNode!=null)Xx(s,c,s.memoizedProps,k);else{if(typeof k!="string"&&c.stateNode===null)throw Error(n(166));if(y=Kt(xt.current),Kt(rt.current),v(c)){if(k=c.stateNode,y=c.memoizedProps,k[Di]=c,(O=k.nodeValue!==y)&&(s=fi,s!==null))switch(s.tag){case 3:Oe(k.nodeValue,y,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Oe(k.nodeValue,y,(s.mode&1)!==0)}O&&(c.flags|=4)}else k=(y.nodeType===9?y:y.ownerDocument).createTextNode(k),k[Di]=c,c.stateNode=k}return Zr(c),null;case 13:if(yn(pn),k=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(wn&&Br!==null&&(c.mode&1)!==0&&(c.flags&128)===0)x(),M(),c.flags|=98560,O=!1;else if(O=v(c),k!==null&&k.dehydrated!==null){if(s===null){if(!O)throw Error(n(318));if(O=c.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[Di]=c}else M(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Zr(c),O=!1}else ro!==null&&(Xm(ro),ro=null),O=!0;if(!O)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=y,c):(k=k!==null,k!==(s!==null&&s.memoizedState!==null)&&k&&(c.child.flags|=8192,(c.mode&1)!==0&&(s===null||(pn.current&1)!==0?yr===0&&(yr=3):tg())),c.updateQueue!==null&&(c.flags|=4),Zr(c),null);case 4:return Gt(),Um(s,c),s===null&&Zn(c.stateNode.containerInfo),Zr(c),null;case 10:return ie(c.type._context),Zr(c),null;case 17:return pr(c.type)&&ks(),Zr(c),null;case 19:if(yn(pn),O=c.memoizedState,O===null)return Zr(c),null;if(k=(c.flags&128)!==0,H=O.rendering,H===null)if(k)jd(O,!1);else{if(yr!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(H=Ll(s),H!==null){for(c.flags|=128,jd(O,!1),k=H.updateQueue,k!==null&&(c.updateQueue=k,c.flags|=4),c.subtreeFlags=0,k=y,y=c.child;y!==null;)O=y,s=k,O.flags&=14680066,H=O.alternate,H===null?(O.childLanes=0,O.lanes=s,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=H.childLanes,O.lanes=H.lanes,O.child=H.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=H.memoizedProps,O.memoizedState=H.memoizedState,O.updateQueue=H.updateQueue,O.type=H.type,s=H.dependencies,O.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),y=y.sibling;return hn(pn,pn.current&1|2),c.child}s=s.sibling}O.tail!==null&&En()>Bc&&(c.flags|=128,k=!0,jd(O,!1),c.lanes=4194304)}else{if(!k)if(s=Ll(H),s!==null){if(c.flags|=128,k=!0,y=s.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),jd(O,!0),O.tail===null&&O.tailMode==="hidden"&&!H.alternate&&!wn)return Zr(c),null}else 2*En()-O.renderingStartTime>Bc&&y!==1073741824&&(c.flags|=128,k=!0,jd(O,!1),c.lanes=4194304);O.isBackwards?(H.sibling=c.child,c.child=H):(y=O.last,y!==null?y.sibling=H:c.child=H,O.last=H)}return O.tail!==null?(c=O.tail,O.rendering=c,O.tail=c.sibling,O.renderingStartTime=En(),c.sibling=null,y=pn.current,hn(pn,k?y&1|2:y&1),c):(Zr(c),null);case 22:case 23:return eg(),k=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==k&&(c.flags|=8192),k&&(c.mode&1)!==0?(io&1073741824)!==0&&(Zr(c),c.subtreeFlags&6&&(c.flags|=8192)):Zr(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function H4(s,c){switch(Od(c),c.tag){case 1:return pr(c.type)&&ks(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Gt(),yn(hr),yn(jn),Bi(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 5:return rr(c),null;case 13:if(yn(pn),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(n(340));M()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return yn(pn),null;case 4:return Gt(),null;case 10:return ie(c.type._context),null;case 22:case 23:return eg(),null;case 24:return null;default:return null}}var nh=!1,Kr=!1,W4=typeof WeakSet=="function"?WeakSet:Set,dt=null;function Ic(s,c){var y=s.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(k){Un(s,c,k)}else y.current=null}function $m(s,c,y){try{y()}catch(k){Un(s,c,k)}}var Qx=!1;function Z4(s,c){if(ot=fs,s=wu(),Cu(s)){if("selectionStart"in s)var y={start:s.selectionStart,end:s.selectionEnd};else e:{y=(y=s.ownerDocument)&&y.defaultView||window;var k=y.getSelection&&y.getSelection();if(k&&k.rangeCount!==0){y=k.anchorNode;var D=k.anchorOffset,O=k.focusNode;k=k.focusOffset;try{y.nodeType,O.nodeType}catch{y=null;break e}var H=0,ae=-1,he=-1,Be=0,Ye=0,Je=s,We=null;t:for(;;){for(var ut;Je!==y||D!==0&&Je.nodeType!==3||(ae=H+D),Je!==O||k!==0&&Je.nodeType!==3||(he=H+k),Je.nodeType===3&&(H+=Je.nodeValue.length),(ut=Je.firstChild)!==null;)We=Je,Je=ut;for(;;){if(Je===s)break t;if(We===y&&++Be===D&&(ae=H),We===O&&++Ye===k&&(he=H),(ut=Je.nextSibling)!==null)break;Je=We,We=Je.parentNode}Je=ut}y=ae===-1||he===-1?null:{start:ae,end:he}}else y=null}y=y||{start:0,end:0}}else y=null;for(Et={focusedElem:s,selectionRange:y},fs=!1,dt=c;dt!==null;)if(c=dt,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,dt=s;else for(;dt!==null;){c=dt;try{var pt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var _t=pt.memoizedProps,Jn=pt.memoizedState,Me=c.stateNode,ge=Me.getSnapshotBeforeUpdate(c.elementType===c.type?_t:da(c.type,_t),Jn);Me.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var De=c.stateNode.containerInfo;De.nodeType===1?De.textContent="":De.nodeType===9&&De.documentElement&&De.removeChild(De.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Qe){Un(c,c.return,Qe)}if(s=c.sibling,s!==null){s.return=c.return,dt=s;break}dt=c.return}return pt=Qx,Qx=!1,pt}function Ud(s,c,y){var k=c.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var D=k=k.next;do{if((D.tag&s)===s){var O=D.destroy;D.destroy=void 0,O!==void 0&&$m(c,y,O)}D=D.next}while(D!==k)}}function rh(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var y=c=c.next;do{if((y.tag&s)===s){var k=y.create;y.destroy=k()}y=y.next}while(y!==c)}}function Vm(s){var c=s.ref;if(c!==null){var y=s.stateNode;switch(s.tag){case 5:s=y;break;default:s=y}typeof c=="function"?c(s):c.current=s}}function eb(s){var c=s.alternate;c!==null&&(s.alternate=null,eb(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[Di],delete c[Fa],delete c[aa],delete c[Td],delete c[Ii])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function tb(s){return s.tag===5||s.tag===3||s.tag===4}function nb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||tb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Gm(s,c,y){var k=s.tag;if(k===5||k===6)s=s.stateNode,c?y.nodeType===8?y.parentNode.insertBefore(s,c):y.insertBefore(s,c):(y.nodeType===8?(c=y.parentNode,c.insertBefore(s,y)):(c=y,c.appendChild(s)),y=y._reactRootContainer,y!=null||c.onclick!==null||(c.onclick=ze));else if(k!==4&&(s=s.child,s!==null))for(Gm(s,c,y),s=s.sibling;s!==null;)Gm(s,c,y),s=s.sibling}function qm(s,c,y){var k=s.tag;if(k===5||k===6)s=s.stateNode,c?y.insertBefore(s,c):y.appendChild(s);else if(k!==4&&(s=s.child,s!==null))for(qm(s,c,y),s=s.sibling;s!==null;)qm(s,c,y),s=s.sibling}var Nr=null,fa=!1;function El(s,c,y){for(y=y.child;y!==null;)rb(s,c,y),y=y.sibling}function rb(s,c,y){if(ti&&typeof ti.onCommitFiberUnmount=="function")try{ti.onCommitFiberUnmount(as,y)}catch{}switch(y.tag){case 5:Kr||Ic(y,c);case 6:var k=Nr,D=fa;Nr=null,El(s,c,y),Nr=k,fa=D,Nr!==null&&(fa?(s=Nr,y=y.stateNode,s.nodeType===8?s.parentNode.removeChild(y):s.removeChild(y)):Nr.removeChild(y.stateNode));break;case 18:Nr!==null&&(fa?(s=Nr,y=y.stateNode,s.nodeType===8?Ls(s.parentNode,y):s.nodeType===1&&Ls(s,y),ii(s)):Ls(Nr,y.stateNode));break;case 4:k=Nr,D=fa,Nr=y.stateNode.containerInfo,fa=!0,El(s,c,y),Nr=k,fa=D;break;case 0:case 11:case 14:case 15:if(!Kr&&(k=y.updateQueue,k!==null&&(k=k.lastEffect,k!==null))){D=k=k.next;do{var O=D,H=O.destroy;O=O.tag,H!==void 0&&((O&2)!==0||(O&4)!==0)&&$m(y,c,H),D=D.next}while(D!==k)}El(s,c,y);break;case 1:if(!Kr&&(Ic(y,c),k=y.stateNode,typeof k.componentWillUnmount=="function"))try{k.props=y.memoizedProps,k.state=y.memoizedState,k.componentWillUnmount()}catch(ae){Un(y,c,ae)}El(s,c,y);break;case 21:El(s,c,y);break;case 22:y.mode&1?(Kr=(k=Kr)||y.memoizedState!==null,El(s,c,y),Kr=k):El(s,c,y);break;default:El(s,c,y)}}function ib(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var y=s.stateNode;y===null&&(y=s.stateNode=new W4),c.forEach(function(k){var D=rA.bind(null,s,k);y.has(k)||(y.add(k),k.then(D,D))})}}function ha(s,c){var y=c.deletions;if(y!==null)for(var k=0;k<y.length;k++){var D=y[k];try{var O=s,H=c,ae=H;e:for(;ae!==null;){switch(ae.tag){case 5:Nr=ae.stateNode,fa=!1;break e;case 3:Nr=ae.stateNode.containerInfo,fa=!0;break e;case 4:Nr=ae.stateNode.containerInfo,fa=!0;break e}ae=ae.return}if(Nr===null)throw Error(n(160));rb(O,H,D),Nr=null,fa=!1;var he=D.alternate;he!==null&&(he.return=null),D.return=null}catch(Be){Un(D,c,Be)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)ob(c,s),c=c.sibling}function ob(s,c){var y=s.alternate,k=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ha(c,s),Va(s),k&4){try{Ud(3,s,s.return),rh(3,s)}catch(_t){Un(s,s.return,_t)}try{Ud(5,s,s.return)}catch(_t){Un(s,s.return,_t)}}break;case 1:ha(c,s),Va(s),k&512&&y!==null&&Ic(y,y.return);break;case 5:if(ha(c,s),Va(s),k&512&&y!==null&&Ic(y,y.return),s.flags&32){var D=s.stateNode;try{Vn(D,"")}catch(_t){Un(s,s.return,_t)}}if(k&4&&(D=s.stateNode,D!=null)){var O=s.memoizedProps,H=y!==null?y.memoizedProps:O,ae=s.type,he=s.updateQueue;if(s.updateQueue=null,he!==null)try{ae==="input"&&O.type==="radio"&&O.name!=null&&On(D,O),Ki(ae,H);var Be=Ki(ae,O);for(H=0;H<he.length;H+=2){var Ye=he[H],Je=he[H+1];Ye==="style"?ts(D,Je):Ye==="dangerouslySetInnerHTML"?ur(D,Je):Ye==="children"?Vn(D,Je):Z(D,Ye,Je,Be)}switch(ae){case"input":Qn(D,O);break;case"textarea":St(D,O);break;case"select":var We=D._wrapperState.wasMultiple;D._wrapperState.wasMultiple=!!O.multiple;var ut=O.value;ut!=null?vi(D,!!O.multiple,ut,!1):We!==!!O.multiple&&(O.defaultValue!=null?vi(D,!!O.multiple,O.defaultValue,!0):vi(D,!!O.multiple,O.multiple?[]:"",!1))}D[Fa]=O}catch(_t){Un(s,s.return,_t)}}break;case 6:if(ha(c,s),Va(s),k&4){if(s.stateNode===null)throw Error(n(162));D=s.stateNode,O=s.memoizedProps;try{D.nodeValue=O}catch(_t){Un(s,s.return,_t)}}break;case 3:if(ha(c,s),Va(s),k&4&&y!==null&&y.memoizedState.isDehydrated)try{ii(c.containerInfo)}catch(_t){Un(s,s.return,_t)}break;case 4:ha(c,s),Va(s);break;case 13:ha(c,s),Va(s),D=s.child,D.flags&8192&&(O=D.memoizedState!==null,D.stateNode.isHidden=O,!O||D.alternate!==null&&D.alternate.memoizedState!==null||(Zm=En())),k&4&&ib(s);break;case 22:if(Ye=y!==null&&y.memoizedState!==null,s.mode&1?(Kr=(Be=Kr)||Ye,ha(c,s),Kr=Be):ha(c,s),Va(s),k&8192){if(Be=s.memoizedState!==null,(s.stateNode.isHidden=Be)&&!Ye&&(s.mode&1)!==0)for(dt=s,Ye=s.child;Ye!==null;){for(Je=dt=Ye;dt!==null;){switch(We=dt,ut=We.child,We.tag){case 0:case 11:case 14:case 15:Ud(4,We,We.return);break;case 1:Ic(We,We.return);var pt=We.stateNode;if(typeof pt.componentWillUnmount=="function"){k=We,y=We.return;try{c=k,pt.props=c.memoizedProps,pt.state=c.memoizedState,pt.componentWillUnmount()}catch(_t){Un(k,y,_t)}}break;case 5:Ic(We,We.return);break;case 22:if(We.memoizedState!==null){lb(Je);continue}}ut!==null?(ut.return=We,dt=ut):lb(Je)}Ye=Ye.sibling}e:for(Ye=null,Je=s;;){if(Je.tag===5){if(Ye===null){Ye=Je;try{D=Je.stateNode,Be?(O=D.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(ae=Je.stateNode,he=Je.memoizedProps.style,H=he!=null&&he.hasOwnProperty("display")?he.display:null,ae.style.display=Kl("display",H))}catch(_t){Un(s,s.return,_t)}}}else if(Je.tag===6){if(Ye===null)try{Je.stateNode.nodeValue=Be?"":Je.memoizedProps}catch(_t){Un(s,s.return,_t)}}else if((Je.tag!==22&&Je.tag!==23||Je.memoizedState===null||Je===s)&&Je.child!==null){Je.child.return=Je,Je=Je.child;continue}if(Je===s)break e;for(;Je.sibling===null;){if(Je.return===null||Je.return===s)break e;Ye===Je&&(Ye=null),Je=Je.return}Ye===Je&&(Ye=null),Je.sibling.return=Je.return,Je=Je.sibling}}break;case 19:ha(c,s),Va(s),k&4&&ib(s);break;case 21:break;default:ha(c,s),Va(s)}}function Va(s){var c=s.flags;if(c&2){try{e:{for(var y=s.return;y!==null;){if(tb(y)){var k=y;break e}y=y.return}throw Error(n(160))}switch(k.tag){case 5:var D=k.stateNode;k.flags&32&&(Vn(D,""),k.flags&=-33);var O=nb(s);qm(s,O,D);break;case 3:case 4:var H=k.stateNode.containerInfo,ae=nb(s);Gm(s,ae,H);break;default:throw Error(n(161))}}catch(he){Un(s,s.return,he)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function K4(s,c,y){dt=s,ab(s)}function ab(s,c,y){for(var k=(s.mode&1)!==0;dt!==null;){var D=dt,O=D.child;if(D.tag===22&&k){var H=D.memoizedState!==null||nh;if(!H){var ae=D.alternate,he=ae!==null&&ae.memoizedState!==null||Kr;ae=nh;var Be=Kr;if(nh=H,(Kr=he)&&!Be)for(dt=D;dt!==null;)H=dt,he=H.child,H.tag===22&&H.memoizedState!==null?ub(D):he!==null?(he.return=H,dt=he):ub(D);for(;O!==null;)dt=O,ab(O),O=O.sibling;dt=D,nh=ae,Kr=Be}sb(s)}else(D.subtreeFlags&8772)!==0&&O!==null?(O.return=D,dt=O):sb(s)}}function sb(s){for(;dt!==null;){var c=dt;if((c.flags&8772)!==0){var y=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Kr||rh(5,c);break;case 1:var k=c.stateNode;if(c.flags&4&&!Kr)if(y===null)k.componentDidMount();else{var D=c.elementType===c.type?y.memoizedProps:da(c.type,y.memoizedProps);k.componentDidUpdate(D,y.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var O=c.updateQueue;O!==null&&Ce(c,O,k);break;case 3:var H=c.updateQueue;if(H!==null){if(y=null,c.child!==null)switch(c.child.tag){case 5:y=c.child.stateNode;break;case 1:y=c.child.stateNode}Ce(c,H,y)}break;case 5:var ae=c.stateNode;if(y===null&&c.flags&4){y=ae;var he=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":he.autoFocus&&y.focus();break;case"img":he.src&&(y.src=he.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Be=c.alternate;if(Be!==null){var Ye=Be.memoizedState;if(Ye!==null){var Je=Ye.dehydrated;Je!==null&&ii(Je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Kr||c.flags&512&&Vm(c)}catch(We){Un(c,c.return,We)}}if(c===s){dt=null;break}if(y=c.sibling,y!==null){y.return=c.return,dt=y;break}dt=c.return}}function lb(s){for(;dt!==null;){var c=dt;if(c===s){dt=null;break}var y=c.sibling;if(y!==null){y.return=c.return,dt=y;break}dt=c.return}}function ub(s){for(;dt!==null;){var c=dt;try{switch(c.tag){case 0:case 11:case 15:var y=c.return;try{rh(4,c)}catch(he){Un(c,y,he)}break;case 1:var k=c.stateNode;if(typeof k.componentDidMount=="function"){var D=c.return;try{k.componentDidMount()}catch(he){Un(c,D,he)}}var O=c.return;try{Vm(c)}catch(he){Un(c,O,he)}break;case 5:var H=c.return;try{Vm(c)}catch(he){Un(c,H,he)}}}catch(he){Un(c,c.return,he)}if(c===s){dt=null;break}var ae=c.sibling;if(ae!==null){ae.return=c.return,dt=ae;break}dt=c.return}}var Y4=Math.ceil,ih=X.ReactCurrentDispatcher,Hm=X.ReactCurrentOwner,Io=X.ReactCurrentBatchConfig,nn=0,Er=null,ir=null,Rr=0,io=0,Oc=la(0),yr=0,$d=null,Mu=0,oh=0,Wm=0,Vd=null,Ri=null,Zm=0,Bc=1/0,Ts=null,ah=!1,Km=null,kl=null,sh=!1,Ml=null,lh=0,Gd=0,Ym=null,uh=-1,ch=0;function pi(){return(nn&6)!==0?En():uh!==-1?uh:uh=En()}function Sl(s){return(s.mode&1)===0?1:(nn&2)!==0&&Rr!==0?Rr&-Rr:B.transition!==null?(ch===0&&(ch=pc()),ch):(s=Qt,s!==0||(s=window.event,s=s===void 0?16:Ht(s.type)),s)}function pa(s,c,y,k){if(50<Gd)throw Gd=0,Ym=null,Error(n(185));ni(s,y,k),((nn&2)===0||s!==Er)&&(s===Er&&((nn&2)===0&&(oh|=y),yr===4&&Tl(s,Rr)),Fi(s,k),y===1&&nn===0&&(c.mode&1)===0&&(Bc=En()+500,Sc&&ja()))}function Fi(s,c){var y=s.callbackNode;Qs(s,c);var k=fn(s,s===Er?Rr:0);if(k===0)y!==null&&os(y),s.callbackNode=null,s.callbackPriority=0;else if(c=k&-k,s.callbackPriority!==c){if(y!=null&&os(y),c===1)s.tag===0?Cm(db.bind(null,s)):Id(db.bind(null,s)),bn(function(){(nn&6)===0&&ja()}),y=null;else{switch(ka(k)){case 1:y=au;break;case 4:y=hc;break;case 16:y=Xs;break;case 536870912:y=wa;break;default:y=Xs}y=_b(y,cb.bind(null,s))}s.callbackPriority=c,s.callbackNode=y}}function cb(s,c){if(uh=-1,ch=0,(nn&6)!==0)throw Error(n(327));var y=s.callbackNode;if(Nc()&&s.callbackNode!==y)return null;var k=fn(s,s===Er?Rr:0);if(k===0)return null;if((k&30)!==0||(k&s.expiredLanes)!==0||c)c=dh(s,k);else{c=k;var D=nn;nn|=2;var O=hb();(Er!==s||Rr!==c)&&(Ts=null,Bc=En()+500,Tu(s,c));do try{Q4();break}catch(ae){fb(s,ae)}while(!0);Wt(),ih.current=O,nn=D,ir!==null?c=0:(Er=null,Rr=0,c=yr)}if(c!==0){if(c===2&&(D=xr(s),D!==0&&(k=D,c=Jm(s,D))),c===1)throw y=$d,Tu(s,0),Tl(s,k),Fi(s,En()),y;if(c===6)Tl(s,k);else{if(D=s.current.alternate,(k&30)===0&&!J4(D)&&(c=dh(s,k),c===2&&(O=xr(s),O!==0&&(k=O,c=Jm(s,O))),c===1))throw y=$d,Tu(s,0),Tl(s,k),Fi(s,En()),y;switch(s.finishedWork=D,s.finishedLanes=k,c){case 0:case 1:throw Error(n(345));case 2:Pu(s,Ri,Ts);break;case 3:if(Tl(s,k),(k&130023424)===k&&(c=Zm+500-En(),10<c)){if(fn(s,0)!==0)break;if(D=s.suspendedLanes,(D&k)!==k){pi(),s.pingedLanes|=s.suspendedLanes&D;break}s.timeoutHandle=Kn(Pu.bind(null,s,Ri,Ts),c);break}Pu(s,Ri,Ts);break;case 4:if(Tl(s,k),(k&4194240)===k)break;for(c=s.eventTimes,D=-1;0<k;){var H=31-zt(k);O=1<<H,H=c[H],H>D&&(D=H),k&=~O}if(k=D,k=En()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*Y4(k/1960))-k,10<k){s.timeoutHandle=Kn(Pu.bind(null,s,Ri,Ts),k);break}Pu(s,Ri,Ts);break;case 5:Pu(s,Ri,Ts);break;default:throw Error(n(329))}}}return Fi(s,En()),s.callbackNode===y?cb.bind(null,s):null}function Jm(s,c){var y=Vd;return s.current.memoizedState.isDehydrated&&(Tu(s,c).flags|=256),s=dh(s,c),s!==2&&(c=Ri,Ri=y,c!==null&&Xm(c)),s}function Xm(s){Ri===null?Ri=s:Ri.push.apply(Ri,s)}function J4(s){for(var c=s;;){if(c.flags&16384){var y=c.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var k=0;k<y.length;k++){var D=y[k],O=D.getSnapshot;D=D.value;try{if(!qr(O(),D))return!1}catch{return!1}}}if(y=c.child,c.subtreeFlags&16384&&y!==null)y.return=c,c=y;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Tl(s,c){for(c&=~Wm,c&=~oh,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var y=31-zt(c),k=1<<y;s[y]=-1,c&=~k}}function db(s){if((nn&6)!==0)throw Error(n(327));Nc();var c=fn(s,0);if((c&1)===0)return Fi(s,En()),null;var y=dh(s,c);if(s.tag!==0&&y===2){var k=xr(s);k!==0&&(c=k,y=Jm(s,k))}if(y===1)throw y=$d,Tu(s,0),Tl(s,c),Fi(s,En()),y;if(y===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,Pu(s,Ri,Ts),Fi(s,En()),null}function Qm(s,c){var y=nn;nn|=1;try{return s(c)}finally{nn=y,nn===0&&(Bc=En()+500,Sc&&ja())}}function Su(s){Ml!==null&&Ml.tag===0&&(nn&6)===0&&Nc();var c=nn;nn|=1;var y=Io.transition,k=Qt;try{if(Io.transition=null,Qt=1,s)return s()}finally{Qt=k,Io.transition=y,nn=c,(nn&6)===0&&ja()}}function eg(){io=Oc.current,yn(Oc)}function Tu(s,c){s.finishedWork=null,s.finishedLanes=0;var y=s.timeoutHandle;if(y!==-1&&(s.timeoutHandle=-1,zn(y)),ir!==null)for(y=ir.return;y!==null;){var k=y;switch(Od(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&ks();break;case 3:Gt(),yn(hr),yn(jn),Bi();break;case 5:rr(k);break;case 4:Gt();break;case 13:yn(pn);break;case 19:yn(pn);break;case 10:ie(k.type._context);break;case 22:case 23:eg()}y=y.return}if(Er=s,ir=s=Pl(s.current,null),Rr=io=c,yr=0,$d=null,Wm=oh=Mu=0,Ri=Vd=null,ye!==null){for(c=0;c<ye.length;c++)if(y=ye[c],k=y.interleaved,k!==null){y.interleaved=null;var D=k.next,O=y.pending;if(O!==null){var H=O.next;O.next=D,k.next=H}y.pending=k}ye=null}return s}function fb(s,c){do{var y=ir;try{if(Wt(),Ua.current=Xf,Kf){for(var k=jt.memoizedState;k!==null;){var D=k.queue;D!==null&&(D.pending=null),k=k.next}Kf=!1}if(Bn=0,Lr=gr=jt=null,Nd=!1,Rd=0,Hm.current=null,y===null||y.return===null){yr=1,$d=c,ir=null;break}e:{var O=s,H=y.return,ae=y,he=c;if(c=Rr,ae.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Be=he,Ye=ae,Je=Ye.tag;if((Ye.mode&1)===0&&(Je===0||Je===11||Je===15)){var We=Ye.alternate;We?(Ye.updateQueue=We.updateQueue,Ye.memoizedState=We.memoizedState,Ye.lanes=We.lanes):(Ye.updateQueue=null,Ye.memoizedState=null)}var ut=Rx(H);if(ut!==null){ut.flags&=-257,Fx(ut,H,ae,O,c),ut.mode&1&&Nx(O,Be,c),c=ut,he=Be;var pt=c.updateQueue;if(pt===null){var _t=new Set;_t.add(he),c.updateQueue=_t}else pt.add(he);break e}else{if((c&1)===0){Nx(O,Be,c),tg();break e}he=Error(n(426))}}else if(wn&&ae.mode&1){var Jn=Rx(H);if(Jn!==null){(Jn.flags&65536)===0&&(Jn.flags|=256),Fx(Jn,H,ae,O,c),P(Dc(he,ae));break e}}O=he=Dc(he,ae),yr!==4&&(yr=2),Vd===null?Vd=[O]:Vd.push(O),O=H;do{switch(O.tag){case 3:O.flags|=65536,c&=-c,O.lanes|=c;var Me=Ox(O,he,c);pe(O,Me);break e;case 1:ae=he;var ge=O.type,De=O.stateNode;if((O.flags&128)===0&&(typeof ge.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(kl===null||!kl.has(De)))){O.flags|=65536,c&=-c,O.lanes|=c;var Qe=Bx(O,ae,c);pe(O,Qe);break e}}O=O.return}while(O!==null)}mb(y)}catch(bt){c=bt,ir===y&&y!==null&&(ir=y=y.return);continue}break}while(!0)}function hb(){var s=ih.current;return ih.current=Xf,s===null?Xf:s}function tg(){(yr===0||yr===3||yr===2)&&(yr=4),Er===null||(Mu&268435455)===0&&(oh&268435455)===0||Tl(Er,Rr)}function dh(s,c){var y=nn;nn|=2;var k=hb();(Er!==s||Rr!==c)&&(Ts=null,Tu(s,c));do try{X4();break}catch(D){fb(s,D)}while(!0);if(Wt(),nn=y,ih.current=k,ir!==null)throw Error(n(261));return Er=null,Rr=0,yr}function X4(){for(;ir!==null;)pb(ir)}function Q4(){for(;ir!==null&&!ou();)pb(ir)}function pb(s){var c=vb(s.alternate,s,io);s.memoizedProps=s.pendingProps,c===null?mb(s):ir=c,Hm.current=null}function mb(s){var c=s;do{var y=c.alternate;if(s=c.return,(c.flags&32768)===0){if(y=q4(y,c,io),y!==null){ir=y;return}}else{if(y=H4(y,c),y!==null){y.flags&=32767,ir=y;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{yr=6,ir=null;return}}if(c=c.sibling,c!==null){ir=c;return}ir=c=s}while(c!==null);yr===0&&(yr=5)}function Pu(s,c,y){var k=Qt,D=Io.transition;try{Io.transition=null,Qt=1,eA(s,c,y,k)}finally{Io.transition=D,Qt=k}return null}function eA(s,c,y,k){do Nc();while(Ml!==null);if((nn&6)!==0)throw Error(n(327));y=s.finishedWork;var D=s.finishedLanes;if(y===null)return null;if(s.finishedWork=null,s.finishedLanes=0,y===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var O=y.lanes|y.childLanes;if(Tn(s,O),s===Er&&(ir=Er=null,Rr=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||sh||(sh=!0,_b(Xs,function(){return Nc(),null})),O=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||O){O=Io.transition,Io.transition=null;var H=Qt;Qt=1;var ae=nn;nn|=4,Hm.current=null,Z4(s,y),ob(y,s),Mi(Et),fs=!!ot,Et=ot=null,s.current=y,K4(y),Js(),nn=ae,Qt=H,Io.transition=O}else s.current=y;if(sh&&(sh=!1,Ml=s,lh=D),O=s.pendingLanes,O===0&&(kl=null),_o(y.stateNode),Fi(s,En()),c!==null)for(k=s.onRecoverableError,y=0;y<c.length;y++)D=c[y],k(D.value,{componentStack:D.stack,digest:D.digest});if(ah)throw ah=!1,s=Km,Km=null,s;return(lh&1)!==0&&s.tag!==0&&Nc(),O=s.pendingLanes,(O&1)!==0?s===Ym?Gd++:(Gd=0,Ym=s):Gd=0,ja(),null}function Nc(){if(Ml!==null){var s=ka(lh),c=Io.transition,y=Qt;try{if(Io.transition=null,Qt=16>s?16:s,Ml===null)var k=!1;else{if(s=Ml,Ml=null,lh=0,(nn&6)!==0)throw Error(n(331));var D=nn;for(nn|=4,dt=s.current;dt!==null;){var O=dt,H=O.child;if((dt.flags&16)!==0){var ae=O.deletions;if(ae!==null){for(var he=0;he<ae.length;he++){var Be=ae[he];for(dt=Be;dt!==null;){var Ye=dt;switch(Ye.tag){case 0:case 11:case 15:Ud(8,Ye,O)}var Je=Ye.child;if(Je!==null)Je.return=Ye,dt=Je;else for(;dt!==null;){Ye=dt;var We=Ye.sibling,ut=Ye.return;if(eb(Ye),Ye===Be){dt=null;break}if(We!==null){We.return=ut,dt=We;break}dt=ut}}}var pt=O.alternate;if(pt!==null){var _t=pt.child;if(_t!==null){pt.child=null;do{var Jn=_t.sibling;_t.sibling=null,_t=Jn}while(_t!==null)}}dt=O}}if((O.subtreeFlags&2064)!==0&&H!==null)H.return=O,dt=H;else e:for(;dt!==null;){if(O=dt,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:Ud(9,O,O.return)}var Me=O.sibling;if(Me!==null){Me.return=O.return,dt=Me;break e}dt=O.return}}var ge=s.current;for(dt=ge;dt!==null;){H=dt;var De=H.child;if((H.subtreeFlags&2064)!==0&&De!==null)De.return=H,dt=De;else e:for(H=ge;dt!==null;){if(ae=dt,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:rh(9,ae)}}catch(bt){Un(ae,ae.return,bt)}if(ae===H){dt=null;break e}var Qe=ae.sibling;if(Qe!==null){Qe.return=ae.return,dt=Qe;break e}dt=ae.return}}if(nn=D,ja(),ti&&typeof ti.onPostCommitFiberRoot=="function")try{ti.onPostCommitFiberRoot(as,s)}catch{}k=!0}return k}finally{Qt=y,Io.transition=c}}return!1}function gb(s,c,y){c=Dc(y,c),c=Ox(s,c,1),s=ce(s,c,1),c=pi(),s!==null&&(ni(s,1,c),Fi(s,c))}function Un(s,c,y){if(s.tag===3)gb(s,s,y);else for(;c!==null;){if(c.tag===3){gb(c,s,y);break}else if(c.tag===1){var k=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(kl===null||!kl.has(k))){s=Dc(y,s),s=Bx(c,s,1),c=ce(c,s,1),s=pi(),c!==null&&(ni(c,1,s),Fi(c,s));break}}c=c.return}}function tA(s,c,y){var k=s.pingCache;k!==null&&k.delete(c),c=pi(),s.pingedLanes|=s.suspendedLanes&y,Er===s&&(Rr&y)===y&&(yr===4||yr===3&&(Rr&130023424)===Rr&&500>En()-Zm?Tu(s,0):Wm|=y),Fi(s,c)}function yb(s,c){c===0&&((s.mode&1)===0?c=1:(c=La,La<<=1,(La&130023424)===0&&(La=4194304)));var y=pi();s=K(s,c),s!==null&&(ni(s,c,y),Fi(s,y))}function nA(s){var c=s.memoizedState,y=0;c!==null&&(y=c.retryLane),yb(s,y)}function rA(s,c){var y=0;switch(s.tag){case 13:var k=s.stateNode,D=s.memoizedState;D!==null&&(y=D.retryLane);break;case 19:k=s.stateNode;break;default:throw Error(n(314))}k!==null&&k.delete(c),yb(s,y)}var vb;vb=function(s,c,y){if(s!==null)if(s.memoizedProps!==c.pendingProps||hr.current)Ni=!0;else{if((s.lanes&y)===0&&(c.flags&128)===0)return Ni=!1,G4(s,c,y);Ni=(s.flags&131072)!==0}else Ni=!1,wn&&(c.flags&1048576)!==0&&Yn(c,Pc,c.index);switch(c.lanes=0,c.tag){case 2:var k=c.type;th(s,c),s=c.pendingProps;var D=bl(c,jn.current);me(c,y),D=Em(null,c,k,s,D,y);var O=km();return c.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,pr(k)?(O=!0,Mc(c)):O=!1,c.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,Y(c),D.updater=Qf,c.stateNode=D,D._reactInternals=c,Dm(c,k,s,y),c=Nm(null,c,k,!0,O,y)):(c.tag=0,wn&&O&&Ao(c),hi(null,c,D,y),c=c.child),c;case 16:k=c.elementType;e:{switch(th(s,c),s=c.pendingProps,D=k._init,k=D(k._payload),c.type=k,D=c.tag=oA(k),s=da(k,s),D){case 0:c=Bm(null,c,k,s,y);break e;case 1:c=Gx(null,c,k,s,y);break e;case 11:c=zx(null,c,k,s,y);break e;case 14:c=jx(null,c,k,da(k.type,s),y);break e}throw Error(n(306,k,""))}return c;case 0:return k=c.type,D=c.pendingProps,D=c.elementType===k?D:da(k,D),Bm(s,c,k,D,y);case 1:return k=c.type,D=c.pendingProps,D=c.elementType===k?D:da(k,D),Gx(s,c,k,D,y);case 3:e:{if(qx(c),s===null)throw Error(n(387));k=c.pendingProps,O=c.memoizedState,D=O.element,ee(s,c),be(c,k,null,y);var H=c.memoizedState;if(k=H.element,O.isDehydrated)if(O={element:k,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},c.updateQueue.baseState=O,c.memoizedState=O,c.flags&256){D=Dc(Error(n(423)),c),c=Hx(s,c,k,y,D);break e}else if(k!==D){D=Dc(Error(n(424)),c),c=Hx(s,c,k,y,D);break e}else for(Br=ci(c.stateNode.containerInfo.firstChild),fi=c,wn=!0,ro=null,y=Ee(c,null,k,y),c.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(M(),k===D){c=Ss(s,c,y);break e}hi(s,c,k,y)}c=c.child}return c;case 5:return ln(c),s===null&&d(c),k=c.type,D=c.pendingProps,O=s!==null?s.memoizedProps:null,H=D.children,Vt(k,D)?H=null:O!==null&&Vt(k,O)&&(c.flags|=32),Vx(s,c),hi(s,c,H,y),c.child;case 6:return s===null&&d(c),null;case 13:return Wx(s,c,y);case 4:return rn(c,c.stateNode.containerInfo),k=c.pendingProps,s===null?c.child=re(c,null,k,y):hi(s,c,k,y),c.child;case 11:return k=c.type,D=c.pendingProps,D=c.elementType===k?D:da(k,D),zx(s,c,k,D,y);case 7:return hi(s,c,c.pendingProps,y),c.child;case 8:return hi(s,c,c.pendingProps.children,y),c.child;case 12:return hi(s,c,c.pendingProps.children,y),c.child;case 10:e:{if(k=c.type._context,D=c.pendingProps,O=c.memoizedProps,H=D.value,hn(Ae,k._currentValue),k._currentValue=H,O!==null)if(qr(O.value,H)){if(O.children===D.children&&!hr.current){c=Ss(s,c,y);break e}}else for(O=c.child,O!==null&&(O.return=c);O!==null;){var ae=O.dependencies;if(ae!==null){H=O.child;for(var he=ae.firstContext;he!==null;){if(he.context===k){if(O.tag===1){he=Q(-1,y&-y),he.tag=2;var Be=O.updateQueue;if(Be!==null){Be=Be.shared;var Ye=Be.pending;Ye===null?he.next=he:(he.next=Ye.next,Ye.next=he),Be.pending=he}}O.lanes|=y,he=O.alternate,he!==null&&(he.lanes|=y),ue(O.return,y,c),ae.lanes|=y;break}he=he.next}}else if(O.tag===10)H=O.type===c.type?null:O.child;else if(O.tag===18){if(H=O.return,H===null)throw Error(n(341));H.lanes|=y,ae=H.alternate,ae!==null&&(ae.lanes|=y),ue(H,y,c),H=O.sibling}else H=O.child;if(H!==null)H.return=O;else for(H=O;H!==null;){if(H===c){H=null;break}if(O=H.sibling,O!==null){O.return=H.return,H=O;break}H=H.return}O=H}hi(s,c,D.children,y),c=c.child}return c;case 9:return D=c.type,k=c.pendingProps.children,me(c,y),D=Se(D),k=k(D),c.flags|=1,hi(s,c,k,y),c.child;case 14:return k=c.type,D=da(k,c.pendingProps),D=da(k.type,D),jx(s,c,k,D,y);case 15:return Ux(s,c,c.type,c.pendingProps,y);case 17:return k=c.type,D=c.pendingProps,D=c.elementType===k?D:da(k,D),th(s,c),c.tag=1,pr(k)?(s=!0,Mc(c)):s=!1,me(c,y),Dx(c,k,D),Dm(c,k,D,y),Nm(null,c,k,!0,s,y);case 19:return Kx(s,c,y);case 22:return $x(s,c,y)}throw Error(n(156,c.tag))};function _b(s,c){return fc(s,c)}function iA(s,c,y,k){this.tag=s,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oo(s,c,y,k){return new iA(s,c,y,k)}function ng(s){return s=s.prototype,!(!s||!s.isReactComponent)}function oA(s){if(typeof s=="function")return ng(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Ne)return 11;if(s===ht)return 14}return 2}function Pl(s,c){var y=s.alternate;return y===null?(y=Oo(s.tag,c,s.key,s.mode),y.elementType=s.elementType,y.type=s.type,y.stateNode=s.stateNode,y.alternate=s,s.alternate=y):(y.pendingProps=c,y.type=s.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=s.flags&14680064,y.childLanes=s.childLanes,y.lanes=s.lanes,y.child=s.child,y.memoizedProps=s.memoizedProps,y.memoizedState=s.memoizedState,y.updateQueue=s.updateQueue,c=s.dependencies,y.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},y.sibling=s.sibling,y.index=s.index,y.ref=s.ref,y}function fh(s,c,y,k,D,O){var H=2;if(k=s,typeof s=="function")ng(s)&&(H=1);else if(typeof s=="string")H=5;else e:switch(s){case se:return Au(y.children,D,O,c);case ke:H=8,D|=8;break;case Le:return s=Oo(12,y,c,D|2),s.elementType=Le,s.lanes=O,s;case qe:return s=Oo(13,y,c,D),s.elementType=qe,s.lanes=O,s;case Ke:return s=Oo(19,y,c,D),s.elementType=Ke,s.lanes=O,s;case it:return hh(y,D,O,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Pe:H=10;break e;case _e:H=9;break e;case Ne:H=11;break e;case ht:H=14;break e;case Xe:H=16,k=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return c=Oo(H,y,c,D),c.elementType=s,c.type=k,c.lanes=O,c}function Au(s,c,y,k){return s=Oo(7,s,k,c),s.lanes=y,s}function hh(s,c,y,k){return s=Oo(22,s,k,c),s.elementType=it,s.lanes=y,s.stateNode={isHidden:!1},s}function rg(s,c,y){return s=Oo(6,s,null,c),s.lanes=y,s}function ig(s,c,y){return c=Oo(4,s.children!==null?s.children:[],s.key,c),c.lanes=y,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function aA(s,c,y,k,D){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ea(0),this.expirationTimes=Ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.identifierPrefix=k,this.onRecoverableError=D,this.mutableSourceEagerHydrationData=null}function og(s,c,y,k,D,O,H,ae,he){return s=new aA(s,c,y,ae,he),c===1?(c=1,O===!0&&(c|=8)):c=0,O=Oo(3,null,null,c),s.current=O,O.stateNode=s,O.memoizedState={element:k,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Y(O),s}function sA(s,c,y){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:k==null?null:""+k,children:s,containerInfo:c,implementation:y}}function xb(s){if(!s)return za;s=s._reactInternals;e:{if(vo(s)!==s||s.tag!==1)throw Error(n(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(pr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(s.tag===1){var y=s.type;if(pr(y))return Wf(s,y,c)}return c}function bb(s,c,y,k,D,O,H,ae,he){return s=og(y,k,!0,s,D,O,H,ae,he),s.context=xb(null),y=s.current,k=pi(),D=Sl(y),O=Q(k,D),O.callback=c??null,ce(y,O,D),s.current.lanes=D,ni(s,D,k),Fi(s,k),s}function ph(s,c,y,k){var D=c.current,O=pi(),H=Sl(D);return y=xb(y),c.context===null?c.context=y:c.pendingContext=y,c=Q(O,H),c.payload={element:s},k=k===void 0?null:k,k!==null&&(c.callback=k),s=ce(D,c,H),s!==null&&(pa(s,D,H,O),de(s,D,H)),H}function mh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function wb(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var y=s.retryLane;s.retryLane=y!==0&&y<c?y:c}}function ag(s,c){wb(s,c),(s=s.alternate)&&wb(s,c)}function lA(){return null}var Cb=typeof reportError=="function"?reportError:function(s){console.error(s)};function sg(s){this._internalRoot=s}gh.prototype.render=sg.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(n(409));ph(s,c,null,null)},gh.prototype.unmount=sg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;Su(function(){ph(null,s,null,null)}),c[tn]=null}};function gh(s){this._internalRoot=s}gh.prototype.unstable_scheduleHydration=function(s){if(s){var c=nl();s={blockedOn:null,target:s,priority:c};for(var y=0;y<Gn.length&&c!==0&&c<Gn[y].priority;y++);Gn.splice(y,0,s),y===0&&Xi(s)}};function lg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function yh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Lb(){}function uA(s,c,y,k,D){if(D){if(typeof k=="function"){var O=k;k=function(){var Be=mh(H);O.call(Be)}}var H=bb(c,k,s,0,null,!1,!1,"",Lb);return s._reactRootContainer=H,s[tn]=H.current,Zn(s.nodeType===8?s.parentNode:s),Su(),H}for(;D=s.lastChild;)s.removeChild(D);if(typeof k=="function"){var ae=k;k=function(){var Be=mh(he);ae.call(Be)}}var he=og(s,0,!1,null,null,!1,!1,"",Lb);return s._reactRootContainer=he,s[tn]=he.current,Zn(s.nodeType===8?s.parentNode:s),Su(function(){ph(c,he,y,k)}),he}function vh(s,c,y,k,D){var O=y._reactRootContainer;if(O){var H=O;if(typeof D=="function"){var ae=D;D=function(){var he=mh(H);ae.call(he)}}ph(c,H,s,D)}else H=uA(y,c,s,D,k);return mh(H)}el=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var y=Ot(c.pendingLanes);y!==0&&(Yi(c,y|1),Fi(c,En()),(nn&6)===0&&(Bc=En()+500,ja()))}break;case 13:Su(function(){var k=K(s,1);if(k!==null){var D=pi();pa(k,s,1,D)}}),ag(s,1)}},xo=function(s){if(s.tag===13){var c=K(s,134217728);if(c!==null){var y=pi();pa(c,s,134217728,y)}ag(s,134217728)}},tl=function(s){if(s.tag===13){var c=Sl(s),y=K(s,c);if(y!==null){var k=pi();pa(y,s,c,k)}ag(s,c)}},nl=function(){return Qt},ls=function(s,c){var y=Qt;try{return Qt=s,c()}finally{Qt=y}},ns=function(s,c,y){switch(c){case"input":if(Qn(s,y),c=y.name,y.type==="radio"&&c!=null){for(y=s;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<y.length;c++){var k=y[c];if(k!==s&&k.form===s.form){var D=_l(k);if(!D)throw Error(n(90));He(k),Qn(k,D)}}}break;case"textarea":St(s,y);break;case"select":c=y.value,c!=null&&vi(s,!!y.multiple,c,!1)}},Ql=Qm,lc=Su;var cA={usingClientEntryPoint:!1,Events:[Oi,So,_l,sc,Xl,Qm]},qd={findFiberByHostInstance:sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dA={bundleType:qd.bundleType,version:qd.version,rendererPackageName:qd.rendererPackageName,rendererConfig:qd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=cc(s),s===null?null:s.stateNode},findFiberByHostInstance:qd.findFiberByHostInstance||lA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{as=_h.inject(dA),ti=_h}catch{}}return zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cA,zi.createPortal=function(s,c){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lg(c))throw Error(n(200));return sA(s,c,null,y)},zi.createRoot=function(s,c){if(!lg(s))throw Error(n(299));var y=!1,k="",D=Cb;return c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(k=c.identifierPrefix),c.onRecoverableError!==void 0&&(D=c.onRecoverableError)),c=og(s,1,!1,null,null,y,!1,k,D),s[tn]=c.current,Zn(s.nodeType===8?s.parentNode:s),new sg(c)},zi.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=cc(c),s=s===null?null:s.stateNode,s},zi.flushSync=function(s){return Su(s)},zi.hydrate=function(s,c,y){if(!yh(c))throw Error(n(200));return vh(null,s,c,!0,y)},zi.hydrateRoot=function(s,c,y){if(!lg(s))throw Error(n(405));var k=y!=null&&y.hydratedSources||null,D=!1,O="",H=Cb;if(y!=null&&(y.unstable_strictMode===!0&&(D=!0),y.identifierPrefix!==void 0&&(O=y.identifierPrefix),y.onRecoverableError!==void 0&&(H=y.onRecoverableError)),c=bb(c,null,s,1,y??null,D,!1,O,H),s[tn]=c.current,Zn(s),k)for(s=0;s<k.length;s++)y=k[s],D=y._getVersion,D=D(y._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[y,D]:c.mutableSourceEagerHydrationData.push(y,D);return new gh(c)},zi.render=function(s,c,y){if(!yh(c))throw Error(n(200));return vh(null,s,c,!1,y)},zi.unmountComponentAtNode=function(s){if(!yh(s))throw Error(n(40));return s._reactRootContainer?(Su(function(){vh(null,null,s,!1,function(){s._reactRootContainer=null,s[tn]=null})}),!0):!1},zi.unstable_batchedUpdates=Qm,zi.unstable_renderSubtreeIntoContainer=function(s,c,y,k){if(!yh(y))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return vh(s,c,y,!1,k)},zi.version="18.3.1-next-f1338f8080-20240426",zi}var Db;function Ck(){if(Db)return dg.exports;Db=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dg.exports=wA(),dg.exports}var Ib;function CA(){if(Ib)return bh;Ib=1;var t=Ck();return bh.createRoot=t.createRoot,bh.hydrateRoot=t.hydrateRoot,bh}var LA=CA();const EA=Go(LA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MA=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ob=t=>{const e=MA(t);return e.charAt(0).toUpperCase()+e.slice(1)},Lk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),SA=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=$.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...u},f)=>$.createElement("svg",{ref:f,...TA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Lk("lucide",i),...!o&&!SA(u)&&{"aria-hidden":"true"},...u},[...a.map(([h,m])=>$.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=(t,e)=>{const n=$.forwardRef(({className:r,...i},o)=>$.createElement(PA,{ref:o,iconNode:e,className:Lk(`lucide-${kA(Ob(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Ob(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],DA=Zt("activity",AA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Ek=Zt("brain-circuit",IA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"15",y:"5",width:"4",height:"12",rx:"1",key:"q8uenq"}],["rect",{x:"7",y:"8",width:"4",height:"9",rx:"1",key:"sr5ea"}]],BA=Zt("chart-column-big",OA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],RA=Zt("chart-column",NA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],zA=Zt("chart-line",FA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],UA=Zt("chart-no-axes-column",jA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kk=Zt("chevron-left",$A);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],GA=Zt("chevron-right",VA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],HA=Zt("circle-alert",qA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ZA=Zt("circle-check-big",WA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],YA=Zt("circle-check",KA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],XA=Zt("cloud-upload",JA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],e3=Zt("code",QA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],x_=Zt("compass",t3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["line",{x1:"12",x2:"18",y1:"12",y2:"18",key:"1rg63v"}],["line",{x1:"12",x2:"18",y1:"18",y2:"12",key:"ebkxgr"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],r3=Zt("copy-x",n3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Mk=Zt("database",i3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],a3=Zt("download",o3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],l3=Zt("eye",s3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Bb=Zt("file-plus",u3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Nb=Zt("file-text",c3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Rb=Zt("file-up",d3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],b_=Zt("info",f3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],p3=Zt("languages",h3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],g3=Zt("list-checks",m3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sk=Zt("loader-circle",y3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_3=Zt("mail",v3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],b3=Zt("map",x3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],C3=Zt("menu",w3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],tv=Zt("palette",L3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],k3=Zt("phone",E3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],S3=Zt("sliders-horizontal",M3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],nv=Zt("sparkles",T3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],A3=Zt("square-check-big",P3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],I3=Zt("square",D3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Tk=Zt("timer",O3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Pk=Zt("trash-2",B3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pf=Zt("triangle-alert",N3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Hh=Zt("users",R3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Af=Zt("x",F3),z3={bg_primary:"#080B18",bg_secondary:"#0F1327",bg_tertiary:"#161B33",bg_quaternary:"#1E2545",text_primary:"#F8FAFC",text_secondary:"#C7CCE7",text_tertiary:"#8B92BD",accent_primary:"#60A5FA",accent_secondary:"#A855F7",accent_tertiary:"#34D399",border:"#1F2642",border_light:"#2A3254",warning:"#FACC15",overload:"#F87171",success:"#34D399",info:"#38BDF8"},j3={bg_primary:"#F5F7FB",bg_secondary:"#FFFFFF",bg_tertiary:"#EEF1F8",bg_quaternary:"#E1E6F2",text_primary:"#0F172A",text_secondary:"#475569",text_tertiary:"#64748B",accent_primary:"#2563EB",accent_secondary:"#F97316",accent_tertiary:"#0EA5E9",border:"#CBD5E1",border_light:"#E2E8F0",warning:"#F97316",overload:"#DC2626",success:"#16A34A",info:"#2563EB"},U3={bg_primary:"#101318",bg_secondary:"#171B23",bg_tertiary:"#1E242E",bg_quaternary:"#262E3B",text_primary:"#F5F9FF",text_secondary:"#BBC3D6",text_tertiary:"#8D96AA",accent_primary:"#3B82F6",accent_secondary:"#F59E0B",accent_tertiary:"#38BDF8",border:"#2C3645",border_light:"#3A4558",warning:"#F59E0B",overload:"#FB7185",success:"#22C55E",info:"#38BDF8"},rv={Aurora:z3,Lumen:j3,Equinox:U3},Fb="Lumen";function $3(t,e,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function Ak(t,e,n={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!zb(t[0])||!zb(t[1]))throw new Error("coordinates must contain numbers");return $3({type:"Point",coordinates:t},e,n)}function iv(t,e={}){const n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function zb(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}const jb=(t,e)=>{if(t.vibPositionEasting===null||t.vibPositionNorthing===null||e.vibPositionEasting===null||e.vibPositionNorthing===null)return 1/0;const n=t.vibPositionEasting-e.vibPositionEasting,r=t.vibPositionNorthing-e.vibPositionNorthing;return Math.sqrt(n*n+r*r)},V3=t=>{if(t.length<3)return t;const e=t.filter(a=>a.hasGpsData&&a.vibPositionElevation!=null),n={},r=100;e.forEach(a=>{const u=Math.floor(a.vibPositionEasting/r),f=Math.floor(a.vibPositionNorthing/r),h=`${u},${f}`;n[h]||(n[h]=[]),n[h].push(a)});const i=a=>{const u=Math.floor(a.vibPositionEasting/r),f=Math.floor(a.vibPositionNorthing/r),h=[];for(let m=-1;m<=1;m++)for(let _=-1;_<=1;_++){const E=`${u+m},${f+_}`;n[E]&&h.push(...n[E])}return h.filter(m=>m.id!==a.id).sort((m,_)=>jb(a,m)-jb(a,_)).slice(0,8)},o=new Map(t.map(a=>[a.id,a]));return e.forEach(a=>{const u=i(a);if(u.length<2){a.slope=0,a.aspect=-1;return}const f=[a,...u].map(qe=>Ak([qe.vibPositionEasting,qe.vibPositionNorthing],{elevation:qe.vibPositionElevation}));iv(f);const h=f.length;let m=0,_=0,E=0;for(const qe of f){const Ke=qe.geometry.coordinates[0],ht=qe.geometry.coordinates[1],Xe=qe.properties.elevation;m+=Ke,_+=ht,E+=Xe}const S=m/h,A=_/h,I=E/h;let N=0,z=0,G=0,Z=0,X=0;for(const qe of f){const Ke=qe.geometry.coordinates[0],ht=qe.geometry.coordinates[1],Xe=qe.properties.elevation;N+=(Ke-S)*(Ke-S),z+=(ht-A)*(ht-A),G+=(Ke-S)*(ht-A),Z+=(Ke-S)*(Xe-I),X+=(ht-A)*(Xe-I)}const te=N*z-G*G;if(Math.abs(te)<1e-9){a.slope=0,a.aspect=-1;return}const ne=(z*Z-G*X)/te,se=(N*X-G*Z)/te,Le=Math.atan(Math.sqrt(ne*ne+se*se))*(180/Math.PI);let _e=Math.atan2(-ne,se)*(180/Math.PI);_e<0&&(_e+=360);const Ne=o.get(a.id);Ne&&(Ne.slope=Le,Ne.aspect=_e)}),Array.from(o.values())};function G3(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function q3(t){return t.type==="Feature"?t.geometry:t}const Os=11102230246251565e-32,Yr=134217729,H3=(3+8*Os)*Os;function pg(t,e,n,r,i){let o,a,u,f,h=e[0],m=r[0],_=0,E=0;m>h==m>-h?(o=h,h=e[++_]):(o=m,m=r[++E]);let S=0;if(_<t&&E<n)for(m>h==m>-h?(a=h+o,u=o-(a-h),h=e[++_]):(a=m+o,u=o-(a-m),m=r[++E]),o=a,u!==0&&(i[S++]=u);_<t&&E<n;)m>h==m>-h?(a=o+h,f=a-o,u=o-(a-f)+(h-f),h=e[++_]):(a=o+m,f=a-o,u=o-(a-f)+(m-f),m=r[++E]),o=a,u!==0&&(i[S++]=u);for(;_<t;)a=o+h,f=a-o,u=o-(a-f)+(h-f),h=e[++_],o=a,u!==0&&(i[S++]=u);for(;E<n;)a=o+m,f=a-o,u=o-(a-f)+(m-f),m=r[++E],o=a,u!==0&&(i[S++]=u);return(o!==0||S===0)&&(i[S++]=o),S}function W3(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function Df(t){return new Float64Array(t)}const Z3=(3+16*Os)*Os,K3=(2+12*Os)*Os,Y3=(9+64*Os)*Os*Os,Rc=Df(4),Ub=Df(8),$b=Df(12),Vb=Df(16),mi=Df(4);function J3(t,e,n,r,i,o,a){let u,f,h,m,_,E,S,A,I,N,z,G,Z,X,te,ne,se,ke;const Le=t-i,Pe=n-i,_e=e-o,Ne=r-o;X=Le*Ne,E=Yr*Le,S=E-(E-Le),A=Le-S,E=Yr*Ne,I=E-(E-Ne),N=Ne-I,te=A*N-(X-S*I-A*I-S*N),ne=_e*Pe,E=Yr*_e,S=E-(E-_e),A=_e-S,E=Yr*Pe,I=E-(E-Pe),N=Pe-I,se=A*N-(ne-S*I-A*I-S*N),z=te-se,_=te-z,Rc[0]=te-(z+_)+(_-se),G=X+z,_=G-X,Z=X-(G-_)+(z-_),z=Z-ne,_=Z-z,Rc[1]=Z-(z+_)+(_-ne),ke=G+z,_=ke-G,Rc[2]=G-(ke-_)+(z-_),Rc[3]=ke;let qe=W3(4,Rc),Ke=K3*a;if(qe>=Ke||-qe>=Ke||(_=t-Le,u=t-(Le+_)+(_-i),_=n-Pe,h=n-(Pe+_)+(_-i),_=e-_e,f=e-(_e+_)+(_-o),_=r-Ne,m=r-(Ne+_)+(_-o),u===0&&f===0&&h===0&&m===0)||(Ke=Y3*a+H3*Math.abs(qe),qe+=Le*m+Ne*u-(_e*h+Pe*f),qe>=Ke||-qe>=Ke))return qe;X=u*Ne,E=Yr*u,S=E-(E-u),A=u-S,E=Yr*Ne,I=E-(E-Ne),N=Ne-I,te=A*N-(X-S*I-A*I-S*N),ne=f*Pe,E=Yr*f,S=E-(E-f),A=f-S,E=Yr*Pe,I=E-(E-Pe),N=Pe-I,se=A*N-(ne-S*I-A*I-S*N),z=te-se,_=te-z,mi[0]=te-(z+_)+(_-se),G=X+z,_=G-X,Z=X-(G-_)+(z-_),z=Z-ne,_=Z-z,mi[1]=Z-(z+_)+(_-ne),ke=G+z,_=ke-G,mi[2]=G-(ke-_)+(z-_),mi[3]=ke;const ht=pg(4,Rc,4,mi,Ub);X=Le*m,E=Yr*Le,S=E-(E-Le),A=Le-S,E=Yr*m,I=E-(E-m),N=m-I,te=A*N-(X-S*I-A*I-S*N),ne=_e*h,E=Yr*_e,S=E-(E-_e),A=_e-S,E=Yr*h,I=E-(E-h),N=h-I,se=A*N-(ne-S*I-A*I-S*N),z=te-se,_=te-z,mi[0]=te-(z+_)+(_-se),G=X+z,_=G-X,Z=X-(G-_)+(z-_),z=Z-ne,_=Z-z,mi[1]=Z-(z+_)+(_-ne),ke=G+z,_=ke-G,mi[2]=G-(ke-_)+(z-_),mi[3]=ke;const Xe=pg(ht,Ub,4,mi,$b);X=u*m,E=Yr*u,S=E-(E-u),A=u-S,E=Yr*m,I=E-(E-m),N=m-I,te=A*N-(X-S*I-A*I-S*N),ne=f*h,E=Yr*f,S=E-(E-f),A=f-S,E=Yr*h,I=E-(E-h),N=h-I,se=A*N-(ne-S*I-A*I-S*N),z=te-se,_=te-z,mi[0]=te-(z+_)+(_-se),G=X+z,_=G-X,Z=X-(G-_)+(z-_),z=Z-ne,_=Z-z,mi[1]=Z-(z+_)+(_-ne),ke=G+z,_=ke-G,mi[2]=G-(ke-_)+(z-_),mi[3]=ke;const it=pg(Xe,$b,4,mi,Vb);return Vb[it-1]}function X3(t,e,n,r,i,o){const a=(e-o)*(n-i),u=(t-i)*(r-o),f=a-u,h=Math.abs(a+u);return Math.abs(f)>=Z3*h?f:-J3(t,e,n,r,i,o,h)}function Q3(t,e){var n,r,i=0,o,a,u,f,h,m,_,E=t[0],S=t[1],A=e.length;for(n=0;n<A;n++){r=0;var I=e[n],N=I.length-1;if(m=I[0],m[0]!==I[N][0]&&m[1]!==I[N][1])throw new Error("First and last coordinates in a ring must be the same");for(a=m[0]-E,u=m[1]-S,r;r<N;r++){if(_=I[r+1],f=_[0]-E,h=_[1]-S,u===0&&h===0){if(f<=0&&a>=0||a<=0&&f>=0)return 0}else if(h>=0&&u<=0||h<=0&&u>=0){if(o=X3(a,f,u,h,0,0),o===0)return 0;(o>0&&h>0&&u<=0||o<0&&h<=0&&u>0)&&i++}m=_,u=h,a=f}}return i%2!==0}function eD(t,e,n={}){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");const r=G3(t),i=q3(e),o=i.type,a=e.bbox;let u=i.coordinates;if(a&&tD(r,a)===!1)return!1;o==="Polygon"&&(u=[u]);let f=!1;for(var h=0;h<u.length;++h){const m=Q3(r,u[h]);if(m===0)return!n.ignoreBoundary;m&&(f=!0)}return f}function tD(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}const Gi=t=>{const e=t.match(/\d+/);return e?parseInt(e[0],10):0},Dk=t=>{const e=Math.floor(t/3600),n=Math.floor(t%3600/60);return`${String(e).padStart(2,"0")}h ${String(n).padStart(2,"0")}m`},nD=t=>{if(t<60)return`${Math.round(t)}s`;const e=Math.floor(t/3600),n=Math.floor(t%3600/60);return e>0?`${e}h${n}m`:`${n}m`},rD=t=>{if(isNaN(t)||t<0)return"0h00m";const e=Math.floor(t/3600),n=Math.floor(t%3600/60);return`${e}h${String(n).padStart(2,"0")}m`},iD=[{name:"recordIdentification",start:0,end:1,type:"string"},{name:"lineName",start:1,end:17,type:"string"},{name:"pointNumber",start:17,end:25,type:"string"},{name:"pointIndex",start:25,end:26,type:"integer"},{name:"fleetNumber",start:26,end:27,type:"string"},{name:"vibratorNumber",start:27,end:29,type:"integer"},{name:"vibratorDriveLevel",start:29,end:32,type:"integer"},{name:"averagePhase",start:32,end:36,type:"integer"},{name:"peakPhase",start:36,end:40,type:"integer"},{name:"averageDistortion",start:40,end:42,type:"integer"},{name:"peakDistortion",start:42,end:44,type:"integer"},{name:"averageForce",start:44,end:46,type:"integer"},{name:"peakForce",start:46,end:49,type:"integer"},{name:"averageGroundStiffness",start:49,end:52,type:"integer"},{name:"averageGroundViscosity",start:52,end:55,type:"integer"},{name:"vibPositionEasting",start:55,end:64,type:"float"},{name:"vibPositionNorthing",start:64,end:74,type:"float"},{name:"vibPositionElevation",start:74,end:80,type:"float"},{name:"shotNb",start:81,end:86,type:"integer"},{name:"acquisitionNb",start:86,end:88,type:"integer"},{name:"twoDigitsFleetNumber",start:88,end:90,type:"integer"},{name:"vibStatusCode",start:90,end:92,type:"integer"},{name:"mass1Warning",start:93,end:94,type:"string"},{name:"mass2Warning",start:94,end:95,type:"string"},{name:"mass3Warning",start:95,end:96,type:"string"},{name:"plate1Warning",start:99,end:100,type:"string"},{name:"plate2Warning",start:100,end:101,type:"string"},{name:"plate3Warning",start:101,end:102,type:"string"},{name:"plate4Warning",start:102,end:103,type:"string"},{name:"plate5Warning",start:103,end:104,type:"string"},{name:"plate6Warning",start:104,end:105,type:"string"},{name:"forceOverload",start:105,end:106,type:"string"},{name:"pressureOverload",start:106,end:107,type:"string"},{name:"massOverload",start:107,end:108,type:"string"},{name:"valveOverload",start:108,end:109,type:"string"},{name:"excitationOverload",start:109,end:110,type:"string"},{name:"stackingFold",start:110,end:112,type:"integer"},{name:"computationDomain",start:112,end:113,type:"string"},{name:"ve432Version",start:113,end:117,type:"string"},{name:"dayOfYear",start:117,end:120,type:"integer"},{name:"timeHhmmss",start:120,end:126,type:"string"},{name:"hdop",start:126,end:130,type:"float"},{name:"tbDate",start:130,end:150,type:"string"},{name:"gpgga",start:150,end:349,type:"string"}],oD=(t,e)=>{const n=t.trim();if(n==="")return null;const r=e==="integer"?parseInt(n,10):parseFloat(n);return isNaN(r)?null:r},aD=t=>{if(!t)return null;const e=t.vibratorNumber;return e!=null?`v${e}`:null},sD=t=>{const n=t.split(`
`).filter(_=>_.startsWith("A")&&_.length>120),r=n.length;let i=[];n.forEach((_,E)=>{const S={id:`${E}-${_.substring(1,25).trim()}`,lineNumber:E+1};iD.forEach(z=>{const G=_.substring(z.start,z.end);S[z.name]=z.type==="string"?G.trim()===""?null:G.trim():oD(G,z.type)});const A=S;A.vibratorId=aD(A),A.hasGpsData=A.vibPositionEasting!==null&&A.vibPositionNorthing!==null&&A.vibPositionEasting!==0&&A.vibPositionNorthing!==0&&!!A.gpgga;const I=["forceOverload","pressureOverload","massOverload","valveOverload","excitationOverload"];A.hasOverload=I.some(z=>A[z]&&A[z].trim()!=="");const N=["mass1Warning","mass2Warning","mass3Warning","plate1Warning","plate2Warning","plate3Warning","plate4Warning","plate5Warning","plate6Warning"];A.hasWarning=N.some(z=>A[z]&&A[z].trim()!==""),A.hasOverload?A.status="overload":A.hasWarning?A.status="warning":A.status="ok",i.push(A)}),i=V3(i);const o=new Map;i.forEach(_=>{_.shotNb!=null&&_.vibratorId&&(o.has(_.shotNb)||o.set(_.shotNb,new Set),o.get(_.shotNb).add(_.vibratorId))});const a=[];o.forEach((_,E)=>{_.size>1&&a.push({shotNb:E,vibrators:Array.from(_).sort((S,A)=>Gi(S)-Gi(A))})}),a.sort((_,E)=>_.shotNb-E.shotNb);const u=new Map;i.forEach((_,E)=>{if(_.shotNb&&_.vibratorId){const S=`${_.shotNb}-${_.vibratorId}`;u.set(S,E)}});const f={},h=new Map,m=new Map;i.forEach(_=>{var S;if(!_.vibratorId)return;const E=(S=_.gpgga)==null?void 0:S.match(/(\$GPGGA),(\d{6}(?:\.\d{1,})?)/);if(E&&E[2])try{const A=E[2],I=parseInt(A.substring(0,2),10),N=parseInt(A.substring(2,4),10),z=parseFloat(A.substring(4)),G=Math.floor(z),Z=Math.round((z-G)*1e3),X=new Date(1970,0,1,I,N,G,Z);(!h.has(_.vibratorId)||X<h.get(_.vibratorId))&&h.set(_.vibratorId,X),(!m.has(_.vibratorId)||X>m.get(_.vibratorId))&&m.set(_.vibratorId,X)}catch(A){console.warn("Could not parse time in pre-pass",A)}}),i.forEach((_,E)=>{var z,G;if(!_.vibratorId)return;const S=_.shotNb?`${_.shotNb}-${_.vibratorId}`:null,A=S?E!==u.get(S):!0,I=(z=_.gpgga)==null?void 0:z.match(/(\$GPGGA),(\d{6}(?:\.\d{1,})?)/);f[_.vibratorId]||(f[_.vibratorId]={count:0,net_count:0,times:[],first_time_net:null,last_time_net:null,first_time_total:h.get(_.vibratorId)||null,last_time_total:m.get(_.vibratorId)||null,duplicates:0,duration_seconds_net:0,duration_seconds_total:0,multi_vib_shots:0});const N=f[_.vibratorId];if(N.count++,A||!I||!I[2]||(G=_.gpgga)!=null&&G.includes("$ERROR"))N.duplicates++;else try{const Z=I[2],X=parseInt(Z.substring(0,2),10),te=parseInt(Z.substring(2,4),10),ne=parseFloat(Z.substring(4)),se=Math.floor(ne),ke=Math.round((ne-se)*1e3),Le=new Date(1970,0,1,X,te,se,ke);N.net_count++,N.times.push(Le),(!N.first_time_net||Le<N.first_time_net)&&(N.first_time_net=Le),(!N.last_time_net||Le>N.last_time_net)&&(N.last_time_net=Le)}catch{console.warn(`Error parsing time for line ${E+1}`),N.duplicates++}});for(const _ in f){const E=f[_];E.last_time_net&&E.first_time_net&&(E.duration_seconds_net=(E.last_time_net.getTime()-E.first_time_net.getTime())/1e3),E.last_time_total&&E.first_time_total&&(E.duration_seconds_total=(E.last_time_total.getTime()-E.first_time_total.getTime())/1e3)}return a.forEach(_=>{_.vibrators.forEach(E=>{f[E]&&f[E].multi_vib_shots++})}),Object.keys(f).length===0?{result:null,rawRecords:[],totalLines:0,conflictedShotDetails:[]}:{result:f,rawRecords:i,totalLines:r,conflictedShotDetails:a}},Gb=t=>{const e=t.split(`
`).filter(r=>r.trim()!==""),n=[];for(const r of e)try{const i=r.trim().split(/\s+/);if(i.length<5)continue;let o,a,u;const f=i.length,h=parseFloat(i[f-1]),m=parseFloat(i[f-2]);m<1e6&&h>1e6?(o=m,a=h,u=0):(o=parseFloat(i[f-3]),a=m,u=h);const _=parseFloat(i[i[0].toUpperCase()==="S"?2:1]),E=parseFloat(i[i[0].toUpperCase()==="S"?1:2]);if([_,E,o,a,u].some(isNaN))continue;n.push({id:`L${E}-S${_}`,station:_,line:E,x:o,y:a,z:u,difficulty:0})}catch(i){console.warn("Skipping malformed SPS line:",r,i)}if(n.length>1){const r=[];for(let o=0;o<n.length;o++){const a=n[o-1],u=n[o+1];let f=0;a&&u&&a.line===n[o].line&&u.line===n[o].line?f=Math.abs(u.z-a.z):u&&u.line===n[o].line&&(f=Math.abs(u.z-n[o].z)),n[o].difficulty=f,f>0&&r.push(f)}const i=Math.max(...r);if(i>0)for(let o=0;o<n.length;o++)n[o].difficulty=n[o].difficulty/i}return n},lD=t=>{const e=Object.entries(t).map(([r,i])=>{var f,h;const o=i.net_count,a=i.duration_seconds_total/3600,u=a>0?o/a:0;return{vibro_id:r,count:i.count,net_count:i.net_count,duplicates:i.duplicates,dup_perc:i.count>0?i.duplicates/i.count*100:0,first_time:((f=i.first_time_total)==null?void 0:f.toLocaleTimeString("en-GB"))||"N/A",last_time:((h=i.last_time_total)==null?void 0:h.toLocaleTimeString("en-GB"))||"N/A",duration_total:Dk(i.duration_seconds_total),multi_vib_shots:i.multi_vib_shots,efficiencyScore:u}}),n=Math.max(...e.map(r=>r.efficiencyScore));return n>0&&e.forEach(r=>{r.efficiencyScore=r.efficiencyScore/n*100}),e.sort((r,i)=>Gi(r.vibro_id)-Gi(i.vibro_id))},uD=(t,e,n,r)=>{const i=Object.values(t).reduce((f,h)=>f+h.duplicates,0),o=Object.values(t).reduce((f,h)=>f+h.net_count,0),a=Object.values(t).reduce((f,h)=>f+h.duration_seconds_total,0),u=lD(t);return{timestamp:new Date().toLocaleString(),source_file:e,general_summary:{total_vibros:Object.keys(t).length,total_operations:n,total_duplicates:i,net_operations:o,duplicate_percentage:n>0?i/n*100:0,total_operation_duration_str:Dk(a),conflicted_shot_details:r},individual_performance:u}},cD=(t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),dD=(t,e)=>{if(e<=0||e>t.length)return[t];let n=t.slice(0,e).map(f=>({x:f.x,y:f.y})),r=[],i=!0;const o=50;let a=0;for(;i&&a<o;){i=!1,a++;const f=t.map(m=>{let _=1/0,E=0;return n.forEach((S,A)=>{const I=cD(m,S);I<_&&(_=I,E=A)}),E});r.toString()!==f.toString()?(i=!0,r=f):i=!1;const h=Array.from({length:e},()=>({x:0,y:0,count:0}));t.forEach((m,_)=>{const E=r[_];h[E].x+=m.x,h[E].y+=m.y,h[E].count++}),n=h.map(m=>({x:m.count>0?m.x/m.count:0,y:m.count>0?m.y/m.count:0}))}const u=Array.from({length:e},()=>[]);return t.forEach((f,h)=>{u[r[h]].push(f)}),u.filter(f=>f.length>0)},fD=(t,e,n)=>{try{const r=e.length;if(r===0||t.length===0)return t;let i=t;n&&n.features.length>0&&(i=t.filter(m=>{const _=Ak([m.location.lon,m.location.lat]);for(const E of n.features)if(eD(_,E))return!1;return!0}));const o=dD(i,r),a=[...e].sort((m,_)=>_.efficiencyScore-m.efficiencyScore),u=[];o.forEach((m,_)=>{const E=a[_%r];E&&m.forEach(S=>{u.push({...S,assignedVibrator:E.vibro_id})})});const f={};u.forEach(m=>{m.assignedVibrator&&(f[m.assignedVibrator]||(f[m.assignedVibrator]=[]),f[m.assignedVibrator].push(m))});const h=[];return Object.keys(f).sort((m,_)=>Gi(m)-Gi(_)).forEach(m=>{const _=f[m],E={};_.forEach(I=>{E[I.line]||(E[I.line]=[]),E[I.line].push(I)});const S=Object.keys(E).map(Number).sort((I,N)=>I-N);let A=!1;S.forEach(I=>{let N=E[I];N.sort((z,G)=>z.station-G.station),A&&N.reverse(),h.push(...N),A=!A})}),h}catch(r){return console.error("generateTaskPlan failed:",r),[]}},hD=t=>{let e=`VIBRATION ANALYSIS SUMMARY - ${t.timestamp}
`;e+=`Source File: ${t.source_file}
`,e+="=".repeat(120)+`

`;const n=t.general_summary;e+=` GENERAL SUMMARY
`,e+="-".repeat(40)+`
`,e+=`${"Total Vibrators:".padEnd(35)} ${n.total_vibros}
`,e+=`${"Total Raw Operations:".padEnd(35)} ${n.total_operations}
`,e+=`${"Total Duplicates/Errors Removed:".padEnd(35)} ${n.total_duplicates}
`,e+=`${"Net Operations:".padEnd(35)} ${n.net_operations}
`,e+=`${"Duplicate Percentage:".padEnd(35)} ${n.duplicate_percentage.toFixed(2)}%
`,e+=`${"Total Operation Duration:".padEnd(35)} ${n.total_operation_duration_str}
`,e+=`${"Multi-Vibrator Shots (Conflicts):".padEnd(35)} ${n.conflicted_shot_details.length}

`,e+=` INDIVIDUAL VIBRATOR PERFORMANCE
`;const r=`| ${"Vibrator ID".padEnd(12)} | ${"Total".padStart(8)} | ${"Net".padStart(8)} | ${"Dups".padStart(8)} | ${"Dup %".padStart(7)} | ${"Conflicts".padStart(10)} | ${"First Time".padStart(10)} | ${"Last Time".padStart(10)} | ${"Duration".padStart(10)} |`;e+="-".repeat(r.length)+`
`,e+=r+`
`,e+="-".repeat(r.length)+`
`;for(const i of t.individual_performance){const o=`| ${i.vibro_id.padEnd(12)} | ${String(i.count).padStart(8)} | ${String(i.net_count).padStart(8)} | ${String(i.duplicates).padStart(8)} | ${i.dup_perc.toFixed(1).padStart(7)} | ${String(i.multi_vib_shots).padStart(10)} | ${i.first_time.padStart(10)} | ${i.last_time.padStart(10)} | ${i.duration_total.padStart(10)} |`;e+=o+`
`}if(e+="-".repeat(r.length)+`

`,n.conflicted_shot_details.length>0){e+=` MULTI-VIBRATOR SHOT (CONFLICT) DETAILS
`,e+="-".repeat(53)+`
`,e+=`| ${"Shot Number".padEnd(15)} | ${"Vibrators Involved".padEnd(30)} |
`,e+=`|-${"-".repeat(15)}-|-${"-".repeat(30)}-|
`;for(const i of n.conflicted_shot_details)e+=`| ${String(i.shotNb).padEnd(15)} | ${i.vibrators.join(", ").padEnd(30)} |
`;e+="-".repeat(53)+`
`}return e},w_=$.createContext(void 0),qb="app_language",pD=({children:t})=>{const[e,n]=$.useState("en"),[r,i]=$.useState(null),[o,a]=$.useState(!0),[u,f]=$.useState(null),h=E=>{localStorage.setItem(qb,E),n(E)};$.useEffect(()=>{const E=localStorage.getItem(qb);(E==="en"||E==="fr")&&n(E),(async()=>{try{const[A,I]=await Promise.all([fetch("/locales/en.json"),fetch("/locales/fr.json")]);if(!A.ok||!I.ok)throw new Error(`Failed to load translation files. Status: ${A.status}, ${I.status}`);const N=await A.json(),z=await I.json();i({en:N,fr:z})}catch(A){console.error("Error loading translations:",A),f(A instanceof Error?A.message:"An unknown error occurred.")}finally{a(!1)}})()},[]);const m=$.useCallback((E,S)=>{if(!r)return E;let A=r[e][E]||r.en[E]||E;return S&&Object.keys(S).forEach(I=>{const N=new RegExp(`\\{${I}\\}`,"g");A=A.replace(N,String(S[I]))}),A},[e,r]),_=$.useMemo(()=>({language:e,setLanguage:h,t:m}),[e,m]);return o?V.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#233140",color:"#ecf0f1",fontFamily:"sans-serif",fontSize:"1.5rem"},children:"Loading..."}):u?V.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",padding:"2rem",backgroundColor:"#2b0000",color:"#ffc0cb",fontFamily:"monospace",fontSize:"1rem",whiteSpace:"pre-wrap"},children:["Fatal Error: Could not load language files. Please check the console and ensure 'locales/en.json' and 'locales/fr.json' are accessible.",V.jsx("br",{}),V.jsx("br",{}),"Details: ",u]}):V.jsx(w_.Provider,{value:_,children:t})},qi=()=>{const t=$.useContext(w_);if(t===void 0)throw new Error("useI18n must be used within an I18nProvider");return t},mD=({theme:t})=>{const{t:e}=qi(),n=$.useRef(null),r=$.useRef(null);return $.useEffect(()=>{if(!n.current)return;const i=o=>{let a=t,u=0,f=[],h=48,m=0,_=0;const E=X=>{const te=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(X);return te?{r:parseInt(te[1],16),g:parseInt(te[2],16),b:parseInt(te[3],16)}:null},S=(X,te)=>{const ne=E(X);return ne?`rgba(${ne.r}, ${ne.g}, ${ne.b}, ${te})`:`rgba(255,255,255,${te})`},A=()=>{n.current&&(o.resizeCanvas(n.current.offsetWidth,n.current.offsetHeight),m=o.width/2,_=o.height/2,f=[])};o.setup=()=>{o.createCanvas(n.current.offsetWidth,n.current.offsetHeight),o.noFill(),o.strokeJoin(o.ROUND),o.strokeCap(o.ROUND),A()};const I=()=>{const X=o.drawingContext,te=X.createRadialGradient(m,_,Math.min(o.width,o.height)*.05,m,_,Math.hypot(m,_));te.addColorStop(0,S(a.accent_primary,.1)),te.addColorStop(1,a.bg_secondary),X.save(),X.fillStyle=te,X.fillRect(0,0,o.width,o.height),X.restore()},N=()=>{o.push(),o.stroke(S(a.border,.25)),o.strokeWeight(1);for(let X=o.frameCount%h;X<=o.width;X+=h)o.line(X,0,X,o.height);for(let X=o.frameCount%h;X<=o.height;X+=h)o.line(0,X,o.width,X);o.pop()},z=()=>{const te=Math.max(48,o.height/12),ne=_-4*te/2,se=a.accent_primary;for(let ke=0;ke<5;ke++){const Le=ne+ke*te,Pe=Math.min(64,Math.max(24,o.height*.06)),_e=.008+ke*.0015,Ne=.006+ke*8e-4;o.push(),o.stroke(S(se,.65-ke*.08)),o.strokeWeight(2+Math.max(0,2-ke*.3)),o.beginShape();for(let qe=0;qe<=o.width;qe+=8){const Ke=o.noise(qe*_e,u*Ne+ke*10),ht=Le+(Ke-.5)*2*Pe;o.curveVertex(qe,ht)}o.endShape(),o.stroke(S(se,.1)),o.strokeWeight(16),o.beginShape();for(let qe=0;qe<=o.width;qe+=12){const Ke=o.noise(qe*_e,u*Ne+ke*10),ht=Le+(Ke-.5)*2*Pe;o.curveVertex(qe,ht)}o.endShape(),o.pop()}},G=(X,te)=>{f.push({x:X,y:te,r:1,speed:2+o.random(.5,1.5),alpha:.35})},Z=()=>{const X=a.accent_primary;o.push();for(let te=f.length-1;te>=0;te--){const ne=f[te];ne.r+=ne.speed,ne.alpha*=.985,o.stroke(S(X,ne.alpha)),o.strokeWeight(2),o.noFill(),o.ellipse(ne.x,ne.y,ne.r*2,ne.r*2),(ne.alpha<.02||ne.r>Math.max(o.width,o.height)*1.2)&&f.splice(te,1)}o.pop()};o.draw=()=>{o.background(a.bg_secondary),I(),N(),z(),Z(),o.random()<.02&&G(o.random(o.width),o.random(o.height)),o.frameCount%180===0&&G(m+o.random(-40,40),_+o.random(-20,20)),u+=.008},o.windowResized=()=>{A()},o.updateWithTheme=X=>{a=X},o.mouseMoved=()=>{o.mouseX>=0&&o.mouseX<=o.width&&o.mouseY>=0&&o.mouseY<=o.height&&o.random()<.15&&G(o.mouseX,o.mouseY)}};return r.current=new window.p5(i,n.current),()=>{var o,a;(a=(o=r.current)==null?void 0:o.remove)==null||a.call(o)}},[]),$.useEffect(()=>{var i;(i=r.current)!=null&&i.updateWithTheme&&r.current.updateWithTheme(t)},[t]),V.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-bg-secondary flex justify-center items-center",children:[V.jsx("div",{ref:n,className:"absolute inset-0 z-0"}),V.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center h-full text-center p-4 bg-transparent pointer-events-none select-none",children:[V.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-text-primary drop-shadow-lg tracking-tight animate-fade-in-scale",style:{animationDelay:"0.15s"},children:e("readyToAnalyze")}),V.jsx("p",{className:"text-lg md:text-xl text-text-secondary mt-3 drop-shadow animate-fade-in-scale",style:{animationDelay:"0.35s"},children:e("dropFilesHint")})]}),V.jsx("style",{children:`
        @keyframes fade-in-scale {
          from { opacity: 0; transform: translateY(8px) scale(0.98); }
          to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .animate-fade-in-scale {
          opacity: 0;
          animation: fade-in-scale 620ms cubic-bezier(.23,1,.32,1) forwards;
        }
      `})]})};function Ik(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Ik(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ln(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Ik(t))&&(r&&(r+=" "),r+=e);return r}var mg={},gg={},Hb;function gD(){return Hb||(Hb=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e}(gg)),gg}var yg={},Wb;function Ok(){return Wb||(Wb=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e}(yg)),yg}var vg={},Zb;function Bk(){return Zb||(Zb=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e}(vg)),vg}var _g={},Kb;function C_(){return Kb||(Kb=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,a="",u="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const h=n[o];u?h==="\\"&&o+1<i?(o++,a+=n[o]):h===u?u="":a+=h:f?h==='"'||h==="'"?u=h:h==="]"?(f=!1,r.push(a),a=""):a+=h:h==="["?(f=!0,a&&(r.push(a),a="")):h==="."?a&&(r.push(a),a=""):a+=h,o++}return a&&r.push(a),r}t.toPath=e}(_g)),_g}var Yb;function L_(){return Yb||(Yb=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gD(),n=Ok(),r=Bk(),i=C_();function o(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const m=u[f];return m===void 0?n.isDeepKey(f)?o(u,i.toPath(f),h):h:m}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const m=u[f];return m===void 0?h:m}default:{if(Array.isArray(f))return a(u,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const m=u[f];return m===void 0?h:m}}}function a(u,f,h){if(f.length===0)return h;let m=u;for(let _=0;_<f.length;_++){if(m==null||e.isUnsafeProperty(f[_]))return h;m=m[f[_]]}return m===void 0?h:m}t.get=o}(mg)),mg}var xg,Jb;function yD(){return Jb||(Jb=1,xg=L_().get),xg}var vD=yD();const Wu=Go(vD);var bg={exports:{}},mn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function _D(){if(Xb)return mn;Xb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function A(I){if(typeof I=="object"&&I!==null){var N=I.$$typeof;switch(N){case t:switch(I=I.type,I){case n:case i:case r:case f:case h:case E:return I;default:switch(I=I&&I.$$typeof,I){case a:case u:case _:case m:return I;case o:return I;default:return N}}case e:return N}}}return mn.ContextConsumer=o,mn.ContextProvider=a,mn.Element=t,mn.ForwardRef=u,mn.Fragment=n,mn.Lazy=_,mn.Memo=m,mn.Portal=e,mn.Profiler=i,mn.StrictMode=r,mn.Suspense=f,mn.SuspenseList=h,mn.isContextConsumer=function(I){return A(I)===o},mn.isContextProvider=function(I){return A(I)===a},mn.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===t},mn.isForwardRef=function(I){return A(I)===u},mn.isFragment=function(I){return A(I)===n},mn.isLazy=function(I){return A(I)===_},mn.isMemo=function(I){return A(I)===m},mn.isPortal=function(I){return A(I)===e},mn.isProfiler=function(I){return A(I)===i},mn.isStrictMode=function(I){return A(I)===r},mn.isSuspense=function(I){return A(I)===f},mn.isSuspenseList=function(I){return A(I)===h},mn.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===n||I===i||I===r||I===f||I===h||typeof I=="object"&&I!==null&&(I.$$typeof===_||I.$$typeof===m||I.$$typeof===a||I.$$typeof===o||I.$$typeof===u||I.$$typeof===S||I.getModuleId!==void 0)},mn.typeOf=A,mn}var Qb;function xD(){return Qb||(Qb=1,bg.exports=_D()),bg.exports}var bD=xD(),Ui=t=>t===0?0:t>0?1:-1,ho=t=>typeof t=="number"&&t!=+t,Nu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,gt=t=>(typeof t=="number"||t instanceof Number)&&!ho(t),Ja=t=>gt(t)||typeof t=="string",wD=0,mf=t=>{var e=++wD;return"".concat(t||"").concat(e)},va=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!gt(e)&&typeof e!="string")return r;var o;if(Nu(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return ho(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},Nk=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},Fc=(t,e)=>gt(t)&&gt(e)?n=>t+n*(e-t):()=>e;function CD(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Wu(r,e))===n)}var sr=t=>t===null||typeof t>"u",If=t=>sr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),LD=["viewBox","children"],ED=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ew=["points","pathLength"],wg={svg:LD,polygon:ew,polyline:ew},E_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kD=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if($.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{E_.includes(i)&&(r[i]=o=>n[i](n,o))}),r},MD=(t,e,n)=>r=>(t(e,n,r),null),jp=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];E_.includes(i)&&typeof o=="function"&&(r||(r={}),r[i]=MD(o,e,n))}),r},tw=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",nw=null,Cg=null,Rk=t=>{if(t===nw&&Array.isArray(Cg))return Cg;var e=[];return $.Children.forEach(t,n=>{sr(n)||(bD.isFragment(n)?e=e.concat(Rk(n.props.children)):e.push(n))}),Cg=e,nw=t,e};function k_(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>tw(i)):r=[tw(e)],Rk(t).forEach(i=>{var o=Wu(i,"type.displayName")||Wu(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var SD=(t,e,n,r)=>{var i,o=(i=r&&(wg==null?void 0:wg[r]))!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(r&&o.includes(e)||ED.includes(e))||n&&E_.includes(e)},An=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if($.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var a;SD((a=r)===null||a===void 0?void 0:a[o],o,e,n)&&(i[o]=r[o])}),i},TD=["children","width","height","viewBox","className","style","title","desc"];function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(null,arguments)}function PD(t,e){if(t==null)return{};var n,r,i=AD(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function AD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var M_=$.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:u,title:f,desc:h}=t,m=PD(t,TD),_=o||{width:r,height:i,x:0,y:0},E=Ln("recharts-surface",a);return $.createElement("svg",ov({},An(m,!0,"svg"),{className:E,width:r,height:i,style:u,viewBox:"".concat(_.x," ").concat(_.y," ").concat(_.width," ").concat(_.height),ref:e}),$.createElement("title",null,f),$.createElement("desc",null,h),n)}),DD=["children","className"];function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(null,arguments)}function ID(t,e){if(t==null)return{};var n,r,i=OD(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function OD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xa=$.forwardRef((t,e)=>{var{children:n,className:r}=t,i=ID(t,DD),o=Ln("recharts-layer",r);return $.createElement("g",av({className:o},An(i,!0),{ref:e}),n)}),Fk=Ck(),zk=$.createContext(null),BD=()=>$.useContext(zk);function Cn(t){return function(){return t}}const jk=Math.cos,Wh=Math.sin,_a=Math.sqrt,Zh=Math.PI,Up=2*Zh,sv=Math.PI,lv=2*sv,Iu=1e-6,ND=lv-Iu;function Uk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function RD(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Uk;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class FD{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Uk:RD(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,f=r-e,h=i-n,m=a-e,_=u-n,E=m*m+_*_;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(E>Iu)if(!(Math.abs(_*f-h*m)>Iu)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let S=r-a,A=i-u,I=f*f+h*h,N=S*S+A*A,z=Math.sqrt(I),G=Math.sqrt(E),Z=o*Math.tan((sv-Math.acos((I+E-N)/(2*z*G)))/2),X=Z/G,te=Z/z;Math.abs(X-1)>Iu&&this._append`L${e+X*m},${n+X*_}`,this._append`A${o},${o},0,0,${+(_*S>m*A)},${this._x1=e+te*f},${this._y1=n+te*h}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=e+u,m=n+f,_=1^a,E=a?i-o:o-i;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Iu||Math.abs(this._y1-m)>Iu)&&this._append`L${h},${m}`,r&&(E<0&&(E=E%lv+lv),E>ND?this._append`A${r},${r},0,1,${_},${e-u},${n-f}A${r},${r},0,1,${_},${this._x1=h},${this._y1=m}`:E>Iu&&this._append`A${r},${r},0,${+(E>=sv)},${_},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function S_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new FD(e)}function T_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $k(t){this._context=t}$k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $p(t){return new $k(t)}function Vk(t){return t[0]}function Gk(t){return t[1]}function qk(t,e){var n=Cn(!0),r=null,i=$p,o=null,a=S_(u);t=typeof t=="function"?t:t===void 0?Vk:Cn(t),e=typeof e=="function"?e:e===void 0?Gk:Cn(e);function u(f){var h,m=(f=T_(f)).length,_,E=!1,S;for(r==null&&(o=i(S=a())),h=0;h<=m;++h)!(h<m&&n(_=f[h],h,f))===E&&((E=!E)?o.lineStart():o.lineEnd()),E&&o.point(+t(_,h,f),+e(_,h,f));if(S)return o=null,S+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Cn(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Cn(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Cn(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function wh(t,e,n){var r=null,i=Cn(!0),o=null,a=$p,u=null,f=S_(h);t=typeof t=="function"?t:t===void 0?Vk:Cn(+t),e=typeof e=="function"?e:Cn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Gk:Cn(+n);function h(_){var E,S,A,I=(_=T_(_)).length,N,z=!1,G,Z=new Array(I),X=new Array(I);for(o==null&&(u=a(G=f())),E=0;E<=I;++E){if(!(E<I&&i(N=_[E],E,_))===z)if(z=!z)S=E,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=E-1;A>=S;--A)u.point(Z[A],X[A]);u.lineEnd(),u.areaEnd()}z&&(Z[E]=+t(N,E,_),X[E]=+e(N,E,_),u.point(r?+r(N,E,_):Z[E],n?+n(N,E,_):X[E]))}if(G)return u=null,G+""||null}function m(){return qk().defined(i).curve(a).context(o)}return h.x=function(_){return arguments.length?(t=typeof _=="function"?_:Cn(+_),r=null,h):t},h.x0=function(_){return arguments.length?(t=typeof _=="function"?_:Cn(+_),h):t},h.x1=function(_){return arguments.length?(r=_==null?null:typeof _=="function"?_:Cn(+_),h):r},h.y=function(_){return arguments.length?(e=typeof _=="function"?_:Cn(+_),n=null,h):e},h.y0=function(_){return arguments.length?(e=typeof _=="function"?_:Cn(+_),h):e},h.y1=function(_){return arguments.length?(n=_==null?null:typeof _=="function"?_:Cn(+_),h):n},h.lineX0=h.lineY0=function(){return m().x(t).y(e)},h.lineY1=function(){return m().x(t).y(n)},h.lineX1=function(){return m().x(r).y(e)},h.defined=function(_){return arguments.length?(i=typeof _=="function"?_:Cn(!!_),h):i},h.curve=function(_){return arguments.length?(a=_,o!=null&&(u=a(o)),h):a},h.context=function(_){return arguments.length?(_==null?o=u=null:u=a(o=_),h):o},h}class Hk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function zD(t){return new Hk(t,!0)}function jD(t){return new Hk(t,!1)}const P_={draw(t,e){const n=_a(e/Zh);t.moveTo(n,0),t.arc(0,0,n,0,Up)}},UD={draw(t,e){const n=_a(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Wk=_a(1/3),$D=Wk*2,VD={draw(t,e){const n=_a(e/$D),r=n*Wk;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},GD={draw(t,e){const n=_a(e),r=-n/2;t.rect(r,r,n,n)}},qD=.8908130915292852,Zk=Wh(Zh/10)/Wh(7*Zh/10),HD=Wh(Up/10)*Zk,WD=-jk(Up/10)*Zk,ZD={draw(t,e){const n=_a(e*qD),r=HD*n,i=WD*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Up*o/5,u=jk(a),f=Wh(a);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Lg=_a(3),KD={draw(t,e){const n=-_a(e/(Lg*3));t.moveTo(0,n*2),t.lineTo(-Lg*n,-n),t.lineTo(Lg*n,-n),t.closePath()}},Bo=-.5,No=_a(3)/2,uv=1/_a(12),YD=(uv/2+1)*3,JD={draw(t,e){const n=_a(e/YD),r=n/2,i=n*uv,o=r,a=n*uv+n,u=-o,f=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,f),t.lineTo(Bo*r-No*i,No*r+Bo*i),t.lineTo(Bo*o-No*a,No*o+Bo*a),t.lineTo(Bo*u-No*f,No*u+Bo*f),t.lineTo(Bo*r+No*i,Bo*i-No*r),t.lineTo(Bo*o+No*a,Bo*a-No*o),t.lineTo(Bo*u+No*f,Bo*f-No*u),t.closePath()}};function XD(t,e){let n=null,r=S_(i);t=typeof t=="function"?t:Cn(t||P_),e=typeof e=="function"?e:Cn(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Cn(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Cn(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Kh(){}function Yh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Kk(t){this._context=t}Kk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function QD(t){return new Kk(t)}function Yk(t){this._context=t}Yk.prototype={areaStart:Kh,areaEnd:Kh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Yh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eI(t){return new Yk(t)}function Jk(t){this._context=t}Jk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Yh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tI(t){return new Jk(t)}function Xk(t){this._context=t}Xk.prototype={areaStart:Kh,areaEnd:Kh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function nI(t){return new Xk(t)}function rw(t){return t<0?-1:1}function iw(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(rw(o)+rw(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function ow(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Eg(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function Jh(t){this._context=t}Jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Eg(this,this._t0,ow(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Eg(this,ow(this,n=iw(this,t,e)),n);break;default:Eg(this,this._t0,n=iw(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Qk(t){this._context=new eM(t)}(Qk.prototype=Object.create(Jh.prototype)).point=function(t,e){Jh.prototype.point.call(this,e,t)};function eM(t){this._context=t}eM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function rI(t){return new Jh(t)}function iI(t){return new Qk(t)}function tM(t){this._context=t}tM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=aw(t),i=aw(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aw(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function oI(t){return new tM(t)}function Vp(t,e){this._context=t,this._t=e}Vp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function aI(t){return new Vp(t,.5)}function sI(t){return new Vp(t,0)}function lI(t){return new Vp(t,1)}function Zc(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,u=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function cv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function uI(t,e){return t[e]}function cI(t){const e=[];return e.key=t,e}function dI(){var t=Cn([]),e=cv,n=Zc,r=uI;function i(o){var a=Array.from(t.apply(this,arguments),cI),u,f=a.length,h=-1,m;for(const _ of o)for(u=0,++h;u<f;++u)(a[u][h]=[0,+r(_,a[u].key,h,o)]).data=_;for(u=0,m=T_(e(a));u<f;++u)a[m[u]].index=u;return n(a,m),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Cn(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Cn(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?cv:typeof o=="function"?o:Cn(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Zc,i):n},i}function fI(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Zc(t,e)}}function hI(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,u=0;a<i;++a)u+=t[a][n][1]||0;r[n][1]+=r[n][0]=-u/2}Zc(t,e)}}function pI(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var u=0,f=0,h=0;u<a;++u){for(var m=t[e[u]],_=m[r][1]||0,E=m[r-1][1]||0,S=(_-E)/2,A=0;A<u;++A){var I=t[e[A]],N=I[r][1]||0,z=I[r-1][1]||0;S+=N-z}f+=_,h+=S*_}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,Zc(t,e)}}var mI=["type","size","sizeType"];function dv(){return dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dv.apply(null,arguments)}function sw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sw(Object(n),!0).forEach(function(r){gI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gI(t,e,n){return(e=yI(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yI(t){var e=vI(t,"string");return typeof e=="symbol"?e:e+""}function vI(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _I(t,e){if(t==null)return{};var n,r,i=xI(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xI(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nM={symbolCircle:P_,symbolCross:UD,symbolDiamond:VD,symbolSquare:GD,symbolStar:ZD,symbolTriangle:KD,symbolWye:JD},bI=Math.PI/180,wI=t=>{var e="symbol".concat(If(t));return nM[e]||P_},CI=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*bI;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},LI=(t,e)=>{nM["symbol".concat(If(t))]=e},A_=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=_I(t,mI),o=lw(lw({},i),{},{type:e,size:n,sizeType:r}),a=()=>{var _=wI(e),E=XD().type(_).size(CI(n,r,e));return E()},{className:u,cx:f,cy:h}=o,m=An(o,!0);return f===+f&&h===+h&&n===+n?$.createElement("path",dv({},m,{className:Ln("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:a()})):null};A_.registerSymbol=LI;function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(null,arguments)}function uw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uw(Object(n),!0).forEach(function(r){D_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D_(t,e,n){return(e=kI(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kI(t){var e=MI(t,"string");return typeof e=="symbol"?e:e+""}function MI(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ro=32;class I_ extends $.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Ro/2,o=Ro/6,a=Ro/3,u=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Ro,y2:i,className:"recharts-legend-icon"});if(f==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Ro,"M").concat(2*a,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return $.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ro/8,"h").concat(Ro,"v").concat(Ro*3/4,"h").concat(-Ro,"z"),className:"recharts-legend-icon"});if($.isValidElement(e.legendIcon)){var h=EI({},e);return delete h.legendIcon,$.cloneElement(e.legendIcon,h)}return $.createElement(A_,{fill:u,cx:i,cy:i,size:Ro,sizeType:"diameter",type:f})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:a}=this.props,u={x:0,y:0,width:Ro,height:Ro},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((m,_)=>{var E=m.formatter||i,S=Ln({"recharts-legend-item":!0,["legend-item-".concat(_)]:!0,inactive:m.inactive});if(m.type==="none")return null;var A=m.inactive?o:m.color,I=E?E(m.value,m,_):m.value;return $.createElement("li",fv({className:S,style:f,key:"legend-item-".concat(_)},jp(this.props,m,_)),$.createElement(M_,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(I," legend icon")},this.renderIcon(m,a)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},I))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}D_(I_,"displayName","Legend");D_(I_,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var kg={},Mg={},cw;function SI(){return cw||(cw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],u=r(a);i.has(u)||i.set(u,a)}return Array.from(i.values())}t.uniqBy=e}(Mg)),Mg}var Sg={},dw;function rM(){return dw||(dw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e}(Sg)),Sg}var Tg={},Pg={},Ag={},fw;function TI(){return fw||(fw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e}(Ag)),Ag}var hw;function O_(){return hw||(hw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TI();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n}(Pg)),Pg}var Dg={},pw;function PI(){return pw||(pw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e}(Dg)),Dg}var mw;function AI(){return mw||(mw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O_(),n=PI();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r}(Tg)),Tg}var Ig={},Og={},gw;function DI(){return gw||(gw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L_();function n(r){return function(i){return e.get(i,r)}}t.property=n}(Og)),Og}var Bg={},Ng={},Rg={},Fg={},yw;function iM(){return yw||(yw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e}(Fg)),Fg}var zg={},vw;function oM(){return vw||(vw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e}(zg)),zg}var jg={},_w;function B_(){return _w||(_w=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e}(jg)),jg}var xw;function II(){return xw||(xw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N_(),n=iM(),r=oM(),i=B_();function o(_,E,S){return typeof S!="function"?e.isMatch(_,E):a(_,E,function A(I,N,z,G,Z,X){const te=S(I,N,z,G,Z,X);return te!==void 0?!!te:a(I,N,A,X)},new Map)}function a(_,E,S,A){if(E===_)return!0;switch(typeof E){case"object":return u(_,E,S,A);case"function":return Object.keys(E).length>0?a(_,{...E},S,A):i.eq(_,E);default:return n.isObject(_)?typeof E=="string"?E==="":!0:i.eq(_,E)}}function u(_,E,S,A){if(E==null)return!0;if(Array.isArray(E))return h(_,E,S,A);if(E instanceof Map)return f(_,E,S,A);if(E instanceof Set)return m(_,E,S,A);const I=Object.keys(E);if(_==null)return I.length===0;if(I.length===0)return!0;if(A&&A.has(E))return A.get(E)===_;A&&A.set(E,_);try{for(let N=0;N<I.length;N++){const z=I[N];if(!r.isPrimitive(_)&&!(z in _)||E[z]===void 0&&_[z]!==void 0||E[z]===null&&_[z]!==null||!S(_[z],E[z],z,_,E,A))return!1}return!0}finally{A&&A.delete(E)}}function f(_,E,S,A){if(E.size===0)return!0;if(!(_ instanceof Map))return!1;for(const[I,N]of E.entries()){const z=_.get(I);if(S(z,N,I,_,E,A)===!1)return!1}return!0}function h(_,E,S,A){if(E.length===0)return!0;if(!Array.isArray(_))return!1;const I=new Set;for(let N=0;N<E.length;N++){const z=E[N];let G=!1;for(let Z=0;Z<_.length;Z++){if(I.has(Z))continue;const X=_[Z];let te=!1;if(S(X,z,N,_,E,A)&&(te=!0),te){I.add(Z),G=!0;break}}if(!G)return!1}return!0}function m(_,E,S,A){return E.size===0?!0:_ instanceof Set?h([..._],[...E],S,A):!1}t.isMatchWith=o,t.isSetMatch=m}(Rg)),Rg}var bw;function N_(){return bw||(bw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=II();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(Ng)),Ng}var Ug={},$g={},Vg={},ww;function aM(){return ww||(ww=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e}(Vg)),Vg}var Gg={},Cw;function R_(){return Cw||(Cw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e}(Gg)),Gg}var qg={},Lw;function F_(){return Lw||(Lw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",m="[object Array]",_="[object Function]",E="[object ArrayBuffer]",S="[object Object]",A="[object Error]",I="[object DataView]",N="[object Uint8Array]",z="[object Uint8ClampedArray]",G="[object Uint16Array]",Z="[object Uint32Array]",X="[object BigUint64Array]",te="[object Int8Array]",ne="[object Int16Array]",se="[object Int32Array]",ke="[object BigInt64Array]",Le="[object Float32Array]",Pe="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=E,t.arrayTag=m,t.bigInt64ArrayTag=ke,t.bigUint64ArrayTag=X,t.booleanTag=i,t.dataViewTag=I,t.dateTag=u,t.errorTag=A,t.float32ArrayTag=Le,t.float64ArrayTag=Pe,t.functionTag=_,t.int16ArrayTag=ne,t.int32ArrayTag=se,t.int8ArrayTag=te,t.mapTag=f,t.numberTag=r,t.objectTag=S,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=G,t.uint32ArrayTag=Z,t.uint8ArrayTag=N,t.uint8ClampedArrayTag=z}(qg)),qg}var Hg={},Ew;function OI(){return Ew||(Ew=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e}(Hg)),Hg}var kw;function sM(){return kw||(kw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aM(),n=R_(),r=F_(),i=oM(),o=OI();function a(m,_){return u(m,void 0,m,new Map,_)}function u(m,_,E,S=new Map,A=void 0){const I=A==null?void 0:A(m,_,E,S);if(I!=null)return I;if(i.isPrimitive(m))return m;if(S.has(m))return S.get(m);if(Array.isArray(m)){const N=new Array(m.length);S.set(m,N);for(let z=0;z<m.length;z++)N[z]=u(m[z],z,E,S,A);return Object.hasOwn(m,"index")&&(N.index=m.index),Object.hasOwn(m,"input")&&(N.input=m.input),N}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const N=new RegExp(m.source,m.flags);return N.lastIndex=m.lastIndex,N}if(m instanceof Map){const N=new Map;S.set(m,N);for(const[z,G]of m)N.set(z,u(G,z,E,S,A));return N}if(m instanceof Set){const N=new Set;S.set(m,N);for(const z of m)N.add(u(z,void 0,E,S,A));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(o.isTypedArray(m)){const N=new(Object.getPrototypeOf(m)).constructor(m.length);S.set(m,N);for(let z=0;z<m.length;z++)N[z]=u(m[z],z,E,S,A);return N}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const N=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return S.set(m,N),f(N,m,E,S,A),N}if(typeof File<"u"&&m instanceof File){const N=new File([m],m.name,{type:m.type});return S.set(m,N),f(N,m,E,S,A),N}if(m instanceof Blob){const N=new Blob([m],{type:m.type});return S.set(m,N),f(N,m,E,S,A),N}if(m instanceof Error){const N=new m.constructor;return S.set(m,N),N.message=m.message,N.name=m.name,N.stack=m.stack,N.cause=m.cause,f(N,m,E,S,A),N}if(typeof m=="object"&&h(m)){const N=Object.create(Object.getPrototypeOf(m));return S.set(m,N),f(N,m,E,S,A),N}return m}function f(m,_,E=m,S,A){const I=[...Object.keys(_),...e.getSymbols(_)];for(let N=0;N<I.length;N++){const z=I[N],G=Object.getOwnPropertyDescriptor(m,z);(G==null||G.writable)&&(m[z]=u(_[z],z,E,S,A))}}function h(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=u,t.copyProperties=f}($g)),$g}var Mw;function BI(){return Mw||(Mw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sM();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n}(Ug)),Ug}var Sw;function NI(){return Sw||(Sw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N_(),n=BI();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r}(Bg)),Bg}var Wg={},Zg={},Kg={},Tw;function RI(){return Tw||(Tw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sM(),n=F_();function r(i,o){return e.cloneDeepWith(i,(a,u,f,h)=>{const m=o==null?void 0:o(a,u,f,h);if(m!=null)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const _=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(_,i),_}case n.argumentsTag:{const _={};return e.copyProperties(_,i),_.length=i.length,_[Symbol.iterator]=i[Symbol.iterator],_}default:return}})}t.cloneDeepWith=r}(Kg)),Kg}var Pw;function FI(){return Pw||(Pw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RI();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n}(Zg)),Zg}var Yg={},Jg={},Aw;function lM(){return Aw||(Aw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n}(Jg)),Jg}var Xg={},Dw;function zI(){return Dw||(Dw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R_();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n}(Xg)),Xg}var Iw;function jI(){return Iw||(Iw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ok(),n=lM(),r=zI(),i=C_();function o(a,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&(a==null?void 0:a[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let h=a;for(let m=0;m<f.length;m++){const _=f[m];if((h==null||!Object.hasOwn(h,_))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(_)&&_<h.length))return!1;h=h[_]}return!0}t.has=o}(Yg)),Yg}var Ow;function UI(){return Ow||(Ow=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N_(),n=Bk(),r=FI(),i=L_(),o=jI();function a(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(h){const m=i.get(h,u);return m===void 0?o.has(h,u):f===void 0?m===void 0:e.isMatch(m,f)}}t.matchesProperty=a}(Wg)),Wg}var Bw;function $I(){return Bw||(Bw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rM(),n=DI(),r=NI(),i=UI();function o(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=o}(Ig)),Ig}var Nw;function VI(){return Nw||(Nw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SI(),n=rM(),r=AI(),i=$I();function o(a,u=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(u)):[]}t.uniqBy=o}(kg)),kg}var Qg,Rw;function GI(){return Rw||(Rw=1,Qg=VI().uniqBy),Qg}var qI=GI();const Fw=Go(qI);function uM(t,e,n){return e===!0?Fw(t,n):typeof e=="function"?Fw(t,e):t}var ey={exports:{}},ty={},ny={exports:{}},ry={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function HI(){if(zw)return ry;zw=1;var t=cd();function e(_,E){return _===E&&(_!==0||1/_===1/E)||_!==_&&E!==E}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function u(_,E){var S=E(),A=r({inst:{value:S,getSnapshot:E}}),I=A[0].inst,N=A[1];return o(function(){I.value=S,I.getSnapshot=E,f(I)&&N({inst:I})},[_,S,E]),i(function(){return f(I)&&N({inst:I}),_(function(){f(I)&&N({inst:I})})},[_]),a(S),S}function f(_){var E=_.getSnapshot;_=_.value;try{var S=E();return!n(_,S)}catch{return!0}}function h(_,E){return E()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return ry.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,ry}var jw;function WI(){return jw||(jw=1,ny.exports=HI()),ny.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function ZI(){if(Uw)return ty;Uw=1;var t=cd(),e=WI();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,u=t.useMemo,f=t.useDebugValue;return ty.useSyncExternalStoreWithSelector=function(h,m,_,E,S){var A=o(null);if(A.current===null){var I={hasValue:!1,value:null};A.current=I}else I=A.current;A=u(function(){function z(ne){if(!G){if(G=!0,Z=ne,ne=E(ne),S!==void 0&&I.hasValue){var se=I.value;if(S(se,ne))return X=se}return X=ne}if(se=X,r(Z,ne))return se;var ke=E(ne);return S!==void 0&&S(se,ke)?(Z=ne,se):(Z=ne,X=ke)}var G=!1,Z,X,te=_===void 0?null:_;return[function(){return z(m())},te===null?void 0:function(){return z(te())}]},[m,_,E,S]);var N=i(h,A[0],A[1]);return a(function(){I.hasValue=!0,I.value=N},[N]),f(N),N},ty}var $w;function KI(){return $w||($w=1,ey.exports=ZI()),ey.exports}var YI=KI(),z_=$.createContext(null),JI=t=>t,Xn=()=>{var t=$.useContext(z_);return t?t.store.dispatch:JI},zh=()=>{},XI=()=>zh,QI=(t,e)=>t===e;function kt(t){var e=$.useContext(z_);return YI.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:XI,e?e.store.getState:zh,e?e.store.getState:zh,e?t:zh,QI)}function eO(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function tO(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function nO(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Vw=t=>Array.isArray(t)?t:[t];function rO(t){const e=Array.isArray(t[0])?t[0]:t;return nO(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function iO(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var oO=class{constructor(t){this.value=t}deref(){return this.value}},aO=typeof WeakRef<"u"?WeakRef:oO,sO=0,Gw=1;function Ch(){return{s:sO,v:void 0,o:null,p:null}}function cM(t,e={}){let n=Ch();const{resultEqualityCheck:r}=e;let i,o=0;function a(){var _;let u=n;const{length:f}=arguments;for(let E=0,S=f;E<S;E++){const A=arguments[E];if(typeof A=="function"||typeof A=="object"&&A!==null){let I=u.o;I===null&&(u.o=I=new WeakMap);const N=I.get(A);N===void 0?(u=Ch(),I.set(A,u)):u=N}else{let I=u.p;I===null&&(u.p=I=new Map);const N=I.get(A);N===void 0?(u=Ch(),I.set(A,u)):u=N}}const h=u;let m;if(u.s===Gw)m=u.v;else if(m=t.apply(null,arguments),o++,r){const E=((_=i==null?void 0:i.deref)==null?void 0:_.call(i))??i;E!=null&&r(E,m)&&(m=E,o!==0&&o--),i=typeof m=="object"&&m!==null||typeof m=="function"?new aO(m):m}return h.s=Gw,h.v=m,m}return a.clearCache=()=>{n=Ch(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function lO(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,u,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),eO(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...f},{memoize:_,memoizeOptions:E=[],argsMemoize:S=cM,argsMemoizeOptions:A=[]}=m,I=Vw(E),N=Vw(A),z=rO(i),G=_(function(){return o++,h.apply(null,arguments)},...I),Z=S(function(){a++;const te=iO(z,arguments);return u=G.apply(null,te),u},...N);return Object.assign(Z,{resultFunc:h,memoizedResultFunc:G,dependencies:z,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:_,argsMemoize:S})};return Object.assign(r,{withTypes:()=>r}),r}var Re=lO(cM),uO=Object.assign((t,e=Re)=>{tO(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,u,f)=>(a[n[f]]=u,a),{}))},{withTypes:()=>uO}),iy={},oy={},ay={},qw;function cO(){return qw||(qw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),u=e(i);if(a===u&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-a:a-u}return 0};t.compareValues=n}(ay)),ay}var sy={},ly={},Hw;function dM(){return Hw||(Hw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e}(ly)),ly}var Ww;function dO(){return Ww||(Ww=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i}(sy)),sy}var Zw;function fO(){return Zw||(Zw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cO(),n=dO(),r=C_();function i(o,a,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(S=>String(S));const h=(S,A)=>{let I=S;for(let N=0;N<A.length&&I!=null;++N)I=I[A[N]];return I},m=(S,A)=>A==null||S==null?A:typeof S=="object"&&"key"in S?Object.hasOwn(A,S.key)?A[S.key]:h(A,S.path):typeof S=="function"?S(A):Array.isArray(S)?h(A,S):typeof A=="object"?A[S]:A,_=a.map(S=>(Array.isArray(S)&&S.length===1&&(S=S[0]),S==null||typeof S=="function"||Array.isArray(S)||n.isKey(S)?S:{key:S,path:r.toPath(S)}));return o.map(S=>({original:S,criteria:_.map(A=>m(A,S))})).slice().sort((S,A)=>{for(let I=0;I<_.length;I++){const N=e.compareValues(S.criteria[I],A.criteria[I],u[I]);if(N!==0)return N}return 0}).map(S=>S.original)}t.orderBy=i}(oy)),oy}var uy={},Kw;function hO(){return Kw||(Kw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(u,f)=>{for(let h=0;h<u.length;h++){const m=u[h];Array.isArray(m)&&f<o?a(m,f+1):i.push(m)}};return a(n,0),i}t.flatten=e}(uy)),uy}var cy={},Yw;function fM(){return Yw||(Yw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lM(),n=O_(),r=iM(),i=B_();function o(a,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],a):!1}t.isIterateeCall=o}(cy)),cy}var Jw;function pO(){return Jw||(Jw=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fO(),n=hO(),r=fM();function i(o,...a){const u=a.length;return u>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:u>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i}(iy)),iy}var dy,Xw;function mO(){return Xw||(Xw=1,dy=pO().sortBy),dy}var gO=mO();const Gp=Go(gO);var hM=t=>t.legend.settings,yO=t=>t.legend.size,vO=t=>t.legend.payload,_O=Re([vO,hM],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Gp(r,n):r});function xO(){return kt(_O)}var Lh=1;function pM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=$.useState({height:0,left:0,top:0,width:0}),r=$.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-e.height)>Lh||Math.abs(a.left-e.left)>Lh||Math.abs(a.top-e.top)>Lh||Math.abs(a.width-e.width)>Lh)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Fr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var bO=typeof Symbol=="function"&&Symbol.observable||"@@observable",Qw=bO,fy=()=>Math.random().toString(36).substring(7).split("").join("."),wO={INIT:`@@redux/INIT${fy()}`,REPLACE:`@@redux/REPLACE${fy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${fy()}`},Xh=wO;function j_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function mM(t,e,n){if(typeof t!="function")throw new Error(Fr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Fr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Fr(1));return n(mM)(t,e)}let r=t,i=e,o=new Map,a=o,u=0,f=!1;function h(){a===o&&(a=new Map,o.forEach((N,z)=>{a.set(z,N)}))}function m(){if(f)throw new Error(Fr(3));return i}function _(N){if(typeof N!="function")throw new Error(Fr(4));if(f)throw new Error(Fr(5));let z=!0;h();const G=u++;return a.set(G,N),function(){if(z){if(f)throw new Error(Fr(6));z=!1,h(),a.delete(G),o=null}}}function E(N){if(!j_(N))throw new Error(Fr(7));if(typeof N.type>"u")throw new Error(Fr(8));if(typeof N.type!="string")throw new Error(Fr(17));if(f)throw new Error(Fr(9));try{f=!0,i=r(i,N)}finally{f=!1}return(o=a).forEach(G=>{G()}),N}function S(N){if(typeof N!="function")throw new Error(Fr(10));r=N,E({type:Xh.REPLACE})}function A(){const N=_;return{subscribe(z){if(typeof z!="object"||z===null)throw new Error(Fr(11));function G(){const X=z;X.next&&X.next(m())}return G(),{unsubscribe:N(G)}},[Qw](){return this}}}return E({type:Xh.INIT}),{dispatch:E,subscribe:_,getState:m,replaceReducer:S,[Qw]:A}}function CO(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Xh.INIT})>"u")throw new Error(Fr(12));if(typeof n(void 0,{type:Xh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Fr(13))})}function gM(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{CO(n)}catch(o){i=o}return function(a={},u){if(i)throw i;let f=!1;const h={};for(let m=0;m<r.length;m++){const _=r[m],E=n[_],S=a[_],A=E(S,u);if(typeof A>"u")throw u&&u.type,new Error(Fr(14));h[_]=A,f=f||A!==S}return f=f||r.length!==Object.keys(a).length,f?h:a}}function Qh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function LO(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Fr(15))};const a={getState:i.getState,dispatch:(f,...h)=>o(f,...h)},u=t.map(f=>f(a));return o=Qh(...u)(i.dispatch),{...i,dispatch:o}}}function yM(t){return j_(t)&&"type"in t&&typeof t.type=="string"}var vM=Symbol.for("immer-nothing"),eC=Symbol.for("immer-draftable"),po=Symbol.for("immer-state");function ma(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Kc=Object.getPrototypeOf;function Zu(t){return!!t&&!!t[po]}function Fs(t){var e;return t?_M(t)||Array.isArray(t)||!!t[eC]||!!((e=t.constructor)!=null&&e[eC])||Hp(t)||Wp(t):!1}var EO=Object.prototype.constructor.toString();function _M(t){if(!t||typeof t!="object")return!1;const e=Kc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===EO}function ep(t,e){qp(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function qp(t){const e=t[po];return e?e.type_:Array.isArray(t)?1:Hp(t)?2:Wp(t)?3:0}function hv(t,e){return qp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function xM(t,e,n){const r=qp(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function kO(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Hp(t){return t instanceof Map}function Wp(t){return t instanceof Set}function Ou(t){return t.copy_||t.base_}function pv(t,e){if(Hp(t))return new Map(t);if(Wp(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=_M(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[po];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],u=r[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[a]})}return Object.create(Kc(t),r)}else{const r=Kc(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function U_(t,e=!1){return Zp(t)||Zu(t)||!Fs(t)||(qp(t)>1&&(t.set=t.add=t.clear=t.delete=MO),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>U_(r,!0))),t}function MO(){ma(2)}function Zp(t){return Object.isFrozen(t)}var SO={};function Ku(t){const e=SO[t];return e||ma(0,t),e}var gf;function bM(){return gf}function TO(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tC(t,e){e&&(Ku("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mv(t){gv(t),t.drafts_.forEach(PO),t.drafts_=null}function gv(t){t===gf&&(gf=t.parent_)}function nC(t){return gf=TO(gf,t)}function PO(t){const e=t[po];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function rC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[po].modified_&&(mv(e),ma(4)),Fs(t)&&(t=tp(e,t),e.parent_||np(e,t)),e.patches_&&Ku("Patches").generateReplacementPatches_(n[po].base_,t,e.patches_,e.inversePatches_)):t=tp(e,n,[]),mv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==vM?t:void 0}function tp(t,e,n){if(Zp(e))return e;const r=e[po];if(!r)return ep(e,(i,o)=>iC(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return np(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,a=!1;r.type_===3&&(o=new Set(i),i.clear(),a=!0),ep(o,(u,f)=>iC(t,r,i,u,f,n,a)),np(t,i,!1),n&&t.patches_&&Ku("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function iC(t,e,n,r,i,o,a){if(Zu(i)){const u=o&&e&&e.type_!==3&&!hv(e.assigned_,r)?o.concat(r):void 0,f=tp(t,i,u);if(xM(n,r,f),Zu(f))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Fs(i)&&!Zp(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;tp(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&np(t,i)}}function np(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&U_(e,n)}function AO(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:bM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=$_;n&&(i=[r],o=yf);const{revoke:a,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=a,u}var $_={get(t,e){if(e===po)return t;const n=Ou(t);if(!hv(n,e))return DO(t,n,e);const r=n[e];return t.finalized_||!Fs(r)?r:r===hy(t.base_,e)?(py(t),t.copy_[e]=vv(r,t)):r},has(t,e){return e in Ou(t)},ownKeys(t){return Reflect.ownKeys(Ou(t))},set(t,e,n){const r=wM(Ou(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=hy(Ou(t),e),o=i==null?void 0:i[po];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(kO(n,i)&&(n!==void 0||hv(t.base_,e)))return!0;py(t),yv(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return hy(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,py(t),yv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ou(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ma(11)},getPrototypeOf(t){return Kc(t.base_)},setPrototypeOf(){ma(12)}},yf={};ep($_,(t,e)=>{yf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});yf.deleteProperty=function(t,e){return yf.set.call(this,t,e,void 0)};yf.set=function(t,e,n){return $_.set.call(this,t[0],e,n,t[0])};function hy(t,e){const n=t[po];return(n?Ou(n):t)[e]}function DO(t,e,n){var i;const r=wM(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function wM(t,e){if(!(e in t))return;let n=Kc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Kc(n)}}function yv(t){t.modified_||(t.modified_=!0,t.parent_&&yv(t.parent_))}function py(t){t.copy_||(t.copy_=pv(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var IO=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(f=o,...h){return a.produce(f,m=>n.call(this,m,...h))}}typeof n!="function"&&ma(6),r!==void 0&&typeof r!="function"&&ma(7);let i;if(Fs(e)){const o=nC(this),a=vv(e,void 0);let u=!0;try{i=n(a),u=!1}finally{u?mv(o):gv(o)}return tC(o,r),rC(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===vM&&(i=void 0),this.autoFreeze_&&U_(i,!0),r){const o=[],a=[];Ku("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else ma(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...u)=>this.produceWithPatches(a,f=>e(f,...u));let r,i;return[this.produce(e,n,(a,u)=>{r=a,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Fs(t)||ma(8),Zu(t)&&(t=Bs(t));const e=nC(this),n=vv(t,void 0);return n[po].isManual_=!0,gv(e),n}finishDraft(t,e){const n=t&&t[po];(!n||!n.isManual_)&&ma(9);const{scope_:r}=n;return tC(r,e),rC(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Ku("Patches").applyPatches_;return Zu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function vv(t,e){const n=Hp(t)?Ku("MapSet").proxyMap_(t,e):Wp(t)?Ku("MapSet").proxySet_(t,e):AO(t,e);return(e?e.scope_:bM()).drafts_.push(n),n}function Bs(t){return Zu(t)||ma(10,t),CM(t)}function CM(t){if(!Fs(t)||Zp(t))return t;const e=t[po];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=pv(t,e.scope_.immer_.useStrictShallowCopy_)}else n=pv(t,!0);return ep(n,(r,i)=>{xM(n,r,CM(i))}),e&&(e.finalized_=!1),n}var mo=new IO,LM=mo.produce;mo.produceWithPatches.bind(mo);mo.setAutoFreeze.bind(mo);mo.setUseStrictShallowCopy.bind(mo);mo.applyPatches.bind(mo);mo.createDraft.bind(mo);mo.finishDraft.bind(mo);function EM(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var OO=EM(),BO=EM,NO=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qh:Qh.apply(null,arguments)};function $o(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(co(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>yM(r)&&r.type===t,n}var kM=class rf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,rf.prototype)}static get[Symbol.species](){return rf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new rf(...e[0].concat(this)):new rf(...e.concat(this))}};function oC(t){return Fs(t)?LM(t,()=>{}):t}function Eh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function RO(t){return typeof t=="boolean"}var FO=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new kM;return n&&(RO(n)?a.push(OO):a.push(BO(n.extraArgument))),a},zO="RTK_autoBatch",aC=t=>e=>{setTimeout(e,t)},jO=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:aC(10):t.type==="callback"?t.queueNotification:aC(t.timeout),h=()=>{a=!1,o&&(o=!1,u.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const _=()=>i&&m(),E=r.subscribe(_);return u.add(m),()=>{E(),u.delete(m)}},dispatch(m){var _;try{return i=!((_=m==null?void 0:m.meta)!=null&&_[zO]),o=!i,o&&(a||(a=!0,f(h))),r.dispatch(m)}finally{i=!0}}})},UO=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new kM(t);return r&&i.push(jO(typeof r=="object"?r:void 0)),i};function $O(t){const e=FO(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(j_(n))u=gM(n);else throw new Error(co(1));let f;typeof r=="function"?f=r(e):f=e();let h=Qh;i&&(h=NO({trace:!1,...typeof i=="object"&&i}));const m=LO(...f),_=UO(m);let E=typeof a=="function"?a(_):_();const S=h(...E);return mM(u,o,S)}function MM(t){const e={},n=[];let r;const i={addCase(o,a){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(co(28));if(u in e)throw new Error(co(29));return e[u]=a,i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function VO(t){return typeof t=="function"}function GO(t,e){let[n,r,i]=MM(e),o;if(VO(t))o=()=>oC(t());else{const u=oC(t);o=()=>u}function a(u=o(),f){let h=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[i]),h.reduce((m,_)=>{if(_)if(Zu(m)){const S=_(m,f);return S===void 0?m:S}else{if(Fs(m))return LM(m,E=>_(E,f));{const E=_(m,f);if(E===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return m},u)}return a.getInitialState=o,a}var qO="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",HO=(t=21)=>{let e="",n=t;for(;n--;)e+=qO[Math.random()*64|0];return e},WO=Symbol.for("rtk-slice-createasyncthunk");function ZO(t,e){return`${t}/${e}`}function KO({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[WO];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(co(11));const u=(typeof i.reducers=="function"?i.reducers(JO()):i.reducers)||{},f=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(X,te){const ne=typeof X=="string"?X:X.type;if(!ne)throw new Error(co(12));if(ne in h.sliceCaseReducersByType)throw new Error(co(13));return h.sliceCaseReducersByType[ne]=te,m},addMatcher(X,te){return h.sliceMatchers.push({matcher:X,reducer:te}),m},exposeAction(X,te){return h.actionCreators[X]=te,m},exposeCaseReducer(X,te){return h.sliceCaseReducersByName[X]=te,m}};f.forEach(X=>{const te=u[X],ne={reducerName:X,type:ZO(o,X),createNotation:typeof i.reducers=="function"};QO(te)?t2(ne,te,m,e):XO(ne,te,m)});function _(){const[X={},te=[],ne=void 0]=typeof i.extraReducers=="function"?MM(i.extraReducers):[i.extraReducers],se={...X,...h.sliceCaseReducersByType};return GO(i.initialState,ke=>{for(let Le in se)ke.addCase(Le,se[Le]);for(let Le of h.sliceMatchers)ke.addMatcher(Le.matcher,Le.reducer);for(let Le of te)ke.addMatcher(Le.matcher,Le.reducer);ne&&ke.addDefaultCase(ne)})}const E=X=>X,S=new Map,A=new WeakMap;let I;function N(X,te){return I||(I=_()),I(X,te)}function z(){return I||(I=_()),I.getInitialState()}function G(X,te=!1){function ne(ke){let Le=ke[X];return typeof Le>"u"&&te&&(Le=Eh(A,ne,z)),Le}function se(ke=E){const Le=Eh(S,te,()=>new WeakMap);return Eh(Le,ke,()=>{const Pe={};for(const[_e,Ne]of Object.entries(i.selectors??{}))Pe[_e]=YO(Ne,ke,()=>Eh(A,ke,z),te);return Pe})}return{reducerPath:X,getSelectors:se,get selectors(){return se(ne)},selectSlice:ne}}const Z={name:o,reducer:N,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:z,...G(a),injectInto(X,{reducerPath:te,...ne}={}){const se=te??a;return X.inject({reducerPath:se,reducer:N},ne),{...Z,...G(se,!0)}}};return Z}}function YO(t,e,n,r){function i(o,...a){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...a)}return i.unwrapped=t,i}var qo=KO();function JO(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function XO({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!e2(r))throw new Error(co(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?$o(t,a):$o(t))}function QO(t){return t._reducerDefinitionType==="asyncThunk"}function e2(t){return t._reducerDefinitionType==="reducerWithPrepare"}function t2({type:t,reducerName:e},n,r,i){if(!i)throw new Error(co(18));const{payloadCreator:o,fulfilled:a,pending:u,rejected:f,settled:h,options:m}=n,_=i(t,o,m);r.exposeAction(e,_),a&&r.addCase(_.fulfilled,a),u&&r.addCase(_.pending,u),f&&r.addCase(_.rejected,f),h&&r.addMatcher(_.settled,h),r.exposeCaseReducer(e,{fulfilled:a||kh,pending:u||kh,rejected:f||kh,settled:h||kh})}function kh(){}var n2="task",SM="listener",TM="completed",V_="cancelled",r2=`task-${V_}`,i2=`task-${TM}`,_v=`${SM}-${V_}`,o2=`${SM}-${TM}`,Kp=class{constructor(t){Lt(this,"name","TaskAbortError");Lt(this,"message");this.code=t,this.message=`${n2} ${V_} (reason: ${t})`}},G_=(t,e)=>{if(typeof t!="function")throw new TypeError(co(32))},rp=()=>{},PM=(t,e=rp)=>(t.catch(e),t),AM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Vu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Gu=t=>{if(t.aborted){const{reason:e}=t;throw new Kp(e)}};function DM(t,e){let n=rp;return new Promise((r,i)=>{const o=()=>i(new Kp(t.reason));if(t.aborted){o();return}n=AM(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=rp})}var a2=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Kp?"cancelled":"rejected",error:n}}finally{e==null||e()}},ip=t=>e=>PM(DM(t,e).then(n=>(Gu(t),n))),IM=t=>{const e=ip(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Hc}=Object,sC={},Yp="listenerMiddleware",s2=(t,e)=>{const n=r=>AM(t,()=>Vu(r,t.reason));return(r,i)=>{G_(r);const o=new AbortController;n(o);const a=a2(async()=>{Gu(t),Gu(o.signal);const u=await r({pause:ip(o.signal),delay:IM(o.signal),signal:o.signal});return Gu(o.signal),u},()=>Vu(o,i2));return i!=null&&i.autoJoin&&e.push(a.catch(rp)),{result:ip(t)(a),cancel(){Vu(o,r2)}}}},l2=(t,e)=>{const n=async(r,i)=>{Gu(e);let o=()=>{};const u=[new Promise((f,h)=>{let m=t({predicate:r,effect:(_,E)=>{E.unsubscribe(),f([_,E.getState(),E.getOriginalState()])}});o=()=>{m(),h()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await DM(e,Promise.race(u));return Gu(e),f}finally{o()}};return(r,i)=>PM(n(r,i))},OM=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=$o(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(co(21));return G_(o),{predicate:i,type:e,effect:o}},BM=Hc(t=>{const{type:e,predicate:n,effect:r}=OM(t);return{id:HO(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(co(22))}}},{withTypes:()=>BM}),lC=(t,e)=>{const{type:n,effect:r,predicate:i}=OM(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},xv=t=>{t.pending.forEach(e=>{Vu(e,_v)})},u2=t=>()=>{t.forEach(xv),t.clear()},uC=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},NM=Hc($o(`${Yp}/add`),{withTypes:()=>NM}),c2=$o(`${Yp}/removeAll`),RM=Hc($o(`${Yp}/remove`),{withTypes:()=>RM}),d2=(...t)=>{console.error(`${Yp}/error`,...t)},Of=(t={})=>{const e=new Map,{extra:n,onError:r=d2}=t;G_(r);const i=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),_=>{m.unsubscribe(),_!=null&&_.cancelActive&&xv(m)}),o=m=>{const _=lC(e,m)??BM(m);return i(_)};Hc(o,{withTypes:()=>o});const a=m=>{const _=lC(e,m);return _&&(_.unsubscribe(),m.cancelActive&&xv(_)),!!_};Hc(a,{withTypes:()=>a});const u=async(m,_,E,S)=>{const A=new AbortController,I=l2(o,A.signal),N=[];try{m.pending.add(A),await Promise.resolve(m.effect(_,Hc({},E,{getOriginalState:S,condition:(z,G)=>I(z,G).then(Boolean),take:I,delay:IM(A.signal),pause:ip(A.signal),extra:n,signal:A.signal,fork:s2(A.signal,N),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((z,G,Z)=>{z!==A&&(Vu(z,_v),Z.delete(z))})},cancel:()=>{Vu(A,_v),m.pending.delete(A)},throwIfCancelled:()=>{Gu(A.signal)}})))}catch(z){z instanceof Kp||uC(r,z,{raisedBy:"effect"})}finally{await Promise.all(N),Vu(A,o2),m.pending.delete(A)}},f=u2(e);return{middleware:m=>_=>E=>{if(!yM(E))return _(E);if(NM.match(E))return o(E.payload);if(c2.match(E)){f();return}if(RM.match(E))return a(E.payload);let S=m.getState();const A=()=>{if(S===sC)throw new Error(co(23));return S};let I;try{if(I=_(E),e.size>0){const N=m.getState(),z=Array.from(e.values());for(const G of z){let Z=!1;try{Z=G.predicate(E,N,S)}catch(X){Z=!1,uC(r,X,{raisedBy:"predicate"})}Z&&u(G,E,m,A)}}}finally{S=sC}return I},startListening:o,stopListening:a,clearListeners:f}};function co(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var f2={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},FM=qo({name:"chartLayout",initialState:f2,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:h2,setLayout:p2,setChartSize:m2,setScale:g2}=FM.actions,y2=FM.reducer;function cC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(n),!0).forEach(function(r){v2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v2(t,e,n){return(e=_2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _2(t){var e=x2(t,"string");return typeof e=="symbol"?e:e+""}function x2(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var op=Math.PI/180,b2=t=>t*180/Math.PI,jr=(t,e,n,r)=>({x:t+Math.cos(-op*r)*n,y:e+Math.sin(-op*r)*n}),w2=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},C2=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},L2=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=C2({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var u=(n-i)/a,f=Math.acos(u);return r>o&&(f=2*Math.PI-f),{radius:a,angle:b2(f),angleInRadian:f}},E2=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},k2=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},M2=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=L2({x:n,y:r},e),{innerRadius:a,outerRadius:u}=e;if(i<a||i>u||i===0)return null;var{startAngle:f,endAngle:h}=E2(e),m=o,_;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;_=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;_=m>=h&&m<=f}return _?dC(dC({},e),{},{radius:i,angle:k2(m,e)}):null};function fC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fC(Object(n),!0).forEach(function(r){S2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S2(t,e,n){return(e=T2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T2(t){var e=P2(t,"string");return typeof e=="symbol"?e:e+""}function P2(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fo(t,e,n){return sr(t)||sr(e)?n:Ja(e)?Wu(t,e,n):typeof e=="function"?e(t):n}var A2=(t,e,n,r,i)=>{var o,a=-1,u=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var h=f>0?n[f-1].coordinate:n[u-1].coordinate,m=n[f].coordinate,_=f>=u-1?n[0].coordinate:n[f+1].coordinate,E=void 0;if(Ui(m-h)!==Ui(_-m)){var S=[];if(Ui(_-m)===Ui(i[1]-i[0])){E=_;var A=m+i[1]-i[0];S[0]=Math.min(A,(A+h)/2),S[1]=Math.max(A,(A+h)/2)}else{E=h;var I=_+i[1]-i[0];S[0]=Math.min(m,(I+m)/2),S[1]=Math.max(m,(I+m)/2)}var N=[Math.min(m,(E+m)/2),Math.max(m,(E+m)/2)];if(t>N[0]&&t<=N[1]||t>=S[0]&&t<=S[1]){({index:a}=n[f]);break}}else{var z=Math.min(h,_),G=Math.max(h,_);if(t>(z+m)/2&&t<=(G+m)/2){({index:a}=n[f]);break}}}else if(e){for(var Z=0;Z<u;Z++)if(Z===0&&t<=(e[Z].coordinate+e[Z+1].coordinate)/2||Z>0&&Z<u-1&&t>(e[Z].coordinate+e[Z-1].coordinate)/2&&t<=(e[Z].coordinate+e[Z+1].coordinate)/2||Z===u-1&&t>(e[Z].coordinate+e[Z-1].coordinate)/2){({index:a}=e[Z]);break}}return a},D2=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:u}=e;if((u==="vertical"||u==="horizontal"&&a==="middle")&&o!=="center"&&gt(t[o]))return jo(jo({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&a!=="middle"&&gt(t[a]))return jo(jo({},t),{},{[a]:t[a]+(i||0)})}return t},ec=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",zM=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,o,a=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||a.push(e),o||a.push(n),a},jM=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:a,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:m,ticks:_,niceTicks:E,axisType:S}=t;if(!a)return null;var A=u==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,I=i==="category"&&a.bandwidth?a.bandwidth()/A:0;if(I=S==="angleAxis"&&o&&o.length>=2?Ui(o[0]-o[1])*2*I:I,_||E){var N=(_||E||[]).map((z,G)=>{var Z=r?r.indexOf(z):z;return{coordinate:a(Z)+I,value:z,offset:I,index:G}});return N.filter(z=>!ho(z.coordinate))}return f&&h?h.map((z,G)=>({coordinate:a(z)+I,value:z,index:G,offset:I})):a.ticks&&m!=null?a.ticks(m).map((z,G)=>({coordinate:a(z)+I,value:z,offset:I,index:G})):a.domain().map((z,G)=>({coordinate:a(z)+I,value:r?r[z]:z,index:G,offset:I}))},hC=1e-4,I2=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-hC,o=Math.max(r[0],r[1])+hC,a=t(e[0]),u=t(e[n-1]);(a<i||a>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},O2=(t,e)=>{if(!e||e.length!==2||!gt(e[0])||!gt(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!gt(t[0])||t[0]<n)&&(i[0]=n),(!gt(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},B2=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,a=0;a<e;++a){var u=ho(t[a][n][1])?t[a][n][0]:t[a][n][1];u>=0?(t[a][n][0]=i,t[a][n][1]=i+u,i=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+u,o=t[a][n][1])}},N2=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var a=ho(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},R2={sign:B2,expand:fI,none:Zc,silhouette:hI,wiggle:pI,positive:N2},F2=(t,e,n)=>{var r=R2[n],i=dI().keys(e).value((o,a)=>+fo(o,a,0)).order(cv).offset(r);return i(t)};function UM(t){return t==null?void 0:String(t)}var pC=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var u=fo(o,e.dataKey,e.scale.domain()[a]);return sr(u)?null:e.scale(u)-i/2+r},z2=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},j2=t=>{var e=t.flat(2).filter(gt);return[Math.min(...e),Math.max(...e)]},U2=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],$2=(t,e,n)=>{if(t!=null)return U2(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:a}=o,u=a.reduce((f,h)=>{var m=j2(h.slice(e,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},mC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,q_=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Gp(e,m=>m.coordinate),o=1/0,a=1,u=i.length;a<u;a++){var f=i[a],h=i[a-1];o=Math.min((f.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function yC(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return jo(jo({},e),{},{dataKey:n,payload:r,value:i,name:o})}function $M(t,e){if(t)return String(t);if(typeof e=="string")return e}function V2(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?M2({x:t,y:e},r):null}var G2=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:a}=r;return jo(jo(jo({},r),jr(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var u=i.coordinate,{angle:f}=r;return jo(jo(jo({},r),jr(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},q2=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Vs=t=>t.layout.width,Gs=t=>t.layout.height,H2=t=>t.layout.scale,VM=t=>t.layout.margin,H_=Re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),W_=Re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),W2="data-recharts-item-index",Z2="data-recharts-item-data-key",Jp=60;function vC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vC(Object(n),!0).forEach(function(r){K2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K2(t,e,n){return(e=Y2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y2(t){var e=J2(t,"string");return typeof e=="symbol"?e:e+""}function J2(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X2=t=>t.brush.height,Sr=Re([Vs,Gs,VM,X2,H_,W_,hM,yO],(t,e,n,r,i,o,a,u)=>{var f=o.reduce((A,I)=>{var{orientation:N}=I;if(!I.mirror&&!I.hide){var z=typeof I.width=="number"?I.width:Jp;return Dl(Dl({},A),{},{[N]:A[N]+z})}return A},{left:n.left||0,right:n.right||0}),h=i.reduce((A,I)=>{var{orientation:N}=I;return!I.mirror&&!I.hide?Dl(Dl({},A),{},{[N]:Wu(A,"".concat(N))+I.height}):A},{top:n.top||0,bottom:n.bottom||0}),m=Dl(Dl({},h),f),_=m.bottom;m.bottom+=r,m=D2(m,a,u);var E=t-m.left-m.right,S=e-m.top-m.bottom;return Dl(Dl({brushBottom:_},m),{},{width:Math.max(E,0),height:Math.max(S,0)})}),Q2=Re(Sr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),GM=Re(Vs,Gs,(t,e)=>({x:0,y:0,width:t,height:e})),eB=$.createContext(null),Hi=()=>$.useContext(eB)!=null,Xp=t=>t.brush,Qp=Re([Xp,Sr,VM],(t,e,n)=>({height:t.height,x:gt(t.x)?t.x:e.left,y:gt(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:gt(t.width)?t.width:e.width})),Z_=()=>{var t,e=Hi(),n=kt(Q2),r=kt(Qp),i=(t=kt(Xp))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},tB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},qM=()=>{var t;return(t=kt(Sr))!==null&&t!==void 0?t:tB},K_=()=>kt(Vs),Y_=()=>kt(Gs),nB={top:0,right:0,bottom:0,left:0},rB=()=>{var t;return(t=kt(e=>e.layout.margin))!==null&&t!==void 0?t:nB},_n=t=>t.layout.layoutType,J_=()=>kt(_n),iB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},HM=qo({name:"legend",initialState:iB,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Bs(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:_C,setLegendSettings:oB,addLegendPayload:aB,removeLegendPayload:sB}=HM.actions,lB=HM.reducer,uB=["contextPayload"];function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(null,arguments)}function xC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(n),!0).forEach(function(r){X_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X_(t,e,n){return(e=cB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cB(t){var e=dB(t,"string");return typeof e=="symbol"?e:e+""}function dB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fB(t,e){if(t==null)return{};var n,r,i=hB(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pB(t){return t.value}function mB(t){var{contextPayload:e}=t,n=fB(t,uB),r=uM(e,t.payloadUniqBy,pB),i=Yc(Yc({},n),{},{payload:r});return $.isValidElement(t.content)?$.cloneElement(t.content,i):typeof t.content=="function"?$.createElement(t.content,i):$.createElement(I_,i)}function gB(t,e,n,r,i,o){var{layout:a,align:u,verticalAlign:f}=e,h,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&a==="vertical"?h={left:((r||0)-o.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?m={top:((i||0)-o.height)/2}:m=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Yc(Yc({},h),m)}function yB(t){var e=Xn();return $.useEffect(()=>{e(oB(t))},[e,t]),null}function vB(t){var e=Xn();return $.useEffect(()=>(e(_C(t)),()=>{e(_C({width:0,height:0}))}),[e,t]),null}function _B(t){var e=xO(),n=BD(),r=rB(),{width:i,height:o,wrapperStyle:a,portal:u}=t,[f,h]=pM([e]),m=K_(),_=Y_(),E=m-(r.left||0)-(r.right||0),S=Bf.getWidthOrHeight(t.layout,o,i,E),A=u?a:Yc(Yc({position:"absolute",width:(S==null?void 0:S.width)||i||"auto",height:(S==null?void 0:S.height)||o||"auto"},gB(a,t,r,m,_,f)),a),I=u??n;if(I==null)return null;var N=$.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:h},$.createElement(yB,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),$.createElement(vB,{width:f.width,height:f.height}),$.createElement(mB,bv({},t,S,{margin:r,chartWidth:m,chartHeight:_,contextPayload:e})));return Fk.createPortal(N,I)}class Bf extends $.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&gt(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return $.createElement(_B,this.props)}}X_(Bf,"displayName","Legend");X_(Bf,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(null,arguments)}function bC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function my(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(n),!0).forEach(function(r){xB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xB(t,e,n){return(e=bB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bB(t){var e=wB(t,"string");return typeof e=="symbol"?e:e+""}function wB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CB(t){return Array.isArray(t)&&Ja(t[0])&&Ja(t[1])?t.join(" ~ "):t}var LB=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:u,wrapperClassName:f,labelClassName:h,label:m,labelFormatter:_,accessibilityLayer:E=!1}=t,S=()=>{if(o&&o.length){var te={padding:0,margin:0},ne=(u?Gp(o,u):o).map((se,ke)=>{if(se.type==="none")return null;var Le=se.formatter||a||CB,{value:Pe,name:_e}=se,Ne=Pe,qe=_e;if(Le){var Ke=Le(Pe,_e,se,ke,o);if(Array.isArray(Ke))[Ne,qe]=Ke;else if(Ke!=null)Ne=Ke;else return null}var ht=my({display:"block",paddingTop:4,paddingBottom:4,color:se.color||"#000"},r);return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ke),style:ht},Ja(qe)?$.createElement("span",{className:"recharts-tooltip-item-name"},qe):null,Ja(qe)?$.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,$.createElement("span",{className:"recharts-tooltip-item-value"},Ne),$.createElement("span",{className:"recharts-tooltip-item-unit"},se.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:te},ne)}return null},A=my({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),I=my({margin:0},i),N=!sr(m),z=N?m:"",G=Ln("recharts-default-tooltip",f),Z=Ln("recharts-tooltip-label",h);N&&_&&o!==void 0&&o!==null&&(z=_(m,o));var X=E?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",wv({className:G,style:A},X),$.createElement("p",{className:Z,style:I},$.isValidElement(z)?z:"".concat(z)),S())},Wd="recharts-tooltip-wrapper",EB={visibility:"hidden"};function kB(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ln(Wd,{["".concat(Wd,"-right")]:gt(n)&&e&&gt(e.x)&&n>=e.x,["".concat(Wd,"-left")]:gt(n)&&e&&gt(e.x)&&n<e.x,["".concat(Wd,"-bottom")]:gt(r)&&e&&gt(e.y)&&r>=e.y,["".concat(Wd,"-top")]:gt(r)&&e&&gt(e.y)&&r<e.y})}function wC(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=t;if(o&&gt(o[r]))return o[r];var m=n[r]-u-(i>0?i:0),_=n[r]+i;if(e[r])return a[r]?m:_;var E=f[r];if(E==null)return 0;if(a[r]){var S=m,A=E;return S<A?Math.max(_,E):Math.max(m,E)}if(h==null)return 0;var I=_+u,N=E+h;return I>N?Math.max(m,E):Math.max(_,E)}function MB(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function SB(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:a,useTranslate3d:u,viewBox:f}=t,h,m,_;return a.height>0&&a.width>0&&n?(m=wC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:f,viewBoxDimension:f.width}),_=wC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:f,viewBoxDimension:f.height}),h=MB({translateX:m,translateY:_,useTranslate3d:u})):h=EB,{cssProperties:h,cssClasses:kB({translateX:m,translateY:_,coordinate:n})}}function CC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(n),!0).forEach(function(r){Cv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cv(t,e,n){return(e=TB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TB(t){var e=PB(t,"string");return typeof e=="symbol"?e:e+""}function PB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class AB extends $.PureComponent{constructor(){super(...arguments),Cv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Cv(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:u,isAnimationActive:f,offset:h,position:m,reverseDirection:_,useTranslate3d:E,viewBox:S,wrapperStyle:A,lastBoundingBox:I,innerRef:N,hasPortalFromProps:z}=this.props,{cssClasses:G,cssProperties:Z}=SB({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:h,position:m,reverseDirection:_,tooltipBox:{height:I.height,width:I.width},useTranslate3d:E,viewBox:S}),X=z?{}:Mh(Mh({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},Z),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),te=Mh(Mh({},X),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},A);return $.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:G,style:te,ref:N},o)}}var DB=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Nf={isSsr:DB()},WM=()=>kt(t=>t.rootProps.accessibilityLayer);function go(t){return Number.isFinite(t)}function ap(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(null,arguments)}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){IB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IB(t,e,n){return(e=OB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OB(t){var e=BB(t,"string");return typeof e=="symbol"?e:e+""}function BB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kC={curveBasisClosed:eI,curveBasisOpen:tI,curveBasis:QD,curveBumpX:zD,curveBumpY:jD,curveLinearClosed:nI,curveLinear:$p,curveMonotoneX:rI,curveMonotoneY:iI,curveNatural:oI,curveStep:aI,curveStepAfter:lI,curveStepBefore:sI},Sh=t=>go(t.x)&&go(t.y),Zd=t=>t.x,Kd=t=>t.y,NB=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(If(t));return(n==="curveMonotone"||n==="curveBump")&&e?kC["".concat(n).concat(e==="vertical"?"Y":"X")]:kC[n]||$p},RB=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,a=NB(e,i),u=o?n.filter(Sh):n,f;if(Array.isArray(r)){var h=o?r.filter(_=>Sh(_)):r,m=u.map((_,E)=>EC(EC({},_),{},{base:h[E]}));return i==="vertical"?f=wh().y(Kd).x1(Zd).x0(_=>_.base.x):f=wh().x(Zd).y1(Kd).y0(_=>_.base.y),f.defined(Sh).curve(a),f(m)}return i==="vertical"&&gt(r)?f=wh().y(Kd).x1(Zd).x0(r):gt(r)?f=wh().x(Zd).y1(Kd).y0(r):f=qk().x(Zd).y(Kd),f.defined(Sh).curve(a),f(u)},FB=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?RB(t):r;return $.createElement("path",Lv({},An(t,!1),kD(t),{className:Ln("recharts-curve",e),d:o===null?void 0:o,ref:i}))},zB=["x","y","top","left","width","height","className"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(null,arguments)}function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){UB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UB(t,e,n){return(e=$B(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $B(t){var e=VB(t,"string");return typeof e=="symbol"?e:e+""}function VB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GB(t,e){if(t==null)return{};var n,r,i=qB(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var HB=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),WB=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:u}=t,f=GB(t,zB),h=jB({x:e,y:n,top:r,left:i,width:o,height:a},f);return!gt(e)||!gt(n)||!gt(o)||!gt(a)||!gt(r)||!gt(i)?null:$.createElement("path",Ev({},An(h,!0),{className:Ln("recharts-cross",u),d:HB(e,n,o,a,r,i)}))};function ZB(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function SC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(n),!0).forEach(function(r){YB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YB(t,e,n){return(e=JB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JB(t){var e=XB(t,"string");return typeof e=="symbol"?e:e+""}function XB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $l(t,e){var n=KB({},t),r=e,i=Object.keys(e),o=i.reduce((a,u)=>(a[u]===void 0&&r[u]!==void 0&&(a[u]=r[u]),a),n);return o}var gy={},yy={},vy={},TC;function QB(){return TC||(TC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e}(vy)),vy}var PC;function eN(){return PC||(PC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QB(),n=aM(),r=R_(),i=F_(),o=B_();function a(h,m,_){return u(h,m,void 0,void 0,void 0,void 0,_)}function u(h,m,_,E,S,A,I){const N=I(h,m,_,E,S,A);if(N!==void 0)return N;if(typeof h==typeof m)switch(typeof h){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return h===m;case"number":return h===m||Object.is(h,m);case"function":return h===m;case"object":return f(h,m,A,I)}return f(h,m,A,I)}function f(h,m,_,E){if(Object.is(h,m))return!0;let S=r.getTag(h),A=r.getTag(m);if(S===i.argumentsTag&&(S=i.objectTag),A===i.argumentsTag&&(A=i.objectTag),S!==A)return!1;switch(S){case i.stringTag:return h.toString()===m.toString();case i.numberTag:{const z=h.valueOf(),G=m.valueOf();return o.eq(z,G)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(h.valueOf(),m.valueOf());case i.regexpTag:return h.source===m.source&&h.flags===m.flags;case i.functionTag:return h===m}_=_??new Map;const I=_.get(h),N=_.get(m);if(I!=null&&N!=null)return I===m;_.set(h,m),_.set(m,h);try{switch(S){case i.mapTag:{if(h.size!==m.size)return!1;for(const[z,G]of h.entries())if(!m.has(z)||!u(G,m.get(z),z,h,m,_,E))return!1;return!0}case i.setTag:{if(h.size!==m.size)return!1;const z=Array.from(h.values()),G=Array.from(m.values());for(let Z=0;Z<z.length;Z++){const X=z[Z],te=G.findIndex(ne=>u(X,ne,void 0,h,m,_,E));if(te===-1)return!1;G.splice(te,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(h)!==Buffer.isBuffer(m)||h.length!==m.length)return!1;for(let z=0;z<h.length;z++)if(!u(h[z],m[z],z,h,m,_,E))return!1;return!0}case i.arrayBufferTag:return h.byteLength!==m.byteLength?!1:f(new Uint8Array(h),new Uint8Array(m),_,E);case i.dataViewTag:return h.byteLength!==m.byteLength||h.byteOffset!==m.byteOffset?!1:f(new Uint8Array(h),new Uint8Array(m),_,E);case i.errorTag:return h.name===m.name&&h.message===m.message;case i.objectTag:{if(!(f(h.constructor,m.constructor,_,E)||e.isPlainObject(h)&&e.isPlainObject(m)))return!1;const G=[...Object.keys(h),...n.getSymbols(h)],Z=[...Object.keys(m),...n.getSymbols(m)];if(G.length!==Z.length)return!1;for(let X=0;X<G.length;X++){const te=G[X],ne=h[te];if(!Object.hasOwn(m,te))return!1;const se=m[te];if(!u(ne,se,te,h,m,_,E))return!1}return!0}default:return!1}}finally{_.delete(h),_.delete(m)}}t.isEqualWith=a}(yy)),yy}var _y={},AC;function tN(){return AC||(AC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e}(_y)),_y}var DC;function nN(){return DC||(DC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eN(),n=tN();function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r}(gy)),gy}var xy,IC;function rN(){return IC||(IC=1,xy=nN().isEqual),xy}var iN=rN();const oN=Go(iN);function aN(t){var e={},n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var u=a,[f,...h]=u;if(typeof f=="number"){i=t.setTimeout(o.bind(null,h),f);return}o(f),i=t.setTimeout(o.bind(null,h));return}typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}var sp=1e-4,ZM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],KM=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),OC=(t,e)=>n=>{var r=ZM(t,e);return KM(r,n)},sN=(t,e)=>n=>{var r=ZM(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return KM(i,n)},BC=function(){for(var e,n,r,i,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=a[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(A=>parseFloat(A)))}}else a.length===4&&([e,r,n,i]=a);var h=OC(e,n),m=OC(r,i),_=sN(e,n),E=A=>A>1?1:A<0?0:A,S=A=>{for(var I=A>1?1:A,N=I,z=0;z<8;++z){var G=h(N)-I,Z=_(N);if(Math.abs(G-I)<sp||Z<sp)return m(N);N=E(N-G/Z)}return m(N)};return S.isStepper=!1,S},lN=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,u,f)=>{var h=-(a-u)*n,m=f*r,_=f+(h-m)*i/1e3,E=f*i/1e3+a;return Math.abs(E-u)<sp&&Math.abs(_)<sp?[u,0]:[E,_]};return o.isStepper=!0,o.dt=i,o},uN=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BC(t);case"spring":return lN();default:if(t.split("(")[0]==="cubic-bezier")return BC(t)}return typeof t=="function"?t:null};function NC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(n),!0).forEach(function(r){cN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cN(t,e,n){return(e=dN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dN(t){var e=fN(t,"string");return typeof e=="symbol"?e:e+""}function fN(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hN=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),pN=(t,e,n)=>t.map(r=>"".concat(hN(r)," ").concat(e,"ms ").concat(n)).join(","),mN=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),vf=(t,e)=>Object.keys(e).reduce((n,r)=>RC(RC({},n),{},{[r]:t(r,e[r])}),{});function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(r){gN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gN(t,e,n){return(e=yN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yN(t){var e=vN(t,"string");return typeof e=="symbol"?e:e+""}function vN(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lp=(t,e,n)=>t+(e-t)*n,kv=t=>{var{from:e,to:n}=t;return e!==n},YM=(t,e,n)=>{var r=vf((i,o)=>{if(kv(o)){var[a,u]=t(o.from,o.to,o.velocity);return zr(zr({},o),{},{from:a,velocity:u})}return o},e);return n<1?vf((i,o)=>kv(o)?zr(zr({},o),{},{velocity:lp(o.velocity,r[i].velocity,n),from:lp(o.from,r[i].from,n)}):o,e):YM(t,r,n-1)};function _N(t,e,n,r,i,o){var a,u=r.reduce((E,S)=>zr(zr({},E),{},{[S]:{from:t[S],velocity:0,to:e[S]}}),{}),f=()=>vf((E,S)=>S.from,u),h=()=>!Object.values(u).filter(kv).length,m=null,_=E=>{a||(a=E);var S=E-a,A=S/n.dt;u=YM(n,u,A),i(zr(zr(zr({},t),e),f())),a=E,h()||(m=o.setTimeout(_))};return()=>(m=o.setTimeout(_),()=>{m()})}function xN(t,e,n,r,i,o,a){var u=null,f=i.reduce((_,E)=>zr(zr({},_),{},{[E]:[t[E],e[E]]}),{}),h,m=_=>{h||(h=_);var E=(_-h)/r,S=vf((I,N)=>lp(...N,n(E)),f);if(o(zr(zr(zr({},t),e),S)),E<1)u=a.setTimeout(m);else{var A=vf((I,N)=>lp(...N,n(1)),f);o(zr(zr(zr({},t),e),A))}};return()=>(u=a.setTimeout(m),()=>{u()})}const bN=(t,e,n,r,i,o)=>{var a=mN(t,e);return n.isStepper===!0?_N(t,e,n,a,i,o):xN(t,e,n,r,a,i,o)};class wN{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}var CN=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(null,arguments)}function LN(t,e){if(t==null)return{};var n,r,i=EN(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EN(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Il(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(n),!0).forEach(function(r){Ru(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ru(t,e,n){return(e=kN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kN(t){var e=MN(t,"string");return typeof e=="symbol"?e:e+""}function MN(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SN(){return aN(new wN)}class Q_ extends $.PureComponent{constructor(e,n){super(e,n),Ru(this,"mounted",!1),Ru(this,"manager",null),Ru(this,"stopJSAnimation",null),Ru(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:a,children:u,duration:f,animationManager:h}=this.props;if(this.manager=h,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:a});return}if(o){if(typeof u=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:a,from:u}=this.props,{style:f}=this.state;if(r){if(!n){var h={style:i?{[i]:a}:a};this.state&&f&&(i&&f[i]!==a||!i&&f!==a)&&this.setState(h);return}if(!(oN(e.to,a)&&e.canBegin&&e.isActive)){var m=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=m||o?u:e.to;if(this.state&&f){var E={style:i?{[i]:_}:_};(i&&f[i]!==_||!i&&f!==_)&&this.setState(E)}this.runAnimation(Il(Il({},this.props),{},{from:_,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:a,onAnimationEnd:u,onAnimationStart:f}=e,h=bN(n,r,uN(o),i,this.changeStyle,this.manager.getTimeoutController()),m=()=>{this.stopJSAnimation=h()};this.manager.start([f,a,m,i,u])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:a,onAnimationStart:u,onAnimationEnd:f,children:h}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof h=="function"||a==="spring"){this.runJSAnimation(e);return}var m=i?{[i]:o}:o,_=pN(Object.keys(m),r,a);this.manager.start([u,n,Il(Il({},m),{},{transition:_}),r,f])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:a,isActive:u,from:f,to:h,canBegin:m,onAnimationEnd:_,shouldReAnimate:E,onAnimationReStart:S,animationManager:A}=e,I=LN(e,CN),N=$.Children.count(n),z=this.state.style;if(typeof n=="function")return n(z);if(!u||N===0||i<=0)return n;var G=Z=>{var{style:X={},className:te}=Z.props,ne=$.cloneElement(Z,Il(Il({},I),{},{style:Il(Il({},X),z),className:te}));return ne};return N===1?G($.Children.only(n)):$.createElement("div",null,$.Children.map(n,Z=>G(Z)))}}Ru(Q_,"displayName","Animate");Ru(Q_,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var TN=$.createContext(null);function Jc(t){var e,n,r=$.useContext(TN);return $.createElement(Q_,Mv({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:SN()}))}function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},up.apply(null,arguments)}var jC=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],_=0,E=4;_<E;_++)m[_]=i[_]>o?o:i[_];h="M".concat(t,",").concat(e+a*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+u*m[0],",").concat(e)),h+="L ".concat(t+n-u*m[1],",").concat(e),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+a*m[1])),h+="L ".concat(t+n,",").concat(e+r-a*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-u*m[2],",").concat(e+r)),h+="L ".concat(t+u*m[3],",").concat(e+r),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-a*m[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var S=Math.min(o,i);h="M ".concat(t,",").concat(e+a*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t+u*S,",").concat(e,`
            L `).concat(t+n-u*S,",").concat(e,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t+n,",").concat(e+a*S,`
            L `).concat(t+n,",").concat(e+r-a*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t+n-u*S,",").concat(e+r,`
            L `).concat(t+u*S,",").concat(e+r,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t,",").concat(e+r-a*S," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},PN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JM=t=>{var e=$l(t,PN),n=$.useRef(null),[r,i]=$.useState(-1);$.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var z=n.current.getTotalLength();z&&i(z)}catch{}},[]);var{x:o,y:a,width:u,height:f,radius:h,className:m}=e,{animationEasing:_,animationDuration:E,animationBegin:S,isAnimationActive:A,isUpdateAnimationActive:I}=e;if(o!==+o||a!==+a||u!==+u||f!==+f||u===0||f===0)return null;var N=Ln("recharts-rectangle",m);return I?$.createElement(Jc,{canBegin:r>0,from:{width:u,height:f,x:o,y:a},to:{width:u,height:f,x:o,y:a},duration:E,animationEasing:_,isActive:I},z=>{var{width:G,height:Z,x:X,y:te}=z;return $.createElement(Jc,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:E,isActive:A,easing:_},$.createElement("path",up({},An(e,!0),{className:N,d:jC(X,te,G,Z,h),ref:n})))}):$.createElement("path",up({},An(e,!0),{className:N,d:jC(o,a,u,f,h)}))};function XM(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,a=jr(e,n,r,i),u=jr(e,n,r,o);return{points:[a,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(null,arguments)}var AN=(t,e)=>{var n=Ui(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Th=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:u,cornerIsExternal:f}=t,h=u*(a?1:-1)+r,m=Math.asin(u/h)/op,_=f?i:i+o*m,E=jr(e,n,h,_),S=jr(e,n,r,_),A=f?i-o*m:i,I=jr(e,n,h*Math.cos(m*op),A);return{center:E,circleTangency:S,lineTangency:I,theta:m}},QM=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=t,u=AN(o,a),f=o+u,h=jr(e,n,i,o),m=jr(e,n,i,f),_="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var E=jr(e,n,r,o),S=jr(e,n,r,f);_+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(E.x,",").concat(E.y," Z")}else _+="L ".concat(e,",").concat(n," Z");return _},DN=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:u,startAngle:f,endAngle:h}=t,m=Ui(h-f),{circleTangency:_,lineTangency:E,theta:S}=Th({cx:e,cy:n,radius:i,angle:f,sign:m,cornerRadius:o,cornerIsExternal:u}),{circleTangency:A,lineTangency:I,theta:N}=Th({cx:e,cy:n,radius:i,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:u}),z=u?Math.abs(f-h):Math.abs(f-h)-S-N;if(z<0)return a?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):QM({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var G="M ".concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
  `);if(r>0){var{circleTangency:Z,lineTangency:X,theta:te}=Th({cx:e,cy:n,radius:r,angle:f,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:ne,lineTangency:se,theta:ke}=Th({cx:e,cy:n,radius:r,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),Le=u?Math.abs(f-h):Math.abs(f-h)-te-ke;if(Le<0&&o===0)return"".concat(G,"L").concat(e,",").concat(n,"Z");G+="L".concat(se.x,",").concat(se.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(ne.x,",").concat(ne.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(Le>180),",").concat(+(m>0),",").concat(Z.x,",").concat(Z.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(X.x,",").concat(X.y,"Z")}else G+="L".concat(e,",").concat(n,"Z");return G},IN={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eS=t=>{var e=$l(t,IN),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:m,className:_}=e;if(o<i||h===m)return null;var E=Ln("recharts-sector",_),S=o-i,A=va(a,S,0,!0),I;return A>0&&Math.abs(h-m)<360?I=DN({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(A,S/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:m}):I=QM({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:h,endAngle:m}),$.createElement("path",Sv({},An(e,!0),{className:E,d:I}))};function ON(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:f,innerRadius:h,outerRadius:m,angle:_}=e,E=jr(u,f,h,_),S=jr(u,f,m,_);r=E.x,i=E.y,o=S.x,a=S.y}else return XM(e);return[{x:r,y:i},{x:o,y:a}]}var by={},wy={},Cy={},UC;function BN(){return UC||(UC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dM();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n}(Cy)),Cy}var $C;function NN(){return $C||($C=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BN();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n}(wy)),wy}var VC;function RN(){return VC||(VC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fM(),n=NN();function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const u=Math.max(Math.ceil((o-i)/(a||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=i,i+=a;return f}t.range=r}(by)),by}var Ly,GC;function FN(){return GC||(GC=1,Ly=RN().range),Ly}var zN=FN();const tS=Go(zN);function Rl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jN(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function e0(t){let e,n,r;t.length!==2?(e=Rl,n=(u,f)=>Rl(t(u),f),r=(u,f)=>t(u)-f):(e=t===Rl||t===jN?t:UN,n=t,r=t);function i(u,f,h=0,m=u.length){if(h<m){if(e(f,f)!==0)return m;do{const _=h+m>>>1;n(u[_],f)<0?h=_+1:m=_}while(h<m)}return h}function o(u,f,h=0,m=u.length){if(h<m){if(e(f,f)!==0)return m;do{const _=h+m>>>1;n(u[_],f)<=0?h=_+1:m=_}while(h<m)}return h}function a(u,f,h=0,m=u.length){const _=i(u,f,h,m-1);return _>h&&r(u[_-1],f)>-r(u[_],f)?_-1:_}return{left:i,center:a,right:o}}function UN(){return 0}function nS(t){return t===null?NaN:+t}function*$N(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const VN=e0(Rl),Rf=VN.right;e0(nS).center;class qC extends Map{constructor(e,n=HN){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(HC(this,e))}has(e){return super.has(HC(this,e))}set(e,n){return super.set(GN(this,e),n)}delete(e){return super.delete(qN(this,e))}}function HC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function GN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function qN({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function HN(t){return t!==null&&typeof t=="object"?t.valueOf():t}function WN(t=Rl){if(t===Rl)return rS;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function rS(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ZN=Math.sqrt(50),KN=Math.sqrt(10),YN=Math.sqrt(2);function cp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=ZN?10:o>=KN?5:o>=YN?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/a,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*a,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?cp(t,e,n*2):[u,f,h]}function Tv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?cp(e,t,n):cp(t,e,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(a<0)for(let h=0;h<u;++h)f[h]=(o-h)/-a;else for(let h=0;h<u;++h)f[h]=(o-h)*a;else if(a<0)for(let h=0;h<u;++h)f[h]=(i+h)/-a;else for(let h=0;h<u;++h)f[h]=(i+h)*a;return f}function Pv(t,e,n){return e=+e,t=+t,n=+n,cp(t,e,n)[2]}function Av(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Pv(e,t,n):Pv(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function WC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ZC(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function iS(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?rS:WN(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,m=Math.log(f),_=.5*Math.exp(2*m/3),E=.5*Math.sqrt(m*_*(f-_)/f)*(h-f/2<0?-1:1),S=Math.max(n,Math.floor(e-h*_/f+E)),A=Math.min(r,Math.floor(e+(f-h)*_/f+E));iS(t,e,S,A,i)}const o=t[e];let a=n,u=r;for(Yd(t,n,e),i(t[r],o)>0&&Yd(t,n,r);a<u;){for(Yd(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?Yd(t,n,u):(++u,Yd(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Yd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function JN(t,e,n){if(t=Float64Array.from($N(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ZC(t);if(e>=1)return WC(t);var r,i=(r-1)*e,o=Math.floor(i),a=WC(iS(t,o).subarray(0,o+1)),u=ZC(t.subarray(o+1));return a+(u-a)*(i-o)}}function XN(t,e,n=nS){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function QN(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Ho(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function qs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Dv=Symbol("implicit");function t0(){var t=new qC,e=[],n=[],r=Dv;function i(o){let a=t.get(o);if(a===void 0){if(r!==Dv)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new qC;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return t0(e,n).unknown(r)},Ho.apply(i,arguments),i}function n0(){var t=t0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,u=!1,f=0,h=0,m=.5;delete t.unknown;function _(){var E=e().length,S=i<r,A=S?i:r,I=S?r:i;o=(I-A)/Math.max(1,E-f+h*2),u&&(o=Math.floor(o)),A+=(I-A-o*(E-f))*m,a=o*(1-f),u&&(A=Math.round(A),a=Math.round(a));var N=QN(E).map(function(z){return A+o*z});return n(S?N.reverse():N)}return t.domain=function(E){return arguments.length?(e(E),_()):e()},t.range=function(E){return arguments.length?([r,i]=E,r=+r,i=+i,_()):[r,i]},t.rangeRound=function(E){return[r,i]=E,r=+r,i=+i,u=!0,_()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(E){return arguments.length?(u=!!E,_()):u},t.padding=function(E){return arguments.length?(f=Math.min(1,h=+E),_()):f},t.paddingInner=function(E){return arguments.length?(f=Math.min(1,E),_()):f},t.paddingOuter=function(E){return arguments.length?(h=+E,_()):h},t.align=function(E){return arguments.length?(m=Math.max(0,Math.min(1,E)),_()):m},t.copy=function(){return n0(e(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(m)},Ho.apply(_(),arguments)}function oS(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return oS(e())},t}function eR(){return oS(n0.apply(null,arguments).paddingInner(1))}function r0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function aS(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ff(){}var _f=.7,dp=1/_f,Wc="\\s*([+-]?\\d+)\\s*",xf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tR=/^#([0-9a-f]{3,8})$/,nR=new RegExp(`^rgb\\(${Wc},${Wc},${Wc}\\)$`),rR=new RegExp(`^rgb\\(${Za},${Za},${Za}\\)$`),iR=new RegExp(`^rgba\\(${Wc},${Wc},${Wc},${xf}\\)$`),oR=new RegExp(`^rgba\\(${Za},${Za},${Za},${xf}\\)$`),aR=new RegExp(`^hsl\\(${xf},${Za},${Za}\\)$`),sR=new RegExp(`^hsla\\(${xf},${Za},${Za},${xf}\\)$`),KC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r0(Ff,bf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:YC,formatHex:YC,formatHex8:lR,formatHsl:uR,formatRgb:JC,toString:JC});function YC(){return this.rgb().formatHex()}function lR(){return this.rgb().formatHex8()}function uR(){return sS(this).formatHsl()}function JC(){return this.rgb().formatRgb()}function bf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=tR.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?XC(e):n===3?new $i(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ph(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ph(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nR.exec(t))?new $i(e[1],e[2],e[3],1):(e=rR.exec(t))?new $i(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=iR.exec(t))?Ph(e[1],e[2],e[3],e[4]):(e=oR.exec(t))?Ph(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=aR.exec(t))?t1(e[1],e[2]/100,e[3]/100,1):(e=sR.exec(t))?t1(e[1],e[2]/100,e[3]/100,e[4]):KC.hasOwnProperty(t)?XC(KC[t]):t==="transparent"?new $i(NaN,NaN,NaN,0):null}function XC(t){return new $i(t>>16&255,t>>8&255,t&255,1)}function Ph(t,e,n,r){return r<=0&&(t=e=n=NaN),new $i(t,e,n,r)}function cR(t){return t instanceof Ff||(t=bf(t)),t?(t=t.rgb(),new $i(t.r,t.g,t.b,t.opacity)):new $i}function Iv(t,e,n,r){return arguments.length===1?cR(t):new $i(t,e,n,r??1)}function $i(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}r0($i,Iv,aS(Ff,{brighter(t){return t=t==null?dp:Math.pow(dp,t),new $i(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_f:Math.pow(_f,t),new $i(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $i(qu(this.r),qu(this.g),qu(this.b),fp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QC,formatHex:QC,formatHex8:dR,formatRgb:e1,toString:e1}));function QC(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}`}function dR(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}${Fu((isNaN(this.opacity)?1:this.opacity)*255)}`}function e1(){const t=fp(this.opacity);return`${t===1?"rgb(":"rgba("}${qu(this.r)}, ${qu(this.g)}, ${qu(this.b)}${t===1?")":`, ${t})`}`}function fp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fu(t){return t=qu(t),(t<16?"0":"")+t.toString(16)}function t1(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ga(t,e,n,r)}function sS(t){if(t instanceof ga)return new ga(t.h,t.s,t.l,t.opacity);if(t instanceof Ff||(t=bf(t)),!t)return new ga;if(t instanceof ga)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,f=(o+i)/2;return u?(e===o?a=(n-r)/u+(n<r)*6:n===o?a=(r-e)/u+2:a=(e-n)/u+4,u/=f<.5?o+i:2-o-i,a*=60):u=f>0&&f<1?0:a,new ga(a,u,f,t.opacity)}function fR(t,e,n,r){return arguments.length===1?sS(t):new ga(t,e,n,r??1)}function ga(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}r0(ga,fR,aS(Ff,{brighter(t){return t=t==null?dp:Math.pow(dp,t),new ga(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_f:Math.pow(_f,t),new ga(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new $i(Ey(t>=240?t-240:t+120,i,r),Ey(t,i,r),Ey(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ga(n1(this.h),Ah(this.s),Ah(this.l),fp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=fp(this.opacity);return`${t===1?"hsl(":"hsla("}${n1(this.h)}, ${Ah(this.s)*100}%, ${Ah(this.l)*100}%${t===1?")":`, ${t})`}`}}));function n1(t){return t=(t||0)%360,t<0?t+360:t}function Ah(t){return Math.max(0,Math.min(1,t||0))}function Ey(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const i0=t=>()=>t;function hR(t,e){return function(n){return t+n*e}}function pR(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function mR(t){return(t=+t)==1?lS:function(e,n){return n-e?pR(e,n,t):i0(isNaN(e)?n:e)}}function lS(t,e){var n=e-t;return n?hR(t,n):i0(isNaN(t)?e:t)}const r1=function t(e){var n=mR(e);function r(i,o){var a=n((i=Iv(i)).r,(o=Iv(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),h=lS(i.opacity,o.opacity);return function(m){return i.r=a(m),i.g=u(m),i.b=f(m),i.opacity=h(m),i+""}}return r.gamma=t,r}(1);function gR(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function yR(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vR(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=dd(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function _R(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function hp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function xR(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=dd(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ov=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ky=new RegExp(Ov.source,"g");function bR(t){return function(){return t}}function wR(t){return function(e){return t(e)+""}}function CR(t,e){var n=Ov.lastIndex=ky.lastIndex=0,r,i,o,a=-1,u=[],f=[];for(t=t+"",e=e+"";(r=Ov.exec(t))&&(i=ky.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,f.push({i:a,x:hp(r,i)})),n=ky.lastIndex;return n<e.length&&(o=e.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?f[0]?wR(f[0].x):bR(e):(e=f.length,function(h){for(var m=0,_;m<e;++m)u[(_=f[m]).i]=_.x(h);return u.join("")})}function dd(t,e){var n=typeof e,r;return e==null||n==="boolean"?i0(e):(n==="number"?hp:n==="string"?(r=bf(e))?(e=r,r1):CR:e instanceof bf?r1:e instanceof Date?_R:yR(e)?gR:Array.isArray(e)?vR:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xR:hp)(t,e)}function o0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function LR(t,e){e===void 0&&(e=t,t=dd);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var u=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[u](a-u)}}function ER(t){return function(){return t}}function pp(t){return+t}var i1=[0,1];function gi(t){return t}function Bv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ER(isNaN(e)?NaN:.5)}function kR(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function MR(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Bv(i,r),o=n(a,o)):(r=Bv(r,i),o=n(o,a)),function(u){return o(r(u))}}function SR(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Bv(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(u){var f=Rf(t,u,1,r)-1;return o[f](i[f](u))}}function zf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function em(){var t=i1,e=i1,n=dd,r,i,o,a=gi,u,f,h;function m(){var E=Math.min(t.length,e.length);return a!==gi&&(a=kR(t[0],t[E-1])),u=E>2?SR:MR,f=h=null,_}function _(E){return E==null||isNaN(E=+E)?o:(f||(f=u(t.map(r),e,n)))(r(a(E)))}return _.invert=function(E){return a(i((h||(h=u(e,t.map(r),hp)))(E)))},_.domain=function(E){return arguments.length?(t=Array.from(E,pp),m()):t.slice()},_.range=function(E){return arguments.length?(e=Array.from(E),m()):e.slice()},_.rangeRound=function(E){return e=Array.from(E),n=o0,m()},_.clamp=function(E){return arguments.length?(a=E?!0:gi,m()):a!==gi},_.interpolate=function(E){return arguments.length?(n=E,m()):n},_.unknown=function(E){return arguments.length?(o=E,_):o},function(E,S){return r=E,i=S,m()}}function a0(){return em()(gi,gi)}function TR(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function mp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Xc(t){return t=mp(Math.abs(t)),t?t[1]:NaN}function PR(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}}function AR(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var DR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wf(t){if(!(e=DR.exec(t)))throw new Error("invalid format: "+t);var e;return new s0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wf.prototype=s0.prototype;function s0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}s0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IR(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var uS;function OR(t,e){var n=mp(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(uS=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+mp(t,Math.max(0,e+o-1))[0]}function o1(t,e){var n=mp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const a1={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:TR,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>o1(t*100,e),r:o1,s:OR,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function s1(t){return t}var l1=Array.prototype.map,u1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function BR(t){var e=t.grouping===void 0||t.thousands===void 0?s1:PR(l1.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?s1:AR(l1.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(_){_=wf(_);var E=_.fill,S=_.align,A=_.sign,I=_.symbol,N=_.zero,z=_.width,G=_.comma,Z=_.precision,X=_.trim,te=_.type;te==="n"?(G=!0,te="g"):a1[te]||(Z===void 0&&(Z=12),X=!0,te="g"),(N||E==="0"&&S==="=")&&(N=!0,E="0",S="=");var ne=I==="$"?n:I==="#"&&/[boxX]/.test(te)?"0"+te.toLowerCase():"",se=I==="$"?r:/[%p]/.test(te)?a:"",ke=a1[te],Le=/[defgprs%]/.test(te);Z=Z===void 0?6:/[gprs]/.test(te)?Math.max(1,Math.min(21,Z)):Math.max(0,Math.min(20,Z));function Pe(_e){var Ne=ne,qe=se,Ke,ht,Xe;if(te==="c")qe=ke(_e)+qe,_e="";else{_e=+_e;var it=_e<0||1/_e<0;if(_e=isNaN(_e)?f:ke(Math.abs(_e),Z),X&&(_e=IR(_e)),it&&+_e==0&&A!=="+"&&(it=!1),Ne=(it?A==="("?A:u:A==="-"||A==="("?"":A)+Ne,qe=(te==="s"?u1[8+uS/3]:"")+qe+(it&&A==="("?")":""),Le){for(Ke=-1,ht=_e.length;++Ke<ht;)if(Xe=_e.charCodeAt(Ke),48>Xe||Xe>57){qe=(Xe===46?i+_e.slice(Ke+1):_e.slice(Ke))+qe,_e=_e.slice(0,Ke);break}}}G&&!N&&(_e=e(_e,1/0));var Ie=Ne.length+_e.length+qe.length,nt=Ie<z?new Array(z-Ie+1).join(E):"";switch(G&&N&&(_e=e(nt+_e,nt.length?z-qe.length:1/0),nt=""),S){case"<":_e=Ne+_e+qe+nt;break;case"=":_e=Ne+nt+_e+qe;break;case"^":_e=nt.slice(0,Ie=nt.length>>1)+Ne+_e+qe+nt.slice(Ie);break;default:_e=nt+Ne+_e+qe;break}return o(_e)}return Pe.toString=function(){return _+""},Pe}function m(_,E){var S=h((_=wf(_),_.type="f",_)),A=Math.max(-8,Math.min(8,Math.floor(Xc(E)/3)))*3,I=Math.pow(10,-A),N=u1[8+A/3];return function(z){return S(I*z)+N}}return{format:h,formatPrefix:m}}var Dh,l0,cS;NR({thousands:",",grouping:[3],currency:["$",""]});function NR(t){return Dh=BR(t),l0=Dh.format,cS=Dh.formatPrefix,Dh}function RR(t){return Math.max(0,-Xc(Math.abs(t)))}function FR(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xc(e)/3)))*3-Xc(Math.abs(t)))}function zR(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xc(e)-Xc(t))+1}function dS(t,e,n,r){var i=Av(t,e,n),o;switch(r=wf(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=FR(i,a))&&(r.precision=o),cS(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=zR(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=RR(i))&&(r.precision=o-(r.type==="%")*2);break}}return l0(r)}function Vl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Tv(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return dS(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],u=r[o],f,h,m=10;for(u<a&&(h=a,a=u,u=h,h=i,i=o,o=h);m-- >0;){if(h=Pv(a,u,n),h===f)return r[i]=a,r[o]=u,e(r);if(h>0)a=Math.floor(a/h)*h,u=Math.ceil(u/h)*h;else if(h<0)a=Math.ceil(a*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function fS(){var t=a0();return t.copy=function(){return zf(t,fS())},Ho.apply(t,arguments),Vl(t)}function hS(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,pp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return hS(t).unknown(e)},t=arguments.length?Array.from(t,pp):[0,1],Vl(n)}function pS(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function c1(t){return Math.log(t)}function d1(t){return Math.exp(t)}function jR(t){return-Math.log(-t)}function UR(t){return-Math.exp(-t)}function $R(t){return isFinite(t)?+("1e"+t):t<0?0:t}function VR(t){return t===10?$R:t===Math.E?Math.exp:e=>Math.pow(t,e)}function GR(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function f1(t){return(e,n)=>-t(-e,n)}function u0(t){const e=t(c1,d1),n=e.domain;let r=10,i,o;function a(){return i=GR(r),o=VR(r),n()[0]<0?(i=f1(i),o=f1(o),t(jR,UR)):t(c1,d1),e}return e.base=function(u){return arguments.length?(r=+u,a()):r},e.domain=function(u){return arguments.length?(n(u),a()):n()},e.ticks=u=>{const f=n();let h=f[0],m=f[f.length-1];const _=m<h;_&&([h,m]=[m,h]);let E=i(h),S=i(m),A,I;const N=u==null?10:+u;let z=[];if(!(r%1)&&S-E<N){if(E=Math.floor(E),S=Math.ceil(S),h>0){for(;E<=S;++E)for(A=1;A<r;++A)if(I=E<0?A/o(-E):A*o(E),!(I<h)){if(I>m)break;z.push(I)}}else for(;E<=S;++E)for(A=r-1;A>=1;--A)if(I=E>0?A/o(-E):A*o(E),!(I<h)){if(I>m)break;z.push(I)}z.length*2<N&&(z=Tv(h,m,N))}else z=Tv(E,S,Math.min(S-E,N)).map(o);return _?z.reverse():z},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=wf(f)).precision==null&&(f.trim=!0),f=l0(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return m=>{let _=m/o(Math.round(i(m)));return _*r<r-.5&&(_*=r),_<=h?f(m):""}},e.nice=()=>n(pS(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function mS(){const t=u0(em()).domain([1,10]);return t.copy=()=>zf(t,mS()).base(t.base()),Ho.apply(t,arguments),t}function h1(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function p1(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function c0(t){var e=1,n=t(h1(e),p1(e));return n.constant=function(r){return arguments.length?t(h1(e=+r),p1(e)):e},Vl(n)}function gS(){var t=c0(em());return t.copy=function(){return zf(t,gS()).constant(t.constant())},Ho.apply(t,arguments)}function m1(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function qR(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function HR(t){return t<0?-t*t:t*t}function d0(t){var e=t(gi,gi),n=1;function r(){return n===1?t(gi,gi):n===.5?t(qR,HR):t(m1(n),m1(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Vl(e)}function f0(){var t=d0(em());return t.copy=function(){return zf(t,f0()).exponent(t.exponent())},Ho.apply(t,arguments),t}function WR(){return f0.apply(null,arguments).exponent(.5)}function g1(t){return Math.sign(t)*t*t}function ZR(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function yS(){var t=a0(),e=[0,1],n=!1,r;function i(o){var a=ZR(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(g1(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,pp)).map(g1)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return yS(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ho.apply(i,arguments),Vl(i)}function vS(){var t=[],e=[],n=[],r;function i(){var a=0,u=Math.max(1,e.length);for(n=new Array(u-1);++a<u;)n[a-1]=XN(t,a/u);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Rf(n,a)]}return o.invertExtent=function(a){var u=e.indexOf(a);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let u of a)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Rl),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return vS().domain(t).range(e).unknown(r)},Ho.apply(o,arguments)}function _S(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(f){return f!=null&&f<=f?i[Rf(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return a}return a.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},a.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},a.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},a.unknown=function(f){return arguments.length&&(o=f),a},a.thresholds=function(){return r.slice()},a.copy=function(){return _S().domain([t,e]).range(i).unknown(o)},Ho.apply(Vl(a),arguments)}function xS(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Rf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return xS().domain(t).range(e).unknown(n)},Ho.apply(i,arguments)}const My=new Date,Sy=new Date;function _r(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return f;let h;do f.push(h=new Date(+o)),e(o,u),t(o);while(h<o&&o<a);return f},i.filter=o=>_r(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!o(a););else for(;--u>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(My.setTime(+o),Sy.setTime(+a),t(My),t(Sy),Math.floor(n(My,Sy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const gp=_r(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_r(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):gp);gp.range;const Ds=1e3,Uo=Ds*60,Is=Uo*60,zs=Is*24,h0=zs*7,y1=zs*30,Ty=zs*365,zu=_r(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getUTCSeconds());zu.range;const p0=_r(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ds)},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getMinutes());p0.range;const m0=_r(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getUTCMinutes());m0.range;const g0=_r(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ds-t.getMinutes()*Uo)},(t,e)=>{t.setTime(+t+e*Is)},(t,e)=>(e-t)/Is,t=>t.getHours());g0.range;const y0=_r(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Is)},(t,e)=>(e-t)/Is,t=>t.getUTCHours());y0.range;const jf=_r(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Uo)/zs,t=>t.getDate()-1);jf.range;const tm=_r(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zs,t=>t.getUTCDate()-1);tm.range;const bS=_r(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zs,t=>Math.floor(t/zs));bS.range;function tc(t){return _r(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Uo)/h0)}const nm=tc(0),yp=tc(1),KR=tc(2),YR=tc(3),Qc=tc(4),JR=tc(5),XR=tc(6);nm.range;yp.range;KR.range;YR.range;Qc.range;JR.range;XR.range;function nc(t){return _r(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/h0)}const rm=nc(0),vp=nc(1),QR=nc(2),eF=nc(3),ed=nc(4),tF=nc(5),nF=nc(6);rm.range;vp.range;QR.range;eF.range;ed.range;tF.range;nF.range;const v0=_r(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());v0.range;const _0=_r(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_0.range;const js=_r(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());js.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_r(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});js.range;const Us=_r(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_r(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Us.range;function wS(t,e,n,r,i,o){const a=[[zu,1,Ds],[zu,5,5*Ds],[zu,15,15*Ds],[zu,30,30*Ds],[o,1,Uo],[o,5,5*Uo],[o,15,15*Uo],[o,30,30*Uo],[i,1,Is],[i,3,3*Is],[i,6,6*Is],[i,12,12*Is],[r,1,zs],[r,2,2*zs],[n,1,h0],[e,1,y1],[e,3,3*y1],[t,1,Ty]];function u(h,m,_){const E=m<h;E&&([h,m]=[m,h]);const S=_&&typeof _.range=="function"?_:f(h,m,_),A=S?S.range(h,+m+1):[];return E?A.reverse():A}function f(h,m,_){const E=Math.abs(m-h)/_,S=e0(([,,N])=>N).right(a,E);if(S===a.length)return t.every(Av(h/Ty,m/Ty,_));if(S===0)return gp.every(Math.max(Av(h,m,_),1));const[A,I]=a[E/a[S-1][2]<a[S][2]/E?S-1:S];return A.every(I)}return[u,f]}const[rF,iF]=wS(Us,_0,rm,bS,y0,m0),[oF,aF]=wS(js,v0,nm,jf,g0,p0);function Py(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ay(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function sF(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,f=t.shortMonths,h=Xd(i),m=Qd(i),_=Xd(o),E=Qd(o),S=Xd(a),A=Qd(a),I=Xd(u),N=Qd(u),z=Xd(f),G=Qd(f),Z={a:it,A:Ie,b:nt,B:xe,c:null,d:C1,e:C1,f:PF,g:jF,G:$F,H:MF,I:SF,j:TF,L:CS,m:AF,M:DF,p:fe,q:ve,Q:k1,s:M1,S:IF,u:OF,U:BF,V:NF,w:RF,W:FF,x:null,X:null,y:zF,Y:UF,Z:VF,"%":E1},X={a:je,A:Ze,b:Ge,B:Ue,c:null,d:L1,e:L1,f:WF,g:r6,G:o6,H:GF,I:qF,j:HF,L:ES,m:ZF,M:KF,p:Mt,q:Dt,Q:k1,s:M1,S:YF,u:JF,U:XF,V:QF,w:e6,W:t6,x:null,X:null,y:n6,Y:i6,Z:a6,"%":E1},te={a:Pe,A:_e,b:Ne,B:qe,c:Ke,d:b1,e:b1,f:CF,g:x1,G:_1,H:w1,I:w1,j:_F,L:wF,m:vF,M:xF,p:Le,q:yF,Q:EF,s:kF,S:bF,u:fF,U:hF,V:pF,w:dF,W:mF,x:ht,X:Xe,y:x1,Y:_1,Z:gF,"%":LF};Z.x=ne(n,Z),Z.X=ne(r,Z),Z.c=ne(e,Z),X.x=ne(n,X),X.X=ne(r,X),X.c=ne(e,X);function ne($e,vt){return function(Ct){var He=[],gn=-1,Jt=0,In=$e.length,On,Qn,$r;for(Ct instanceof Date||(Ct=new Date(+Ct));++gn<In;)$e.charCodeAt(gn)===37&&(He.push($e.slice(Jt,gn)),(Qn=v1[On=$e.charAt(++gn)])!=null?On=$e.charAt(++gn):Qn=On==="e"?" ":"0",($r=vt[On])&&(On=$r(Ct,Qn)),He.push(On),Jt=gn+1);return He.push($e.slice(Jt,gn)),He.join("")}}function se($e,vt){return function(Ct){var He=Jd(1900,void 0,1),gn=ke(He,$e,Ct+="",0),Jt,In;if(gn!=Ct.length)return null;if("Q"in He)return new Date(He.Q);if("s"in He)return new Date(He.s*1e3+("L"in He?He.L:0));if(vt&&!("Z"in He)&&(He.Z=0),"p"in He&&(He.H=He.H%12+He.p*12),He.m===void 0&&(He.m="q"in He?He.q:0),"V"in He){if(He.V<1||He.V>53)return null;"w"in He||(He.w=1),"Z"in He?(Jt=Ay(Jd(He.y,0,1)),In=Jt.getUTCDay(),Jt=In>4||In===0?vp.ceil(Jt):vp(Jt),Jt=tm.offset(Jt,(He.V-1)*7),He.y=Jt.getUTCFullYear(),He.m=Jt.getUTCMonth(),He.d=Jt.getUTCDate()+(He.w+6)%7):(Jt=Py(Jd(He.y,0,1)),In=Jt.getDay(),Jt=In>4||In===0?yp.ceil(Jt):yp(Jt),Jt=jf.offset(Jt,(He.V-1)*7),He.y=Jt.getFullYear(),He.m=Jt.getMonth(),He.d=Jt.getDate()+(He.w+6)%7)}else("W"in He||"U"in He)&&("w"in He||(He.w="u"in He?He.u%7:"W"in He?1:0),In="Z"in He?Ay(Jd(He.y,0,1)).getUTCDay():Py(Jd(He.y,0,1)).getDay(),He.m=0,He.d="W"in He?(He.w+6)%7+He.W*7-(In+5)%7:He.w+He.U*7-(In+6)%7);return"Z"in He?(He.H+=He.Z/100|0,He.M+=He.Z%100,Ay(He)):Py(He)}}function ke($e,vt,Ct,He){for(var gn=0,Jt=vt.length,In=Ct.length,On,Qn;gn<Jt;){if(He>=In)return-1;if(On=vt.charCodeAt(gn++),On===37){if(On=vt.charAt(gn++),Qn=te[On in v1?vt.charAt(gn++):On],!Qn||(He=Qn($e,Ct,He))<0)return-1}else if(On!=Ct.charCodeAt(He++))return-1}return He}function Le($e,vt,Ct){var He=h.exec(vt.slice(Ct));return He?($e.p=m.get(He[0].toLowerCase()),Ct+He[0].length):-1}function Pe($e,vt,Ct){var He=S.exec(vt.slice(Ct));return He?($e.w=A.get(He[0].toLowerCase()),Ct+He[0].length):-1}function _e($e,vt,Ct){var He=_.exec(vt.slice(Ct));return He?($e.w=E.get(He[0].toLowerCase()),Ct+He[0].length):-1}function Ne($e,vt,Ct){var He=z.exec(vt.slice(Ct));return He?($e.m=G.get(He[0].toLowerCase()),Ct+He[0].length):-1}function qe($e,vt,Ct){var He=I.exec(vt.slice(Ct));return He?($e.m=N.get(He[0].toLowerCase()),Ct+He[0].length):-1}function Ke($e,vt,Ct){return ke($e,e,vt,Ct)}function ht($e,vt,Ct){return ke($e,n,vt,Ct)}function Xe($e,vt,Ct){return ke($e,r,vt,Ct)}function it($e){return a[$e.getDay()]}function Ie($e){return o[$e.getDay()]}function nt($e){return f[$e.getMonth()]}function xe($e){return u[$e.getMonth()]}function fe($e){return i[+($e.getHours()>=12)]}function ve($e){return 1+~~($e.getMonth()/3)}function je($e){return a[$e.getUTCDay()]}function Ze($e){return o[$e.getUTCDay()]}function Ge($e){return f[$e.getUTCMonth()]}function Ue($e){return u[$e.getUTCMonth()]}function Mt($e){return i[+($e.getUTCHours()>=12)]}function Dt($e){return 1+~~($e.getUTCMonth()/3)}return{format:function($e){var vt=ne($e+="",Z);return vt.toString=function(){return $e},vt},parse:function($e){var vt=se($e+="",!1);return vt.toString=function(){return $e},vt},utcFormat:function($e){var vt=ne($e+="",X);return vt.toString=function(){return $e},vt},utcParse:function($e){var vt=se($e+="",!0);return vt.toString=function(){return $e},vt}}}var v1={"-":"",_:" ",0:"0"},Tr=/^\s*\d+/,lF=/^%/,uF=/[\\^$*+?|[\]().{}]/g;function sn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function cF(t){return t.replace(uF,"\\$&")}function Xd(t){return new RegExp("^(?:"+t.map(cF).join("|")+")","i")}function Qd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function dF(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function fF(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function hF(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function pF(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function mF(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _1(t,e,n){var r=Tr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function x1(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gF(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yF(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function vF(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function b1(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _F(t,e,n){var r=Tr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function w1(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function xF(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function bF(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function wF(t,e,n){var r=Tr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function CF(t,e,n){var r=Tr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function LF(t,e,n){var r=lF.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function EF(t,e,n){var r=Tr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function kF(t,e,n){var r=Tr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function C1(t,e){return sn(t.getDate(),e,2)}function MF(t,e){return sn(t.getHours(),e,2)}function SF(t,e){return sn(t.getHours()%12||12,e,2)}function TF(t,e){return sn(1+jf.count(js(t),t),e,3)}function CS(t,e){return sn(t.getMilliseconds(),e,3)}function PF(t,e){return CS(t,e)+"000"}function AF(t,e){return sn(t.getMonth()+1,e,2)}function DF(t,e){return sn(t.getMinutes(),e,2)}function IF(t,e){return sn(t.getSeconds(),e,2)}function OF(t){var e=t.getDay();return e===0?7:e}function BF(t,e){return sn(nm.count(js(t)-1,t),e,2)}function LS(t){var e=t.getDay();return e>=4||e===0?Qc(t):Qc.ceil(t)}function NF(t,e){return t=LS(t),sn(Qc.count(js(t),t)+(js(t).getDay()===4),e,2)}function RF(t){return t.getDay()}function FF(t,e){return sn(yp.count(js(t)-1,t),e,2)}function zF(t,e){return sn(t.getFullYear()%100,e,2)}function jF(t,e){return t=LS(t),sn(t.getFullYear()%100,e,2)}function UF(t,e){return sn(t.getFullYear()%1e4,e,4)}function $F(t,e){var n=t.getDay();return t=n>=4||n===0?Qc(t):Qc.ceil(t),sn(t.getFullYear()%1e4,e,4)}function VF(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+sn(e/60|0,"0",2)+sn(e%60,"0",2)}function L1(t,e){return sn(t.getUTCDate(),e,2)}function GF(t,e){return sn(t.getUTCHours(),e,2)}function qF(t,e){return sn(t.getUTCHours()%12||12,e,2)}function HF(t,e){return sn(1+tm.count(Us(t),t),e,3)}function ES(t,e){return sn(t.getUTCMilliseconds(),e,3)}function WF(t,e){return ES(t,e)+"000"}function ZF(t,e){return sn(t.getUTCMonth()+1,e,2)}function KF(t,e){return sn(t.getUTCMinutes(),e,2)}function YF(t,e){return sn(t.getUTCSeconds(),e,2)}function JF(t){var e=t.getUTCDay();return e===0?7:e}function XF(t,e){return sn(rm.count(Us(t)-1,t),e,2)}function kS(t){var e=t.getUTCDay();return e>=4||e===0?ed(t):ed.ceil(t)}function QF(t,e){return t=kS(t),sn(ed.count(Us(t),t)+(Us(t).getUTCDay()===4),e,2)}function e6(t){return t.getUTCDay()}function t6(t,e){return sn(vp.count(Us(t)-1,t),e,2)}function n6(t,e){return sn(t.getUTCFullYear()%100,e,2)}function r6(t,e){return t=kS(t),sn(t.getUTCFullYear()%100,e,2)}function i6(t,e){return sn(t.getUTCFullYear()%1e4,e,4)}function o6(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ed(t):ed.ceil(t),sn(t.getUTCFullYear()%1e4,e,4)}function a6(){return"+0000"}function E1(){return"%"}function k1(t){return+t}function M1(t){return Math.floor(+t/1e3)}var zc,MS,SS;s6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function s6(t){return zc=sF(t),MS=zc.format,zc.parse,SS=zc.utcFormat,zc.utcParse,zc}function l6(t){return new Date(t)}function u6(t){return t instanceof Date?+t:+new Date(+t)}function x0(t,e,n,r,i,o,a,u,f,h){var m=a0(),_=m.invert,E=m.domain,S=h(".%L"),A=h(":%S"),I=h("%I:%M"),N=h("%I %p"),z=h("%a %d"),G=h("%b %d"),Z=h("%B"),X=h("%Y");function te(ne){return(f(ne)<ne?S:u(ne)<ne?A:a(ne)<ne?I:o(ne)<ne?N:r(ne)<ne?i(ne)<ne?z:G:n(ne)<ne?Z:X)(ne)}return m.invert=function(ne){return new Date(_(ne))},m.domain=function(ne){return arguments.length?E(Array.from(ne,u6)):E().map(l6)},m.ticks=function(ne){var se=E();return t(se[0],se[se.length-1],ne??10)},m.tickFormat=function(ne,se){return se==null?te:h(se)},m.nice=function(ne){var se=E();return(!ne||typeof ne.range!="function")&&(ne=e(se[0],se[se.length-1],ne??10)),ne?E(pS(se,ne)):m},m.copy=function(){return zf(m,x0(t,e,n,r,i,o,a,u,f,h))},m}function c6(){return Ho.apply(x0(oF,aF,js,v0,nm,jf,g0,p0,zu,MS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function d6(){return Ho.apply(x0(rF,iF,Us,_0,rm,tm,y0,m0,zu,SS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function im(){var t=0,e=1,n,r,i,o,a=gi,u=!1,f;function h(_){return _==null||isNaN(_=+_)?f:a(i===0?.5:(_=(o(_)-n)*i,u?Math.max(0,Math.min(1,_)):_))}h.domain=function(_){return arguments.length?([t,e]=_,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(_){return arguments.length?(u=!!_,h):u},h.interpolator=function(_){return arguments.length?(a=_,h):a};function m(_){return function(E){var S,A;return arguments.length?([S,A]=E,a=_(S,A),h):[a(0),a(1)]}}return h.range=m(dd),h.rangeRound=m(o0),h.unknown=function(_){return arguments.length?(f=_,h):f},function(_){return o=_,n=_(t),r=_(e),i=n===r?0:1/(r-n),h}}function Gl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function TS(){var t=Vl(im()(gi));return t.copy=function(){return Gl(t,TS())},qs.apply(t,arguments)}function PS(){var t=u0(im()).domain([1,10]);return t.copy=function(){return Gl(t,PS()).base(t.base())},qs.apply(t,arguments)}function AS(){var t=c0(im());return t.copy=function(){return Gl(t,AS()).constant(t.constant())},qs.apply(t,arguments)}function b0(){var t=d0(im());return t.copy=function(){return Gl(t,b0()).exponent(t.exponent())},qs.apply(t,arguments)}function f6(){return b0.apply(null,arguments).exponent(.5)}function DS(){var t=[],e=gi;function n(r){if(r!=null&&!isNaN(r=+r))return e((Rf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Rl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>JN(t,o/r))},n.copy=function(){return DS(e).domain(t)},qs.apply(n,arguments)}function om(){var t=0,e=.5,n=1,r=1,i,o,a,u,f,h=gi,m,_=!1,E;function S(I){return isNaN(I=+I)?E:(I=.5+((I=+m(I))-o)*(r*I<r*o?u:f),h(_?Math.max(0,Math.min(1,I)):I))}S.domain=function(I){return arguments.length?([t,e,n]=I,i=m(t=+t),o=m(e=+e),a=m(n=+n),u=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,S):[t,e,n]},S.clamp=function(I){return arguments.length?(_=!!I,S):_},S.interpolator=function(I){return arguments.length?(h=I,S):h};function A(I){return function(N){var z,G,Z;return arguments.length?([z,G,Z]=N,h=LR(I,[z,G,Z]),S):[h(0),h(.5),h(1)]}}return S.range=A(dd),S.rangeRound=A(o0),S.unknown=function(I){return arguments.length?(E=I,S):E},function(I){return m=I,i=I(t),o=I(e),a=I(n),u=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,S}}function IS(){var t=Vl(om()(gi));return t.copy=function(){return Gl(t,IS())},qs.apply(t,arguments)}function OS(){var t=u0(om()).domain([.1,1,10]);return t.copy=function(){return Gl(t,OS()).base(t.base())},qs.apply(t,arguments)}function BS(){var t=c0(om());return t.copy=function(){return Gl(t,BS()).constant(t.constant())},qs.apply(t,arguments)}function w0(){var t=d0(om());return t.copy=function(){return Gl(t,w0()).exponent(t.exponent())},qs.apply(t,arguments)}function h6(){return w0.apply(null,arguments).exponent(.5)}const of=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:n0,scaleDiverging:IS,scaleDivergingLog:OS,scaleDivergingPow:w0,scaleDivergingSqrt:h6,scaleDivergingSymlog:BS,scaleIdentity:hS,scaleImplicit:Dv,scaleLinear:fS,scaleLog:mS,scaleOrdinal:t0,scalePoint:eR,scalePow:f0,scaleQuantile:vS,scaleQuantize:_S,scaleRadial:yS,scaleSequential:TS,scaleSequentialLog:PS,scaleSequentialPow:b0,scaleSequentialQuantile:DS,scaleSequentialSqrt:f6,scaleSequentialSymlog:AS,scaleSqrt:WR,scaleSymlog:gS,scaleThreshold:xS,scaleTime:c6,scaleUtc:d6,tickFormat:dS},Symbol.toStringTag,{value:"Module"}));var rc=t=>t.chartData,p6=Re([rc],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),NS=(t,e,n,r)=>r?p6(t):rc(t);function td(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(go(e)&&go(n))return!0}return!1}function S1(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function m6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(go(n))i=n;else if(typeof n=="function")return;if(go(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(td(a))return a}}function g6(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(td(r))return S1(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,u;if(i==="auto")e!=null&&(a=Math.min(...e));else if(gt(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&mC.test(i)){var f=mC.exec(i);if(f==null||e==null)a=void 0;else{var h=+f[1];a=e[0]-h}}else a=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(gt(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&gC.test(o)){var m=gC.exec(o);if(m==null||e==null)u=void 0;else{var _=+m[1];u=e[1]+_}}else u=e==null?void 0:e[1];var E=[a,u];if(td(E))return e==null?E:S1(E,e,n)}}}var fd=1e9,y6={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},L0,Dn=!0,Vo="[DecimalError] ",Hu=Vo+"Invalid argument: ",C0=Vo+"Exponent out of range: ",hd=Math.floor,Bu=Math.pow,v6=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,uo,Mr=1e7,Mn=7,RS=9007199254740991,_p=hd(RS/Mn),ft={};ft.absoluteValue=ft.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ft.comparedTo=ft.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ft.decimalPlaces=ft.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Mn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ft.dividedBy=ft.div=function(t){return Ns(this,new this.constructor(t))};ft.dividedToIntegerBy=ft.idiv=function(t){var e=this,n=e.constructor;return vn(Ns(e,new n(t),0,1),n.precision)};ft.equals=ft.eq=function(t){return!this.cmp(t)};ft.exponent=function(){return lr(this)};ft.greaterThan=ft.gt=function(t){return this.cmp(t)>0};ft.greaterThanOrEqualTo=ft.gte=function(t){return this.cmp(t)>=0};ft.isInteger=ft.isint=function(){return this.e>this.d.length-2};ft.isNegative=ft.isneg=function(){return this.s<0};ft.isPositive=ft.ispos=function(){return this.s>0};ft.isZero=function(){return this.s===0};ft.lessThan=ft.lt=function(t){return this.cmp(t)<0};ft.lessThanOrEqualTo=ft.lte=function(t){return this.cmp(t)<1};ft.logarithm=ft.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(uo))throw Error(Vo+"NaN");if(n.s<1)throw Error(Vo+(n.s?"NaN":"-Infinity"));return n.eq(uo)?new r(0):(Dn=!1,e=Ns(Cf(n,o),Cf(t,o),o),Dn=!0,vn(e,i))};ft.minus=ft.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?jS(e,t):FS(e,(t.s=-t.s,t))};ft.modulo=ft.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Vo+"NaN");return n.s?(Dn=!1,e=Ns(n,t,0,1).times(t),Dn=!0,n.minus(e)):vn(new r(n),i)};ft.naturalExponential=ft.exp=function(){return zS(this)};ft.naturalLogarithm=ft.ln=function(){return Cf(this)};ft.negated=ft.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ft.plus=ft.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FS(e,t):jS(e,(t.s=-t.s,t))};ft.precision=ft.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Hu+t);if(e=lr(i)+1,r=i.d.length-1,n=r*Mn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ft.squareRoot=ft.sqrt=function(){var t,e,n,r,i,o,a,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Vo+"NaN")}for(t=lr(u),Dn=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ha(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=hd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=a=n+3;;)if(o=r,r=o.plus(Ns(u,o,a+2)).times(.5),Ha(o.d).slice(0,a)===(e=Ha(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(vn(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;a+=4}return Dn=!0,vn(r,n)};ft.times=ft.mul=function(t){var e,n,r,i,o,a,u,f,h,m=this,_=m.constructor,E=m.d,S=(t=new _(t)).d;if(!m.s||!t.s)return new _(0);for(t.s*=m.s,n=m.e+t.e,f=E.length,h=S.length,f<h&&(o=E,E=S,S=o,a=f,f=h,h=a),o=[],a=f+h,r=a;r--;)o.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)u=o[i]+S[r]*E[i-r-1]+e,o[i--]=u%Mr|0,e=u/Mr|0;o[i]=(o[i]+e)%Mr|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Dn?vn(t,_.precision):t};ft.toDecimalPlaces=ft.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Qa(t,0,fd),e===void 0?e=r.rounding:Qa(e,0,8),vn(n,t+lr(n)+1,e))};ft.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Yu(r,!0):(Qa(t,0,fd),e===void 0?e=i.rounding:Qa(e,0,8),r=vn(new i(r),t+1,e),n=Yu(r,!0,t+1)),n};ft.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Yu(i):(Qa(t,0,fd),e===void 0?e=o.rounding:Qa(e,0,8),r=vn(new o(i),t+lr(i)+1,e),n=Yu(r.abs(),!1,t+lr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ft.toInteger=ft.toint=function(){var t=this,e=t.constructor;return vn(new e(t),lr(t)+1,e.rounding)};ft.toNumber=function(){return+this};ft.toPower=ft.pow=function(t){var e,n,r,i,o,a,u=this,f=u.constructor,h=12,m=+(t=new f(t));if(!t.s)return new f(uo);if(u=new f(u),!u.s){if(t.s<1)throw Error(Vo+"Infinity");return u}if(u.eq(uo))return u;if(r=f.precision,t.eq(uo))return vn(u,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=u.s,a){if((n=m<0?-m:m)<=RS){for(i=new f(uo),e=Math.ceil(r/Mn+4),Dn=!1;n%2&&(i=i.times(u),P1(i.d,e)),n=hd(n/2),n!==0;)u=u.times(u),P1(u.d,e);return Dn=!0,t.s<0?new f(uo).div(i):vn(i,r)}}else if(o<0)throw Error(Vo+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Dn=!1,i=t.times(Cf(u,r+h)),Dn=!0,i=zS(i),i.s=o,i};ft.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=lr(i),r=Yu(i,n<=o.toExpNeg||n>=o.toExpPos)):(Qa(t,1,fd),e===void 0?e=o.rounding:Qa(e,0,8),i=vn(new o(i),t,e),n=lr(i),r=Yu(i,t<=n||n<=o.toExpNeg,t)),r};ft.toSignificantDigits=ft.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Qa(t,1,fd),e===void 0?e=r.rounding:Qa(e,0,8)),vn(new r(n),t,e)};ft.toString=ft.valueOf=ft.val=ft.toJSON=ft[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=lr(t),n=t.constructor;return Yu(t,e<=n.toExpNeg||e>=n.toExpPos)};function FS(t,e){var n,r,i,o,a,u,f,h,m=t.constructor,_=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Dn?vn(e,_):e;if(f=t.d,h=e.d,a=t.e,i=e.e,f=f.slice(),o=a-i,o){for(o<0?(r=f,o=-o,u=h.length):(r=h,i=a,u=f.length),a=Math.ceil(_/Mn),u=a>u?a+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=h.length,u-o<0&&(o=u,r=h,h=f,f=r),n=0;o;)n=(f[--o]=f[o]+h[o]+n)/Mr|0,f[o]%=Mr;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Dn?vn(e,_):e}function Qa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Hu+t)}function Ha(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Mn-r.length,n&&(o+=Ol(n)),o+=r;a=t[e],r=a+"",n=Mn-r.length,n&&(o+=Ol(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Ns=function(){function t(r,i){var o,a=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+a,r[u]=o%Mr|0,a=o/Mr|0;return a&&r.unshift(a),r}function e(r,i,o,a){var u,f;if(o!=a)f=o>a?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Mr+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var u,f,h,m,_,E,S,A,I,N,z,G,Z,X,te,ne,se,ke,Le=r.constructor,Pe=r.s==i.s?1:-1,_e=r.d,Ne=i.d;if(!r.s)return new Le(r);if(!i.s)throw Error(Vo+"Division by zero");for(f=r.e-i.e,se=Ne.length,te=_e.length,S=new Le(Pe),A=S.d=[],h=0;Ne[h]==(_e[h]||0);)++h;if(Ne[h]>(_e[h]||0)&&--f,o==null?G=o=Le.precision:a?G=o+(lr(r)-lr(i))+1:G=o,G<0)return new Le(0);if(G=G/Mn+2|0,h=0,se==1)for(m=0,Ne=Ne[0],G++;(h<te||m)&&G--;h++)Z=m*Mr+(_e[h]||0),A[h]=Z/Ne|0,m=Z%Ne|0;else{for(m=Mr/(Ne[0]+1)|0,m>1&&(Ne=t(Ne,m),_e=t(_e,m),se=Ne.length,te=_e.length),X=se,I=_e.slice(0,se),N=I.length;N<se;)I[N++]=0;ke=Ne.slice(),ke.unshift(0),ne=Ne[0],Ne[1]>=Mr/2&&++ne;do m=0,u=e(Ne,I,se,N),u<0?(z=I[0],se!=N&&(z=z*Mr+(I[1]||0)),m=z/ne|0,m>1?(m>=Mr&&(m=Mr-1),_=t(Ne,m),E=_.length,N=I.length,u=e(_,I,E,N),u==1&&(m--,n(_,se<E?ke:Ne,E))):(m==0&&(u=m=1),_=Ne.slice()),E=_.length,E<N&&_.unshift(0),n(I,_,N),u==-1&&(N=I.length,u=e(Ne,I,se,N),u<1&&(m++,n(I,se<N?ke:Ne,N))),N=I.length):u===0&&(m++,I=[0]),A[h++]=m,u&&I[0]?I[N++]=_e[X]||0:(I=[_e[X]],N=1);while((X++<te||I[0]!==void 0)&&G--)}return A[0]||A.shift(),S.e=f,vn(S,a?o+lr(S)+1:o)}}();function zS(t,e){var n,r,i,o,a,u,f=0,h=0,m=t.constructor,_=m.precision;if(lr(t)>16)throw Error(C0+lr(t));if(!t.s)return new m(uo);for(Dn=!1,u=_,a=new m(.03125);t.abs().gte(.1);)t=t.times(a),h+=5;for(r=Math.log(Bu(2,h))/Math.LN10*2+5|0,u+=r,n=i=o=new m(uo),m.precision=u;;){if(i=vn(i.times(t),u),n=n.times(++f),a=o.plus(Ns(i,n,u)),Ha(a.d).slice(0,u)===Ha(o.d).slice(0,u)){for(;h--;)o=vn(o.times(o),u);return m.precision=_,e==null?(Dn=!0,vn(o,_)):o}o=a}}function lr(t){for(var e=t.e*Mn,n=t.d[0];n>=10;n/=10)e++;return e}function Dy(t,e,n){if(e>t.LN10.sd())throw Dn=!0,n&&(t.precision=n),Error(Vo+"LN10 precision limit exceeded");return vn(new t(t.LN10),e)}function Ol(t){for(var e="";t--;)e+="0";return e}function Cf(t,e){var n,r,i,o,a,u,f,h,m,_=1,E=10,S=t,A=S.d,I=S.constructor,N=I.precision;if(S.s<1)throw Error(Vo+(S.s?"NaN":"-Infinity"));if(S.eq(uo))return new I(0);if(e==null?(Dn=!1,h=N):h=e,S.eq(10))return e==null&&(Dn=!0),Dy(I,h);if(h+=E,I.precision=h,n=Ha(A),r=n.charAt(0),o=lr(S),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)S=S.times(t),n=Ha(S.d),r=n.charAt(0),_++;o=lr(S),r>1?(S=new I("0."+n),o++):S=new I(r+"."+n.slice(1))}else return f=Dy(I,h+2,N).times(o+""),S=Cf(new I(r+"."+n.slice(1)),h-E).plus(f),I.precision=N,e==null?(Dn=!0,vn(S,N)):S;for(u=a=S=Ns(S.minus(uo),S.plus(uo),h),m=vn(S.times(S),h),i=3;;){if(a=vn(a.times(m),h),f=u.plus(Ns(a,new I(i),h)),Ha(f.d).slice(0,h)===Ha(u.d).slice(0,h))return u=u.times(2),o!==0&&(u=u.plus(Dy(I,h+2,N).times(o+""))),u=Ns(u,new I(_),h),I.precision=N,e==null?(Dn=!0,vn(u,N)):u;u=f,i+=2}}function T1(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=hd(n/Mn),t.d=[],r=(n+1)%Mn,n<0&&(r+=Mn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Mn;r<i;)t.d.push(+e.slice(r,r+=Mn));e=e.slice(r),r=Mn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Dn&&(t.e>_p||t.e<-_p))throw Error(C0+n)}else t.s=0,t.e=0,t.d=[0];return t}function vn(t,e,n){var r,i,o,a,u,f,h,m,_=t.d;for(a=1,o=_[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Mn,i=e,h=_[m=0];else{if(m=Math.ceil((r+1)/Mn),o=_.length,m>=o)return t;for(h=o=_[m],a=1;o>=10;o/=10)a++;r%=Mn,i=r-Mn+a}if(n!==void 0&&(o=Bu(10,a-i-1),u=h/o%10|0,f=e<0||_[m+1]!==void 0||h%o,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/Bu(10,a-i):0:_[m-1])%10&1||n==(t.s<0?8:7))),e<1||!_[0])return f?(o=lr(t),_.length=1,e=e-o-1,_[0]=Bu(10,(Mn-e%Mn)%Mn),t.e=hd(-e/Mn)||0):(_.length=1,_[0]=t.e=t.s=0),t;if(r==0?(_.length=m,o=1,m--):(_.length=m+1,o=Bu(10,Mn-r),_[m]=i>0?(h/Bu(10,a-i)%Bu(10,i)|0)*o:0),f)for(;;)if(m==0){(_[0]+=o)==Mr&&(_[0]=1,++t.e);break}else{if(_[m]+=o,_[m]!=Mr)break;_[m--]=0,o=1}for(r=_.length;_[--r]===0;)_.pop();if(Dn&&(t.e>_p||t.e<-_p))throw Error(C0+lr(t));return t}function jS(t,e){var n,r,i,o,a,u,f,h,m,_,E=t.constructor,S=E.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new E(t),Dn?vn(e,S):e;if(f=t.d,_=e.d,r=e.e,h=t.e,f=f.slice(),a=h-r,a){for(m=a<0,m?(n=f,a=-a,u=_.length):(n=_,r=h,u=f.length),i=Math.max(Math.ceil(S/Mn),u)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=_.length,m=i<u,m&&(u=i),i=0;i<u;i++)if(f[i]!=_[i]){m=f[i]<_[i];break}a=0}for(m&&(n=f,f=_,_=n,e.s=-e.s),u=f.length,i=_.length-u;i>0;--i)f[u++]=0;for(i=_.length;i>a;){if(f[--i]<_[i]){for(o=i;o&&f[--o]===0;)f[o]=Mr-1;--f[o],f[i]+=Mr}f[i]-=_[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Dn?vn(e,S):e):new E(0)}function Yu(t,e,n){var r,i=lr(t),o=Ha(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ol(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ol(-i-1)+o,n&&(r=n-a)>0&&(o+=Ol(r))):i>=a?(o+=Ol(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ol(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ol(r))),t.s<0?"-"+o:o}function P1(t,e){if(t.length>e)return t.length=e,!0}function US(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Hu+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return T1(a,o.toString())}else if(typeof o!="string")throw Error(Hu+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,v6.test(o))T1(a,o);else throw Error(Hu+o)}if(i.prototype=ft,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=US,i.config=i.set=_6,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function _6(t){if(!t||typeof t!="object")throw Error(Vo+"Object expected");var e,n,r,i=["precision",1,fd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(hd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Hu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Hu+n+": "+r);return this}var L0=US(y6);uo=new L0(1);const cn=L0;var x6=t=>t,$S={},VS=t=>t===$S,A1=t=>function e(){return arguments.length===0||arguments.length===1&&VS(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},GS=(t,e)=>t===1?e:A1(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(a=>a!==$S).length;return o>=t?e(...r):GS(t-o,A1(function(){for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];var h=r.map(m=>VS(m)?u.shift():m);return e(...h,...u)}))}),am=t=>GS(t.length,t),Nv=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},b6=am((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),w6=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return x6;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((u,f)=>f(u),o(...arguments))}},Rv=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),qS=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((a,u)=>{var f;return a===((f=e)===null||f===void 0?void 0:f[u])})||(e=i,n=t(...i)),n}};function HS(t){var e;return t===0?e=1:e=Math.floor(new cn(t).abs().log(10).toNumber())+1,e}function WS(t,e,n){for(var r=new cn(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}am((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});am((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});am((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var ZS=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},KS=(t,e,n)=>{if(t.lte(0))return new cn(0);var r=HS(t.toNumber()),i=new cn(10).pow(r),o=t.div(i),a=r!==1?.05:.1,u=new cn(Math.ceil(o.div(a).toNumber())).add(n).mul(a),f=u.mul(i);return e?new cn(f.toNumber()):new cn(Math.ceil(f.toNumber()))},C6=(t,e,n)=>{var r=new cn(1),i=new cn(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new cn(10).pow(HS(t)-1),i=new cn(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new cn(Math.floor(t)))}else t===0?i=new cn(Math.floor((e-1)/2)):n||(i=new cn(Math.floor(t)));var a=Math.floor((e-1)/2),u=w6(b6(f=>i.add(new cn(f-a).mul(r)).toNumber()),Nv);return u(0,e)},YS=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new cn(0),tickMin:new cn(0),tickMax:new cn(0)};var a=KS(new cn(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new cn(0):(u=new cn(e).add(n).div(2),u=u.sub(new cn(u).mod(a)));var f=Math.ceil(u.sub(e).div(a).toNumber()),h=Math.ceil(new cn(n).sub(u).div(a).toNumber()),m=f+h+1;return m>r?YS(e,n,r,i,o+1):(m<r&&(h=n>0?h+(r-m):h,f=n>0?f:f+(r-m)),{step:a,tickMin:u.sub(new cn(f).mul(a)),tickMax:u.add(new cn(h).mul(a))})};function L6(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[a,u]=ZS([e,n]);if(a===-1/0||u===1/0){var f=u===1/0?[a,...Nv(0,r-1).map(()=>1/0)]:[...Nv(0,r-1).map(()=>-1/0),u];return e>n?Rv(f):f}if(a===u)return C6(a,r,i);var{step:h,tickMin:m,tickMax:_}=YS(a,u,o,i,0),E=WS(m,_.add(new cn(.1).mul(h)),h);return e>n?Rv(E):E}function E6(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=ZS([n,r]);if(o===-1/0||a===1/0)return[n,r];if(o===a)return[o];var u=Math.max(e,2),f=KS(new cn(a).sub(o).div(u-1),i,0),h=[...WS(new cn(o),new cn(a),f),a];return i===!1&&(h=h.map(m=>Math.round(m))),n>r?Rv(h):h}var k6=qS(L6),M6=qS(E6),JS=t=>t.rootProps.maxBarSize,S6=t=>t.rootProps.barGap,XS=t=>t.rootProps.barCategoryGap,T6=t=>t.rootProps.barSize,sm=t=>t.rootProps.stackOffset,E0=t=>t.options.chartName,k0=t=>t.rootProps.syncId,QS=t=>t.rootProps.syncMethod,M0=t=>t.options.eventEmitter,Ps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},so={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},lm=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},P6={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ps.angleAxisId,includeHidden:!1,name:void 0,reversed:Ps.reversed,scale:Ps.scale,tick:Ps.tick,tickCount:void 0,ticks:void 0,type:Ps.type,unit:void 0},A6={allowDataOverflow:so.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:so.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:so.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:so.scale,tick:so.tick,tickCount:so.tickCount,ticks:void 0,type:so.type,unit:void 0},D6={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ps.scale,tick:Ps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},I6={allowDataOverflow:so.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:so.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:so.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:so.scale,tick:so.tick,tickCount:so.tickCount,ticks:void 0,type:"category",unit:void 0},S0=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?D6:P6,T0=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?I6:A6,um=t=>t.polarOptions,P0=Re([Vs,Gs,Sr],w2),eT=Re([um,P0],(t,e)=>{if(t!=null)return va(t.innerRadius,e,0)}),tT=Re([um,P0],(t,e)=>{if(t!=null)return va(t.outerRadius,e,e*.8)}),O6=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},nT=Re([um],O6);Re([S0,nT],lm);var rT=Re([P0,eT,tT],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Re([T0,rT],lm);var B6=Re([_n,um,eT,tT,Vs,Gs],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:u,startAngle:f,endAngle:h}=e;return{cx:va(a,i,i/2),cy:va(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Pr=(t,e)=>e,cm=(t,e,n)=>n;function D1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D1(Object(n),!0).forEach(function(r){N6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N6(t,e,n){return(e=R6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R6(t){var e=F6(t,"string");return typeof e=="symbol"?e:e+""}function F6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fv=[0,"auto"],oo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Hs=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??oo},ao={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Fv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Jp},ql=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??ao},z6={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},A0=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??z6},Wi=(t,e,n)=>{switch(e){case"xAxis":return Hs(t,n);case"yAxis":return ql(t,n);case"zAxis":return A0(t,n);case"angleAxis":return S0(t,n);case"radiusAxis":return T0(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},j6=(t,e,n)=>{switch(e){case"xAxis":return Hs(t,n);case"yAxis":return ql(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Uf=(t,e,n)=>{switch(e){case"xAxis":return Hs(t,n);case"yAxis":return ql(t,n);case"angleAxis":return S0(t,n);case"radiusAxis":return T0(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},iT=t=>t.graphicalItems.countOfBars>0;function oT(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var D0=t=>t.graphicalItems.cartesianItems,U6=Re([Pr,cm],oT),aT=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),$f=Re([D0,Wi,U6],aT),sT=t=>t.filter(e=>e.stackId===void 0),$6=Re([$f],sT),lT=t=>t.map(e=>e.data).filter(Boolean).flat(1),V6=Re([$f],lT),uT=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},dm=Re([V6,NS],uT),cT=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:fo(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:fo(i,r)}))):t.map(r=>({value:r})),fm=Re([dm,Wi,$f],cT);function dT(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ic(t){return t.filter(e=>Ja(e)||e instanceof Date).map(Number).filter(e=>ho(e)===!1)}function G6(t,e,n){return!n||typeof e!="number"||ho(e)?[]:n.length?ic(n.flatMap(r=>{var i=fo(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!go(o)||!go(a)))return[e-o,e+a]})):[]}var fT=(t,e,n)=>{var r={},i=e.reduce((o,a)=>(a.stackId==null||(o[a.stackId]==null&&(o[a.stackId]=[]),o[a.stackId].push(a)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[a,u]=o,f=u.map(h=>h.dataKey);return[a,{stackedData:F2(t,f,n),graphicalItems:u}]}))},zv=Re([dm,$f,sm],fT),hT=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=$2(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},q6=Re([zv,rc,Pr],hT),pT=(t,e,n,r)=>n.length>0?t.flatMap(i=>n.flatMap(o=>{var a,u,f=(a=o.errorBars)===null||a===void 0?void 0:a.filter(m=>dT(r,m)),h=fo(i,(u=e.dataKey)!==null&&u!==void 0?u:o.dataKey);return{value:h,errorDomain:G6(i,h,f)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:fo(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),H6=Re(dm,Wi,$6,Pr,pT);function W6(t){var{value:e}=t;if(Ja(e)||e instanceof Date)return e}var Z6=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ic(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},K6=(t,e,n)=>{var r=t.map(W6).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Nk(r))?tS(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},I0=t=>{var e;if(t==null||!("domain"in t))return Fv;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ic(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Fv},O0=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),u=Math.max(...o);return[a,u]}},mT=t=>t.referenceElements.dots,pd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Y6=Re([mT,Pr,cm],pd),gT=t=>t.referenceElements.areas,J6=Re([gT,Pr,cm],pd),yT=t=>t.referenceElements.lines,X6=Re([yT,Pr,cm],pd),vT=(t,e)=>{var n=ic(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Q6=Re(Y6,Pr,vT),_T=(t,e)=>{var n=ic(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},e5=Re([J6,Pr],_T),xT=(t,e)=>{var n=ic(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},t5=Re(X6,Pr,xT),n5=Re(Q6,t5,e5,(t,e,n)=>O0(t,n,e)),r5=Re([Wi],I0),bT=(t,e,n,r,i)=>{var o=m6(e,t.allowDataOverflow);return o??g6(e,O0(n,i,Z6(r)),t.allowDataOverflow)},i5=Re([Wi,r5,q6,H6,n5],bT),o5=[0,1],wT=(t,e,n,r,i,o,a)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:u,type:f}=t,h=ec(e,o);return h&&u==null?tS(0,n.length):f==="category"?K6(r,t,h):i==="expand"?o5:a}},B0=Re([Wi,_n,dm,fm,sm,Pr,i5],wT),CT=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:a}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(If(o));return u in of?u:"point"}}},Vf=Re([Wi,_n,iT,E0,Pr],CT);function a5(t){if(t!=null){if(t in of)return of[t]();var e="scale".concat(If(t));if(e in of)return of[e]()}}function N0(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=a5(e);if(i!=null){var o=i.domain(n).range(r);return I2(o),o}}}var LT=(t,e,n)=>{var r=I0(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&td(t))return k6(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&td(t))return M6(t,e.tickCount,e.allowDecimals)}},R0=Re([B0,Uf,Vf],LT),ET=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&td(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],a=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(a,u)]}return e},s5=Re([Wi,B0,R0,Pr],ET),l5=Re(fm,Wi,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ic(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),kT=Re(l5,_n,XS,Sr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!go(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=va(n,t*o),u=t*o/2;return u-a-(u-a)/o*a}return 0}),u5=(t,e)=>{var n=Hs(t,e);return n==null||typeof n.padding!="string"?0:kT(t,"xAxis",e,n.padding)},c5=(t,e)=>{var n=ql(t,e);return n==null||typeof n.padding!="string"?0:kT(t,"yAxis",e,n.padding)},d5=Re(Hs,u5,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),f5=Re(ql,c5,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),h5=Re([Sr,d5,Qp,Xp,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),p5=Re([Sr,_n,f5,Qp,Xp,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Gf=(t,e,n,r)=>{var i;switch(e){case"xAxis":return h5(t,n,r);case"yAxis":return p5(t,n,r);case"zAxis":return(i=A0(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return nT(t);case"radiusAxis":return rT(t,n);default:return}},MT=Re([Wi,Gf],lm),md=Re([Wi,Vf,s5,MT],N0);Re($f,Pr,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>dT(e,n)));function ST(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var hm=(t,e)=>e,pm=(t,e,n)=>n,m5=Re(H_,hm,pm,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(ST)),g5=Re(W_,hm,pm,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(ST)),TT=(t,e)=>({width:t.width,height:e.height}),y5=(t,e)=>{var n=typeof e.width=="number"?e.width:Jp;return{width:n,height:t.height}},PT=Re(Sr,Hs,TT),v5=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},_5=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},x5=Re(Gs,Sr,m5,hm,pm,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var f=TT(e,u);a==null&&(a=v5(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;o[u.id]=a-Number(h)*f.height,a+=(h?-1:1)*f.height}),o}),b5=Re(Vs,Sr,g5,hm,pm,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var f=y5(e,u);a==null&&(a=_5(e,r,t));var h=r==="left"&&!i||r==="right"&&i;o[u.id]=a-Number(h)*f.width,a+=(h?-1:1)*f.width}),o}),w5=(t,e)=>{var n=Sr(t),r=Hs(t,e);if(r!=null){var i=x5(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},C5=(t,e)=>{var n=Sr(t),r=ql(t,e);if(r!=null){var i=b5(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},AT=Re(Sr,ql,(t,e)=>{var n=typeof e.width=="number"?e.width:Jp;return{width:n,height:t.height}}),I1=(t,e,n)=>{switch(e){case"xAxis":return PT(t,n).width;case"yAxis":return AT(t,n).height;default:return}},DT=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,u=ec(t,r),f=e.map(h=>h.value);if(a&&u&&o==="category"&&i&&Nk(f))return f}},F0=Re([_n,fm,Wi,Pr],DT),IT=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=ec(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},z0=Re([_n,fm,Uf,Pr],IT),O1=Re([_n,j6,Vf,md,F0,z0,Gf,R0,Pr],(t,e,n,r,i,o,a,u,f)=>{if(e==null)return null;var h=ec(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:h,niceTicks:u,range:a,realScaleType:n,scale:r}}),L5=(t,e,n,r,i,o,a,u,f)=>{if(!(e==null||r==null)){var h=ec(t,f),{type:m,ticks:_,tickCount:E}=e,S=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=m==="category"&&r.bandwidth?r.bandwidth()/S:0;A=f==="angleAxis"&&o!=null&&o.length>=2?Ui(o[0]-o[1])*2*A:A;var I=_||i;if(I){var N=I.map((z,G)=>{var Z=a?a.indexOf(z):z;return{index:G,coordinate:r(Z)+A,value:z,offset:A}});return N.filter(z=>!ho(z.coordinate))}return h&&u?u.map((z,G)=>({coordinate:r(z)+A,value:z,index:G,offset:A})):r.ticks?r.ticks(E).map(z=>({coordinate:r(z)+A,value:z,offset:A})):r.domain().map((z,G)=>({coordinate:r(z)+A,value:a?a[z]:z,index:G,offset:A}))}},OT=Re([_n,Uf,Vf,md,R0,Gf,F0,z0,Pr],L5),E5=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=ec(t,a),{tickCount:f}=e,h=0;return h=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Ui(r[0]-r[1])*2*h:h,u&&o?o.map((m,_)=>({coordinate:n(m)+h,value:m,index:_,offset:h})):n.ticks?n.ticks(f).map(m=>({coordinate:n(m)+h,value:m,offset:h})):n.domain().map((m,_)=>({coordinate:n(m)+h,value:i?i[m]:m,index:_,offset:h}))}},nd=Re([_n,Uf,md,Gf,F0,z0,Pr],E5),zl=Re(Wi,md,(t,e)=>{if(!(t==null||e==null))return xp(xp({},t),{},{scale:e})}),k5=Re([Wi,Vf,B0,MT],N0);Re((t,e,n)=>A0(t,n),k5,(t,e)=>{if(!(t==null||e==null))return xp(xp({},t),{},{scale:e})});var M5=Re([_n,H_,W_],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),BT=t=>t.options.defaultTooltipEventType,NT=t=>t.options.validateTooltipEventTypes;function RT(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function j0(t,e){var n=BT(t),r=NT(t);return RT(e,n,r)}function S5(t){return kt(e=>j0(e,t))}var FT=(t,e)=>{var n,r=Number(e);if(!(ho(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},T5=t=>t.tooltip.settings,Nl={active:!1,index:null,dataKey:void 0,coordinate:void 0},P5={itemInteraction:{click:Nl,hover:Nl},axisInteraction:{click:Nl,hover:Nl},keyboardInteraction:Nl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zT=qo({name:"tooltip",initialState:P5,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Bs(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:A5,removeTooltipEntrySettings:D5,setTooltipSettingsState:I5,setActiveMouseOverItemIndex:jT,mouseLeaveItem:O5,mouseLeaveChart:UT,setActiveClickItemIndex:B5,setMouseOverAxisIndex:$T,setMouseClickAxisIndex:N5,setSyncInteraction:jv,setKeyboardInteraction:Uv}=zT.actions,R5=zT.reducer;function B1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ih(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(n),!0).forEach(function(r){F5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F5(t,e,n){return(e=z5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z5(t){var e=j5(t,"string");return typeof e=="symbol"?e:e+""}function j5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U5(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function $5(t){return t.index!=null}var VT=(t,e,n,r)=>{if(e==null)return Nl;var i=U5(t,e,n);if(i==null)return Nl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if($5(i)){if(o)return Ih(Ih({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Ih(Ih({},Nl),{},{coordinate:i.coordinate})},U0=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!go(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},GT=(t,e,n,r,i,o,a,u)=>{if(!(o==null||u==null)){var f=a[0],h=f==null?void 0:u(f.positions,o);if(h!=null)return h;var m=i==null?void 0:i[Number(o)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},qT=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.dataKey)===i})},qf=t=>t.options.tooltipPayloadSearcher,gd=t=>t.tooltip;function N1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N1(Object(n),!0).forEach(function(r){V5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V5(t,e,n){return(e=G5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G5(t){var e=q5(t,"string");return typeof e=="symbol"?e:e+""}function q5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function W5(t,e){return t??e}var HT=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:m}=n,_=[];return t.reduce((E,S)=>{var A,{dataDefinedOnItem:I,settings:N}=S,z=W5(I,u),G=H5(z,h,m),Z=(A=N==null?void 0:N.dataKey)!==null&&A!==void 0?A:r==null?void 0:r.dataKey,X=N==null?void 0:N.nameKey,te;if(r!=null&&r.dataKey&&Array.isArray(G)&&!Array.isArray(G[0])&&a==="axis"?te=CD(G,r.dataKey,i):te=o(G,e,f,X),Array.isArray(te))te.forEach(se=>{var ke=R1(R1({},N),{},{name:se.name,unit:se.unit,color:void 0,fill:void 0});E.push(yC({tooltipEntrySettings:ke,dataKey:se.dataKey,payload:se.payload,value:fo(se.payload,se.dataKey),name:se.name}))});else{var ne;E.push(yC({tooltipEntrySettings:N,dataKey:Z,payload:te,value:fo(te,Z),name:(ne=fo(te,X))!==null&&ne!==void 0?ne:N==null?void 0:N.name}))}return E},_)}},Ar=t=>{var e=_n(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},yd=t=>t.tooltip.settings.axisId,Ur=t=>{var e=Ar(t),n=yd(t);return Uf(t,e,n)},$0=Re([Ur,_n,iT,E0,Ar],CT),Z5=Re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),K5=Re([Ar,yd],oT),mm=Re([Z5,Ur,K5],aT),Y5=Re([mm],lT),oc=Re([Y5,rc],uT),V0=Re([oc,Ur,mm],cT),J5=Re([Ur],I0),X5=Re([oc,mm,sm],fT),Q5=Re([X5,rc,Ar],hT),ez=Re([mm],sT),tz=Re([oc,Ur,ez,Ar],pT),nz=Re([mT,Ar,yd],pd),rz=Re([nz,Ar],vT),iz=Re([gT,Ar,yd],pd),oz=Re([iz,Ar],_T),az=Re([yT,Ar,yd],pd),sz=Re([az,Ar],xT),lz=Re([rz,sz,oz],O0),uz=Re([Ur,J5,Q5,tz,lz],bT),WT=Re([Ur,_n,oc,V0,sm,Ar,uz],wT),cz=Re([WT,Ur,$0],LT),dz=Re([Ur,WT,cz,Ar],ET),ZT=t=>{var e=Ar(t),n=yd(t),r=!1;return Gf(t,e,n,r)},KT=Re([Ur,ZT],lm),YT=Re([Ur,$0,dz,KT],N0),fz=Re([_n,V0,Ur,Ar],DT),hz=Re([_n,V0,Ur,Ar],IT),pz=(t,e,n,r,i,o,a,u)=>{if(e){var{type:f}=e,h=ec(t,u);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,_=f==="category"&&r.bandwidth?r.bandwidth()/m:0;return _=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ui(i[0]-i[1])*2*_:_,h&&a?a.map((E,S)=>({coordinate:r(E)+_,value:E,index:S,offset:_})):r.domain().map((E,S)=>({coordinate:r(E)+_,value:o?o[E]:E,index:S,offset:_}))}}},Ws=Re([_n,Ur,$0,YT,ZT,fz,hz,Ar],pz),G0=Re([BT,NT,T5],(t,e,n)=>RT(n.shared,t,e)),JT=t=>t.tooltip.settings.trigger,q0=t=>t.tooltip.settings.defaultIndex,gm=Re([gd,G0,JT,q0],VT),rd=Re([gm,oc],U0),XT=Re([Ws,rd],FT),QT=Re([gm],t=>{if(t)return t.dataKey}),eP=Re([gd,G0,JT,q0],qT),mz=Re([Vs,Gs,_n,Sr,Ws,q0,eP,qf],GT),gz=Re([gm,mz],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),yz=Re([gm],t=>t.active),vz=Re([eP,rd,rc,Ur,XT,qf,G0],HT);Re([vz],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function F1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F1(Object(n),!0).forEach(function(r){_z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _z(t,e,n){return(e=xz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xz(t){var e=bz(t,"string");return typeof e=="symbol"?e:e+""}function bz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wz=()=>kt(Ur),Cz=()=>{var t=wz(),e=kt(Ws),n=kt(YT);return q_(z1(z1({},t),{},{scale:n}),e)},Lz=()=>kt(E0),H0=(t,e)=>e,tP=(t,e,n)=>n,W0=(t,e,n,r)=>r,Ez=Re(Ws,t=>Gp(t,e=>e.coordinate)),Z0=Re([gd,H0,tP,W0],VT),nP=Re([Z0,oc],U0),kz=(t,e,n)=>{if(e!=null){var r=gd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},rP=Re([gd,H0,tP,W0],qT),bp=Re([Vs,Gs,_n,Sr,Ws,W0,rP,qf],GT),Mz=Re([Z0,bp],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),iP=Re(Ws,nP,FT),Sz=Re([rP,nP,rc,Ur,iP,qf,H0],HT),Tz=Re([Z0],t=>({isActive:t.active,activeIndex:t.index})),Pz=(t,e,n,r,i,o,a,u)=>{if(!(!t||!e||!r||!i||!o)){var f=V2(t.chartX,t.chartY,e,n,u);if(f){var h=q2(f,e),m=A2(h,a,o,r,i),_=G2(e,o,m,f);return{activeIndex:String(m),activeCoordinate:_}}}};function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(null,arguments)}function j1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j1(Object(n),!0).forEach(function(r){Az(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Az(t,e,n){return(e=Dz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dz(t){var e=Iz(t,"string");return typeof e=="symbol"?e:e+""}function Iz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oz(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:a,cursor:u,tooltipEventType:f,chartName:h}=t,m=e,_=n,E=r;if(!u||!m||h!=="ScatterChart"&&f!=="axis")return null;var S,A;if(h==="ScatterChart")S=m,A=WB;else if(h==="BarChart")S=ZB(a,m,i,o),A=JM;else if(a==="radial"){var{cx:I,cy:N,radius:z,startAngle:G,endAngle:Z}=XM(m);S={cx:I,cy:N,startAngle:G,endAngle:Z,innerRadius:z,outerRadius:z},A=eS}else S={points:ON(a,m,i)},A=FB;var X=typeof u=="object"&&"className"in u?u.className:void 0,te=Oh(Oh(Oh(Oh({stroke:"#ccc",pointerEvents:"none"},i),S),An(u,!1)),{},{payload:_,payloadIndex:E,className:Ln("recharts-tooltip-cursor",X)});return $.isValidElement(u)?$.cloneElement(u,te):$.createElement(A,te)}function Bz(t){var e=Cz(),n=qM(),r=J_(),i=Lz();return $.createElement(Oz,$v({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var oP=$.createContext(null),Nz=()=>$.useContext(oP),Iy={exports:{}},U1;function Rz(){return U1||(U1=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function o(f,h,m,_,E){if(typeof m!="function")throw new TypeError("The listener must be a function");var S=new i(m,_||f,E),A=n?n+h:h;return f._events[A]?f._events[A].fn?f._events[A]=[f._events[A],S]:f._events[A].push(S):(f._events[A]=S,f._eventsCount++),f}function a(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,_;if(this._eventsCount===0)return h;for(_ in m=this._events)e.call(m,_)&&h.push(n?_.slice(1):_);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=n?n+h:h,_=this._events[m];if(!_)return[];if(_.fn)return[_.fn];for(var E=0,S=_.length,A=new Array(S);E<S;E++)A[E]=_[E].fn;return A},u.prototype.listenerCount=function(h){var m=n?n+h:h,_=this._events[m];return _?_.fn?1:_.length:0},u.prototype.emit=function(h,m,_,E,S,A){var I=n?n+h:h;if(!this._events[I])return!1;var N=this._events[I],z=arguments.length,G,Z;if(N.fn){switch(N.once&&this.removeListener(h,N.fn,void 0,!0),z){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,m),!0;case 3:return N.fn.call(N.context,m,_),!0;case 4:return N.fn.call(N.context,m,_,E),!0;case 5:return N.fn.call(N.context,m,_,E,S),!0;case 6:return N.fn.call(N.context,m,_,E,S,A),!0}for(Z=1,G=new Array(z-1);Z<z;Z++)G[Z-1]=arguments[Z];N.fn.apply(N.context,G)}else{var X=N.length,te;for(Z=0;Z<X;Z++)switch(N[Z].once&&this.removeListener(h,N[Z].fn,void 0,!0),z){case 1:N[Z].fn.call(N[Z].context);break;case 2:N[Z].fn.call(N[Z].context,m);break;case 3:N[Z].fn.call(N[Z].context,m,_);break;case 4:N[Z].fn.call(N[Z].context,m,_,E);break;default:if(!G)for(te=1,G=new Array(z-1);te<z;te++)G[te-1]=arguments[te];N[Z].fn.apply(N[Z].context,G)}}return!0},u.prototype.on=function(h,m,_){return o(this,h,m,_,!1)},u.prototype.once=function(h,m,_){return o(this,h,m,_,!0)},u.prototype.removeListener=function(h,m,_,E){var S=n?n+h:h;if(!this._events[S])return this;if(!m)return a(this,S),this;var A=this._events[S];if(A.fn)A.fn===m&&(!E||A.once)&&(!_||A.context===_)&&a(this,S);else{for(var I=0,N=[],z=A.length;I<z;I++)(A[I].fn!==m||E&&!A[I].once||_&&A[I].context!==_)&&N.push(A[I]);N.length?this._events[S]=N.length===1?N[0]:N:a(this,S)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&a(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(Iy)),Iy.exports}var Fz=Rz();const zz=Go(Fz);var Lf=new zz,Vv="recharts.syncEvent.tooltip",$1="recharts.syncEvent.brush";function aP(t,e){if(e){var n=Number.parseInt(e,10);if(!ho(n))return t==null?void 0:t[n]}}var jz={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},sP=qo({name:"options",initialState:jz,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Uz=sP.reducer,{createEventEmitter:$z}=sP.actions;function Vz(t){return t.tooltip.syncInteraction}var Gz={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},lP=qo({name:"chartData",initialState:Gz,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:V1,setDataStartEndIndexes:qz,setComputedData:JY}=lP.actions,Hz=lP.reducer,uP=()=>{};function Wz(){var t=kt(k0),e=kt(M0),n=Xn(),r=kt(QS),i=kt(Ws),o=J_(),a=Z_(),u=kt(f=>f.rootProps.className);$.useEffect(()=>{if(t==null)return uP;var f=(h,m,_)=>{if(e!==_&&t===h){if(r==="index"){n(m);return}if(i!=null){var E;if(typeof r=="function"){var S={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},A=r(i,S);E=i[A]}else r==="value"&&(E=i.find(ne=>String(ne.value)===m.payload.label));var{coordinate:I}=m.payload;if(E==null||m.payload.active===!1||I==null||a==null){n(jv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:N,y:z}=I,G=Math.min(N,a.x+a.width),Z=Math.min(z,a.y+a.height),X={x:o==="horizontal"?E.coordinate:G,y:o==="horizontal"?Z:E.coordinate},te=jv({active:m.payload.active,coordinate:X,dataKey:m.payload.dataKey,index:String(E.index),label:m.payload.label});n(te)}}};return Lf.on(Vv,f),()=>{Lf.off(Vv,f)}},[u,n,e,t,r,i,o,a])}function Zz(){var t=kt(k0),e=kt(M0),n=Xn();$.useEffect(()=>{if(t==null)return uP;var r=(i,o,a)=>{e!==a&&t===i&&n(qz(o))};return Lf.on($1,r),()=>{Lf.off($1,r)}},[n,e,t])}function Kz(){var t=Xn();$.useEffect(()=>{t($z())},[t]),Wz(),Zz()}function Yz(t,e,n,r,i,o){var a=kt(E=>kz(E,t,e)),u=kt(M0),f=kt(k0),h=kt(QS),m=kt(Vz),_=m==null?void 0:m.active;$.useEffect(()=>{if(!_&&f!=null&&u!=null){var E=jv({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});Lf.emit(Vv,f,E,u)}},[_,n,a,i,r,u,f,h,o])}function G1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G1(Object(n),!0).forEach(function(r){Jz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jz(t,e,n){return(e=Xz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xz(t){var e=Qz(t,"string");return typeof e=="symbol"?e:e+""}function Qz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ej(t){return t.dataKey}function tj(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(LB,e)}var H1=[],nj={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Nf.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function cP(t){var e=$l(t,nj),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:a,filterNull:u,isAnimationActive:f,offset:h,payloadUniqBy:m,position:_,reverseDirection:E,useTranslate3d:S,wrapperStyle:A,cursor:I,shared:N,trigger:z,defaultIndex:G,portal:Z,axisId:X}=e,te=Xn(),ne=typeof G=="number"?String(G):G;$.useEffect(()=>{te(I5({shared:N,trigger:z,axisId:X,active:n,defaultIndex:ne}))},[te,N,z,X,n,ne]);var se=Z_(),ke=WM(),Le=S5(N),{activeIndex:Pe,isActive:_e}=kt(Ge=>Tz(Ge,Le,z,ne)),Ne=kt(Ge=>Sz(Ge,Le,z,ne)),qe=kt(Ge=>iP(Ge,Le,z,ne)),Ke=kt(Ge=>Mz(Ge,Le,z,ne)),ht=Ne,Xe=Nz(),it=n??_e,[Ie,nt]=pM([ht,it]),xe=Le==="axis"?qe:void 0;Yz(Le,z,Ke,xe,Pe,it);var fe=Z??Xe;if(fe==null)return null;var ve=ht??H1;it||(ve=H1),u&&ve.length&&(ve=uM(ht.filter(Ge=>Ge.value!=null&&(Ge.hide!==!0||e.includeHidden)),m,ej));var je=ve.length>0,Ze=$.createElement(AB,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:f,active:it,coordinate:Ke,hasPayload:je,offset:h,position:_,reverseDirection:E,useTranslate3d:S,viewBox:se,wrapperStyle:A,lastBoundingBox:Ie,innerRef:nt,hasPortalFromProps:!!Z},tj(a,q1(q1({},e),{},{payload:ve,label:xe,active:it,coordinate:Ke,accessibilityLayer:ke})));return $.createElement($.Fragment,null,Fk.createPortal(Ze,fe),it&&$.createElement(Bz,{cursor:I,tooltipEventType:Le,coordinate:Ke,payload:ht,index:Pe}))}var Oy={},By={},W1;function rj(){return W1||(W1=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=0,i={}){typeof i!="object"&&(i={});let o=null,a=null,u=null,f=0,h=null,m;const{leading:_=!1,trailing:E=!0,maxWait:S}=i,A="maxWait"in i,I=A?Math.max(Number(S)||0,r):0,N=se=>(o!==null&&(m=n.apply(a,o)),o=a=null,f=se,m),z=se=>(f=se,h=setTimeout(te,r),_&&o!==null?N(se):m),G=se=>(h=null,E&&o!==null?N(se):m),Z=se=>{if(u===null)return!0;const ke=se-u,Le=ke>=r||ke<0,Pe=A&&se-f>=I;return Le||Pe},X=se=>{const ke=u===null?0:se-u,Le=r-ke,Pe=I-(se-f);return A?Math.min(Le,Pe):Le},te=()=>{const se=Date.now();if(Z(se))return G(se);h=setTimeout(te,X(se))},ne=function(...se){const ke=Date.now(),Le=Z(ke);if(o=se,a=this,u=ke,Le){if(h===null)return z(ke);if(A)return clearTimeout(h),h=setTimeout(te,r),N(ke)}return h===null&&(h=setTimeout(te,r)),m};return ne.cancel=()=>{h!==null&&clearTimeout(h),f=0,u=o=a=h=null},ne.flush=()=>h===null?m:G(Date.now()),ne}t.debounce=e}(By)),By}var Z1;function ij(){return Z1||(Z1=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rj();function n(r,i=0,o={}){const{leading:a=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:a,maxWait:i,trailing:u})}t.throttle=n}(Oy)),Oy}var Ny,K1;function oj(){return K1||(K1=1,Ny=ij().throttle),Ny}var aj=oj();const sj=Go(aj);var df=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(n),!0).forEach(function(r){lj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lj(t,e,n){return(e=uj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uj(t){var e=cj(t,"string");return typeof e=="symbol"?e:e+""}function cj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dP=$.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:a=0,minHeight:u,maxHeight:f,children:h,debounce:m=0,id:_,className:E,onResize:S,style:A={}}=t,I=$.useRef(null),N=$.useRef();N.current=S,$.useImperativeHandle(e,()=>I.current);var[z,G]=$.useState({containerWidth:r.width,containerHeight:r.height}),Z=$.useCallback((te,ne)=>{G(se=>{var ke=Math.round(te),Le=Math.round(ne);return se.containerWidth===ke&&se.containerHeight===Le?se:{containerWidth:ke,containerHeight:Le}})},[]);$.useEffect(()=>{var te=Le=>{var Pe,{width:_e,height:Ne}=Le[0].contentRect;Z(_e,Ne),(Pe=N.current)===null||Pe===void 0||Pe.call(N,_e,Ne)};m>0&&(te=sj(te,m,{trailing:!0,leading:!1}));var ne=new ResizeObserver(te),{width:se,height:ke}=I.current.getBoundingClientRect();return Z(se,ke),ne.observe(I.current),()=>{ne.disconnect()}},[Z,m]);var X=$.useMemo(()=>{var{containerWidth:te,containerHeight:ne}=z;if(te<0||ne<0)return null;df(Nu(i)||Nu(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),df(!n||n>0,"The aspect(%s) must be greater than zero.",n);var se=Nu(i)?te:i,ke=Nu(o)?ne:o;return n&&n>0&&(se?ke=se/n:ke&&(se=ke*n),f&&ke>f&&(ke=f)),df(se>0||ke>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,se,ke,i,o,a,u,n),$.Children.map(h,Le=>$.cloneElement(Le,{width:se,height:ke,style:Ry({width:se,height:ke},Le.props.style)}))},[n,h,o,f,u,a,z,i]);return $.createElement("div",{id:_?"".concat(_):void 0,className:Ln("recharts-responsive-container",E),style:Ry(Ry({},A),{},{width:i,height:o,minWidth:a,minHeight:u,maxHeight:f}),ref:I},$.createElement("div",{style:{width:0,height:0,overflow:"visible"}},X))}),fP=t=>null;fP.displayName="Cell";function J1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(n),!0).forEach(function(r){dj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dj(t,e,n){return(e=fj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fj(t){var e=hj(t,"string");return typeof e=="symbol"?e:e+""}function hj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jc={widthCache:{},cacheCount:0},pj=2e3,mj={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},X1="recharts_measurement_span";function gj(t){var e=Gv({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var ff=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Nf.isSsr)return{width:0,height:0};var r=gj(n),i=JSON.stringify({text:e,copyStyle:r});if(jc.widthCache[i])return jc.widthCache[i];try{var o=document.getElementById(X1);o||(o=document.createElement("span"),o.setAttribute("id",X1),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Gv(Gv({},mj),r);Object.assign(o.style,a),o.textContent="".concat(e);var u=o.getBoundingClientRect(),f={width:u.width,height:u.height};return jc.widthCache[i]=f,++jc.cacheCount>pj&&(jc.cacheCount=0,jc.widthCache={}),f}catch{return{width:0,height:0}}},Q1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yj=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vj=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_j=Object.keys(hP),Vc="NaN";function xj(t,e){return t*hP[e]}class ji{static parse(e){var n,[,r,i]=(n=vj.exec(e))!==null&&n!==void 0?n:[];return new ji(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ho(e)&&(this.unit=""),n!==""&&!yj.test(n)&&(this.num=NaN,this.unit=""),_j.includes(n)&&(this.num=xj(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ji(NaN,""):new ji(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ji(NaN,""):new ji(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ji(NaN,""):new ji(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ji(NaN,""):new ji(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ho(this.num)}}function pP(t){if(t.includes(Vc))return Vc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=Q1.exec(e))!==null&&n!==void 0?n:[],a=ji.parse(r??""),u=ji.parse(o??""),f=i==="*"?a.multiply(u):a.divide(u);if(f.isNaN())return Vc;e=e.replace(Q1,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,m,_,E]=(h=eL.exec(e))!==null&&h!==void 0?h:[],S=ji.parse(m??""),A=ji.parse(E??""),I=_==="+"?S.add(A):S.subtract(A);if(I.isNaN())return Vc;e=e.replace(eL,I.toString())}return e}var tL=/\(([^()]*)\)/;function bj(t){for(var e=t,n;(n=tL.exec(e))!=null;){var[,r]=n;e=e.replace(tL,pP(r))}return e}function wj(t){var e=t.replace(/\s+/g,"");return e=bj(e),e=pP(e),e}function Cj(t){try{return wj(t)}catch{return Vc}}function Fy(t){var e=Cj(t.slice(5,-1));return e===Vc?"":e}var Lj=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ej=["dx","dy","angle","className","breakAll"];function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(null,arguments)}function nL(t,e){if(t==null)return{};var n,r,i=kj(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kj(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mP=/[ \f\n\r\t\v\u2028\u2029]+/,gP=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];sr(e)||(n?i=e.toString().split(""):i=e.toString().split(mP));var o=i.map(u=>({word:u,width:ff(u,r).width})),a=n?0:ff("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},Mj=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:u,breakAll:f}=t,h=gt(o),m=a,_=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return _e.reduce((Ne,qe)=>{var{word:Ke,width:ht}=qe,Xe=Ne[Ne.length-1];if(Xe&&(r==null||i||Xe.width+ht+n<Number(r)))Xe.words.push(Ke),Xe.width+=ht+n;else{var it={words:[Ke],width:ht};Ne.push(it)}return Ne},[])},E=_(e),S=Pe=>Pe.reduce((_e,Ne)=>_e.width>Ne.width?_e:Ne);if(!h||i)return E;var A=E.length>o||S(E).width>Number(r);if(!A)return E;for(var I="",N=Pe=>{var _e=m.slice(0,Pe),Ne=gP({breakAll:f,style:u,children:_e+I}).wordsWithComputedWidth,qe=_(Ne),Ke=qe.length>o||S(qe).width>Number(r);return[Ke,qe]},z=0,G=m.length-1,Z=0,X;z<=G&&Z<=m.length-1;){var te=Math.floor((z+G)/2),ne=te-1,[se,ke]=N(ne),[Le]=N(te);if(!se&&!Le&&(z=te+1),se&&Le&&(G=te-1),!se&&Le){X=ke;break}Z++}return X||E},rL=t=>{var e=sr(t)?[]:t.toString().split(mP);return[{words:e}]},Sj=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!Nf.isSsr){var u,f,h=gP({breakAll:o,children:r,style:i});if(h){var{wordsWithComputedWidth:m,spaceWidth:_}=h;u=m,f=_}else return rL(r);return Mj({breakAll:o,children:r,maxLines:a,style:i},u,f,e,n)}return rL(r)},iL="#808080",K0=$.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:a=!1,textAnchor:u="start",verticalAnchor:f="end",fill:h=iL}=t,m=nL(t,Lj),_=$.useMemo(()=>Sj({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:a,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,a,m.style,m.width]),{dx:E,dy:S,angle:A,className:I,breakAll:N}=m,z=nL(m,Ej);if(!Ja(n)||!Ja(r))return null;var G=n+(gt(E)?E:0),Z=r+(gt(S)?S:0),X;switch(f){case"start":X=Fy("calc(".concat(o,")"));break;case"middle":X=Fy("calc(".concat((_.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:X=Fy("calc(".concat(_.length-1," * -").concat(i,")"));break}var te=[];if(a){var ne=_[0].width,{width:se}=m;te.push("scale(".concat(gt(se)?se/ne:1,")"))}return A&&te.push("rotate(".concat(A,", ").concat(G,", ").concat(Z,")")),te.length&&(z.transform=te.join(" ")),$.createElement("text",qv({},An(z,!0),{ref:e,x:G,y:Z,className:Ln("recharts-text",I),textAnchor:u,fill:h.includes("url")?iL:h}),_.map((ke,Le)=>{var Pe=ke.words.join(N?"":" ");return $.createElement("tspan",{x:G,dy:Le===0?X:i,key:"".concat(Pe,"-").concat(Le)},Pe)}))});K0.displayName="Text";var Tj=["offset"],Pj=["labelRef"];function oL(t,e){if(t==null)return{};var n,r,i=Aj(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aj(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(n),!0).forEach(function(r){Dj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dj(t,e,n){return(e=Ij(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ij(t){var e=Oj(t,"string");return typeof e=="symbol"?e:e+""}function Oj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function As(){return As=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},As.apply(null,arguments)}var Bj=t=>{var{value:e,formatter:n}=t,r=sr(t.children)?e:t.children;return typeof n=="function"?n(r):r},Y0=t=>t!=null&&typeof t=="function",Nj=(t,e)=>{var n=Ui(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Rj=(t,e,n)=>{var{position:r,viewBox:i,offset:o,className:a}=t,{cx:u,cy:f,innerRadius:h,outerRadius:m,startAngle:_,endAngle:E,clockWise:S}=i,A=(h+m)/2,I=Nj(_,E),N=I>=0?1:-1,z,G;r==="insideStart"?(z=_+N*o,G=S):r==="insideEnd"?(z=E-N*o,G=!S):r==="end"&&(z=E+N*o,G=S),G=I<=0?G:!G;var Z=jr(u,f,A,z),X=jr(u,f,A,z+(G?1:-1)*359),te="M".concat(Z.x,",").concat(Z.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(G?0:1,`,
    `).concat(X.x,",").concat(X.y),ne=sr(t.id)?mf("recharts-radial-line-"):t.id;return $.createElement("text",As({},n,{dominantBaseline:"central",className:Ln("recharts-radial-bar-label",a)}),$.createElement("defs",null,$.createElement("path",{id:ne,d:te})),$.createElement("textPath",{xlinkHref:"#".concat(ne)},e))},Fj=t=>{var{viewBox:e,offset:n,position:r}=t,{cx:i,cy:o,innerRadius:a,outerRadius:u,startAngle:f,endAngle:h}=e,m=(f+h)/2;if(r==="outside"){var{x:_,y:E}=jr(i,o,u+n,m);return{x:_,y:E,textAnchor:_>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var S=(a+u)/2,{x:A,y:I}=jr(i,o,S,m);return{x:A,y:I,textAnchor:"middle",verticalAnchor:"middle"}},zj=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:a,width:u,height:f}=e,h=f>=0?1:-1,m=h*r,_=h>0?"end":"start",E=h>0?"start":"end",S=u>=0?1:-1,A=S*r,I=S>0?"end":"start",N=S>0?"start":"end";if(i==="top"){var z={x:o+u/2,y:a-h*r,textAnchor:"middle",verticalAnchor:_};return or(or({},z),n?{height:Math.max(a-n.y,0),width:u}:{})}if(i==="bottom"){var G={x:o+u/2,y:a+f+m,textAnchor:"middle",verticalAnchor:E};return or(or({},G),n?{height:Math.max(n.y+n.height-(a+f),0),width:u}:{})}if(i==="left"){var Z={x:o-A,y:a+f/2,textAnchor:I,verticalAnchor:"middle"};return or(or({},Z),n?{width:Math.max(Z.x-n.x,0),height:f}:{})}if(i==="right"){var X={x:o+u+A,y:a+f/2,textAnchor:N,verticalAnchor:"middle"};return or(or({},X),n?{width:Math.max(n.x+n.width-X.x,0),height:f}:{})}var te=n?{width:u,height:f}:{};return i==="insideLeft"?or({x:o+A,y:a+f/2,textAnchor:N,verticalAnchor:"middle"},te):i==="insideRight"?or({x:o+u-A,y:a+f/2,textAnchor:I,verticalAnchor:"middle"},te):i==="insideTop"?or({x:o+u/2,y:a+m,textAnchor:"middle",verticalAnchor:E},te):i==="insideBottom"?or({x:o+u/2,y:a+f-m,textAnchor:"middle",verticalAnchor:_},te):i==="insideTopLeft"?or({x:o+A,y:a+m,textAnchor:N,verticalAnchor:E},te):i==="insideTopRight"?or({x:o+u-A,y:a+m,textAnchor:I,verticalAnchor:E},te):i==="insideBottomLeft"?or({x:o+A,y:a+f-m,textAnchor:N,verticalAnchor:_},te):i==="insideBottomRight"?or({x:o+u-A,y:a+f-m,textAnchor:I,verticalAnchor:_},te):i&&typeof i=="object"&&(gt(i.x)||Nu(i.x))&&(gt(i.y)||Nu(i.y))?or({x:o+va(i.x,u),y:a+va(i.y,f),textAnchor:"end",verticalAnchor:"end"},te):or({x:o+u/2,y:a+f/2,textAnchor:"middle",verticalAnchor:"middle"},te)},jj=t=>"cx"in t&&gt(t.cx);function lo(t){var{offset:e=5}=t,n=oL(t,Tj),r=or({offset:e},n),{viewBox:i,position:o,value:a,children:u,content:f,className:h="",textBreakAll:m,labelRef:_}=r,E=Z_(),S=i||E;if(!S||sr(a)&&sr(u)&&!$.isValidElement(f)&&typeof f!="function")return null;if($.isValidElement(f)){var{labelRef:A}=r,I=oL(r,Pj);return $.cloneElement(f,I)}var N;if(typeof f=="function"){if(N=$.createElement(f,r),$.isValidElement(N))return N}else N=Bj(r);var z=jj(S),G=An(r,!0);if(z&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Rj(r,N,G);var Z=z?Fj(r):zj(r,S);return $.createElement(K0,As({ref:_,className:Ln("recharts-label",h)},G,Z,{breakAll:m}),N)}lo.displayName="Label";var yP=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:a,radius:u,innerRadius:f,outerRadius:h,x:m,y:_,top:E,left:S,width:A,height:I,clockWise:N,labelViewBox:z}=t;if(z)return z;if(gt(A)&&gt(I)){if(gt(m)&&gt(_))return{x:m,y:_,width:A,height:I};if(gt(E)&&gt(S))return{x:E,y:S,width:A,height:I}}if(gt(m)&&gt(_))return{x:m,y:_,width:0,height:0};if(gt(e)&&gt(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:f||0,outerRadius:h||u||a||0,clockWise:N};if(t.viewBox)return t.viewBox},Uj=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?$.createElement(lo,As({key:"label-implicit"},r)):Ja(t)?$.createElement(lo,As({key:"label-implicit",value:t},r)):$.isValidElement(t)?t.type===lo?$.cloneElement(t,or({key:"label-implicit"},r)):$.createElement(lo,As({key:"label-implicit",content:t},r)):Y0(t)?$.createElement(lo,As({key:"label-implicit",content:t},r)):t&&typeof t=="object"?$.createElement(lo,As({},t,{key:"label-implicit"},r)):null},$j=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,a=yP(e),u=k_(i,lo).map((h,m)=>$.cloneElement(h,{viewBox:n||a,key:"label-".concat(m)}));if(!r)return u;var f=Uj(e.label,n||a,o);return[f,...u]};lo.parseViewBox=yP;lo.renderCallByParent=$j;var zy={},jy={},sL;function Vj(){return sL||(sL=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e}(jy)),jy}var Uy={},lL;function Gj(){return lL||(lL=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e}(Uy)),Uy}var uL;function qj(){return uL||(uL=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vj(),n=Gj(),r=O_();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i}(zy)),zy}var $y,cL;function Hj(){return cL||(cL=1,$y=qj().last),$y}var Wj=Hj();const Zj=Go(Wj);var Kj=["valueAccessor"],Yj=["data","dataKey","clockWise","id","textBreakAll"];function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(null,arguments)}function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(n),!0).forEach(function(r){Jj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jj(t,e,n){return(e=Xj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xj(t){var e=Qj(t,"string");return typeof e=="symbol"?e:e+""}function Qj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hL(t,e){if(t==null)return{};var n,r,i=e8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function e8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var t8=t=>Array.isArray(t.value)?Zj(t.value):t.value;function Ka(t){var{valueAccessor:e=t8}=t,n=hL(t,Kj),{data:r,dataKey:i,clockWise:o,id:a,textBreakAll:u}=n,f=hL(n,Yj);return!r||!r.length?null:$.createElement(Xa,{className:"recharts-label-list"},r.map((h,m)=>{var _=sr(i)?e(h,m):fo(h&&h.payload,i),E=sr(a)?{}:{id:"".concat(a,"-").concat(m)};return $.createElement(lo,wp({},An(h,!0),f,E,{parentViewBox:h.parentViewBox,value:_,textBreakAll:u,viewBox:lo.parseViewBox(sr(o)?h:fL(fL({},h),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Ka.displayName="LabelList";function n8(t,e){return t?t===!0?$.createElement(Ka,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Y0(t)?$.createElement(Ka,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?$.createElement(Ka,wp({data:e},t,{key:"labelList-implicit"})):null:null}function r8(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=k_(r,Ka).map((a,u)=>$.cloneElement(a,{data:e,key:"labelList-".concat(u)}));if(!n)return i;var o=n8(t.label,e);return[o,...i]}Ka.renderCallByParent=r8;var i8={radiusAxis:{},angleAxis:{}},vP=qo({name:"polarAxis",initialState:i8,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:XY,removeRadiusAxis:QY,addAngleAxis:eJ,removeAngleAxis:tJ}=vP.actions,o8=vP.reducer,a8={countOfBars:0,cartesianItems:[],polarItems:[]},_P=qo({name:"graphicalItems",initialState:a8,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Bs(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Bs(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Bs(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:s8,removeBar:l8,addCartesianGraphicalItem:u8,replaceCartesianGraphicalItem:c8,removeCartesianGraphicalItem:d8,addPolarGraphicalItem:nJ,removePolarGraphicalItem:rJ}=_P.actions,f8=_P.reducer;function pL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(n),!0).forEach(function(r){h8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h8(t,e,n){return(e=p8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p8(t){var e=m8(t,"string");return typeof e=="symbol"?e:e+""}function m8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g8(t){var e=Xn(),n=$.useRef(null);return $.useEffect(()=>{var r=mL(mL({},t),{},{stackId:UM(t.stackId)});n.current===null?e(u8(r)):n.current!==r&&e(c8({prev:n.current,next:r})),n.current=r},[e,t]),$.useEffect(()=>()=>{n.current&&(e(d8(n.current)),n.current=null)},[e]),null}var Vy={},gL;function y8(){return gL||(gL=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e}(Vy)),Vy}var Gy,yL;function v8(){return yL||(yL=1,Gy=y8().isPlainObject),Gy}var _8=v8();const x8=Go(_8);function Cp(){return Cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cp.apply(null,arguments)}var vL=(t,e,n,r,i)=>{var o=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-o/2,",").concat(e+i),a+="L ".concat(t+n-o/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},b8={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w8=t=>{var e=$l(t,b8),n=$.useRef(),[r,i]=$.useState(-1);$.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&i(N)}catch{}},[]);var{x:o,y:a,upperWidth:u,lowerWidth:f,height:h,className:m}=e,{animationEasing:_,animationDuration:E,animationBegin:S,isUpdateAnimationActive:A}=e;if(o!==+o||a!==+a||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var I=Ln("recharts-trapezoid",m);return A?$.createElement(Jc,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:h,x:o,y:a},to:{upperWidth:u,lowerWidth:f,height:h,x:o,y:a},duration:E,animationEasing:_,isActive:A},N=>{var{upperWidth:z,lowerWidth:G,height:Z,x:X,y:te}=N;return $.createElement(Jc,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:E,easing:_},$.createElement("path",Cp({},An(e,!0),{className:I,d:vL(X,te,z,G,Z),ref:n})))}):$.createElement("g",null,$.createElement("path",Cp({},An(e,!0),{className:I,d:vL(o,a,u,f,h)})))},C8=["option","shapeType","propTransformer","activeClassName","isActive"];function L8(t,e){if(t==null)return{};var n,r,i=E8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function E8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(n),!0).forEach(function(r){k8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k8(t,e,n){return(e=M8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M8(t){var e=S8(t,"string");return typeof e=="symbol"?e:e+""}function S8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T8(t,e){return Lp(Lp({},e),t)}function P8(t,e){return t==="symbols"}function xL(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return $.createElement(JM,n);case"trapezoid":return $.createElement(w8,n);case"sector":return $.createElement(eS,n);case"symbols":if(P8(e))return $.createElement(A_,n);break;default:return null}}function A8(t){return $.isValidElement(t)?t.props:t}function D8(t){var{option:e,shapeType:n,propTransformer:r=T8,activeClassName:i="recharts-active-shape",isActive:o}=t,a=L8(t,C8),u;if($.isValidElement(e))u=$.cloneElement(e,Lp(Lp({},a),A8(e)));else if(typeof e=="function")u=e(a);else if(x8(e)&&typeof e!="boolean"){var f=r(e,a);u=$.createElement(xL,{shapeType:n,elementProps:f})}else{var h=a;u=$.createElement(xL,{shapeType:n,elementProps:h})}return o?$.createElement(Xa,{className:i},u):u}var xP=(t,e)=>{var n=Xn();return(r,i)=>o=>{t==null||t(r,i,o),n(jT({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},bP=t=>{var e=Xn();return(n,r)=>i=>{t==null||t(n,r,i),e(O5())}},wP=(t,e)=>{var n=Xn();return(r,i)=>o=>{t==null||t(r,i,o),n(B5({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function I8(t){var{fn:e,args:n}=t,r=Xn(),i=Hi();return $.useEffect(()=>{if(!i){var o=e(n);return r(A5(o)),()=>{r(D5(o))}}},[e,n,r,i]),null}var O8=()=>{};function B8(t){var{legendPayload:e}=t,n=Xn(),r=Hi();return $.useEffect(()=>r?O8:(n(aB(e)),()=>{n(sB(e))}),[n,r,e]),null}function N8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=$.useRef(mf(e)),r=$.useRef(t);return r.current!==t&&(n.current=mf(e),r.current=t),n.current}var R8=Re([Sr],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),F8=Re([R8,Vs,Gs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),z8=t=>{var e=Hi();return kt(n=>zl(n,"xAxis",t,e))},j8=t=>{var e=Hi();return kt(n=>zl(n,"yAxis",t,e))},CP=()=>kt(F8),U8=()=>{var t=Xn();return $.useEffect(()=>(t(s8()),()=>{t(l8())})),null},$8=["children"];function V8(t,e){if(t==null)return{};var n,r,i=G8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function G8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bL=()=>{},LP=$.createContext({addErrorBar:bL,removeErrorBar:bL}),q8={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},EP=$.createContext(q8);function H8(t){var{children:e}=t,n=V8(t,$8);return $.createElement(EP.Provider,{value:n},e)}var W8=()=>$.useContext(EP),Z8=t=>{var{children:e,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,data:a,stackId:u,hide:f,type:h,barSize:m}=t,[_,E]=$.useState([]),S=$.useCallback(N=>{E(z=>[...z,N])},[E]),A=$.useCallback(N=>{E(z=>z.filter(G=>G!==N))},[E]),I=Hi();return $.createElement(LP.Provider,{value:{addErrorBar:S,removeErrorBar:A}},$.createElement(g8,{type:h,data:a,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,errorBars:_,stackId:u,hide:f,barSize:m,isPanorama:I}),e)};function K8(t){var{addErrorBar:e,removeErrorBar:n}=$.useContext(LP);return $.useEffect(()=>(e(t),()=>{n(t)}),[e,n,t]),null}var Y8=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function kP(t,e,n){return(e=J8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J8(t){var e=X8(t,"string");return typeof e=="symbol"?e:e+""}function X8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ef.apply(null,arguments)}function Q8(t,e){if(t==null)return{};var n,r,i=eU(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tU(t){var{direction:e,width:n,dataKey:r,isAnimationActive:i,animationBegin:o,animationDuration:a,animationEasing:u}=t,f=Q8(t,Y8),h=An(f,!1),{data:m,dataPointFormatter:_,xAxisId:E,yAxisId:S,errorBarOffset:A}=W8(),I=z8(E),N=j8(S);if((I==null?void 0:I.scale)==null||(N==null?void 0:N.scale)==null||m==null||e==="x"&&I.type!=="number")return null;var z=m.map(G=>{var{x:Z,y:X,value:te,errorVal:ne}=_(G,r,e);if(!ne)return null;var se=[],ke,Le;if(Array.isArray(ne)?[ke,Le]=ne:ke=Le=ne,e==="x"){var{scale:Pe}=I,_e=X+A,Ne=_e+n,qe=_e-n,Ke=Pe(te-ke),ht=Pe(te+Le);se.push({x1:ht,y1:Ne,x2:ht,y2:qe}),se.push({x1:Ke,y1:_e,x2:ht,y2:_e}),se.push({x1:Ke,y1:Ne,x2:Ke,y2:qe})}else if(e==="y"){var{scale:Xe}=N,it=Z+A,Ie=it-n,nt=it+n,xe=Xe(te-ke),fe=Xe(te+Le);se.push({x1:Ie,y1:fe,x2:nt,y2:fe}),se.push({x1:it,y1:xe,x2:it,y2:fe}),se.push({x1:Ie,y1:xe,x2:nt,y2:xe})}var ve="".concat(Z+A,"px ").concat(X+A,"px");return $.createElement(Xa,Ef({className:"recharts-errorBar",key:"bar-".concat(se.map(je=>"".concat(je.x1,"-").concat(je.x2,"-").concat(je.y1,"-").concat(je.y2)))},h),se.map(je=>{var Ze=i?{transformOrigin:"".concat(je.x1-5,"px")}:void 0;return $.createElement(Jc,{from:{transform:"scaleY(0)",transformOrigin:ve},to:{transform:"scaleY(1)",transformOrigin:ve},begin:o,easing:u,isActive:i,duration:a,key:"line-".concat(je.x1,"-").concat(je.x2,"-").concat(je.y1,"-").concat(je.y2),style:{transformOrigin:ve}},$.createElement("line",Ef({},je,{style:Ze})))}))});return $.createElement(Xa,{className:"recharts-errorBars"},z)}var MP=$.createContext(void 0);function nU(t){var e=$.useContext(MP);return t??e??"x"}function rU(t){var{direction:e,children:n}=t;return $.createElement(MP.Provider,{value:e},n)}var SP={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function iU(t){var e=nU(t.direction),{width:n,isAnimationActive:r,animationBegin:i,animationDuration:o,animationEasing:a}=$l(t,SP);return $.createElement($.Fragment,null,$.createElement(K8,{dataKey:t.dataKey,direction:e}),$.createElement(tU,Ef({},t,{direction:e,width:n,isAnimationActive:r,animationBegin:i,animationDuration:o,animationEasing:a})))}class TP extends $.Component{render(){return $.createElement(iU,this.props)}}kP(TP,"defaultProps",SP);kP(TP,"displayName","ErrorBar");var oU="Invariant failed";function aU(t,e){throw new Error(oU)}var sU=["x","y"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hv.apply(null,arguments)}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ef(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){lU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lU(t,e,n){return(e=uU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uU(t){var e=cU(t,"string");return typeof e=="symbol"?e:e+""}function cU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dU(t,e){if(t==null)return{};var n,r,i=fU(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hU(t,e){var{x:n,y:r}=t,i=dU(t,sU),o="".concat(n),a=parseInt(o,10),u="".concat(r),f=parseInt(u,10),h="".concat(e.height||i.height),m=parseInt(h,10),_="".concat(e.width||i.width),E=parseInt(_,10);return ef(ef(ef(ef(ef({},e),i),a?{x:a}:{}),f?{y:f}:{}),{},{height:m,width:E,name:e.name,radius:e.radius})}function PP(t){return $.createElement(D8,Hv({shapeType:"rectangle",propTransformer:hU,activeClassName:"recharts-active-bar"},t))}var pU=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(gt(e))return e;var o=gt(r)||sr(r);return o?e(r,i):(o||aU(),n)}};function AP(t,e){var n,r,i=kt(h=>Hs(h,t)),o=kt(h=>ql(h,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:oo.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:ao.allowDataOverflow,f=a||u;return{needClip:f,needClipX:a,needClipY:u}}function mU(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=CP(),{needClipX:o,needClipY:a,needClip:u}=AP(e,n);if(!u)return null;var{x:f,y:h,width:m,height:_}=i;return $.createElement("clipPath",{id:"clipPath-".concat(r)},$.createElement("rect",{x:o?f:f-m/2,y:a?h:h-_/2,width:o?m:m*2,height:a?_:_*2}))}var gU=["onMouseEnter","onMouseLeave","onClick"],yU=["value","background","tooltipPosition"],vU=["onMouseEnter","onClick","onMouseLeave"];function kf(){return kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kf.apply(null,arguments)}function CL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(n),!0).forEach(function(r){ym(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ym(t,e,n){return(e=_U(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _U(t){var e=xU(t,"string");return typeof e=="symbol"?e:e+""}function xU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wv(t,e){if(t==null)return{};var n,r,i=bU(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wU=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:$M(n,e),payload:t}]};function CU(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:$M(o,e),hide:a,type:t.tooltipType,color:t.fill,unit:u}}}function LU(t){var e=kt(rd),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:a,onMouseLeave:u,onClick:f}=o,h=Wv(o,gU),m=xP(a,r),_=bP(u),E=wP(f,r);if(!i||n==null)return null;var S=An(i,!1);return $.createElement($.Fragment,null,n.map((A,I)=>{var{value:N,background:z,tooltipPosition:G}=A,Z=Wv(A,yU);if(!z)return null;var X=m(A,I),te=_(A,I),ne=E(A,I),se=Xr(Xr(Xr(Xr(Xr({option:i,isActive:String(I)===e},Z),{},{fill:"#eee"},z),S),jp(h,A,I)),{},{onMouseEnter:X,onMouseLeave:te,onClick:ne,dataKey:r,index:I,className:"recharts-bar-background-rectangle"});return $.createElement(PP,kf({key:"background-bar-".concat(I)},se))}))}function DP(t){var{data:e,props:n,showLabels:r}=t,i=An(n,!1),{shape:o,dataKey:a,activeBar:u}=n,f=kt(rd),h=kt(QT),{onMouseEnter:m,onClick:_,onMouseLeave:E}=n,S=Wv(n,vU),A=xP(m,a),I=bP(E),N=wP(_,a);return e?$.createElement($.Fragment,null,e.map((z,G)=>{var Z=u&&String(G)===f&&(h==null||a===h),X=Z?u:o,te=Xr(Xr(Xr({},i),z),{},{isActive:Z,option:X,index:G,dataKey:a});return $.createElement(Xa,kf({className:"recharts-bar-rectangle"},jp(S,z,G),{onMouseEnter:A(z,G),onMouseLeave:I(z,G),onClick:N(z,G),key:"rectangle-".concat(z==null?void 0:z.x,"-").concat(z==null?void 0:z.y,"-").concat(z==null?void 0:z.value,"-").concat(G)}),$.createElement(PP,te))}),r&&Ka.renderCallByParent(n,e)):null}function EU(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:m}=e,_=n.current,E=N8(e,"recharts-bar-"),[S,A]=$.useState(!1),I=$.useCallback(()=>{typeof h=="function"&&h(),A(!1)},[h]),N=$.useCallback(()=>{typeof m=="function"&&m(),A(!0)},[m]);return $.createElement(Jc,{begin:a,duration:u,isActive:o,easing:f,from:{t:0},to:{t:1},onAnimationEnd:I,onAnimationStart:N,key:E},z=>{var{t:G}=z,Z=G===1?r:r.map((X,te)=>{var ne=_&&_[te];if(ne){var se=Fc(ne.x,X.x),ke=Fc(ne.y,X.y),Le=Fc(ne.width,X.width),Pe=Fc(ne.height,X.height);return Xr(Xr({},X),{},{x:se(G),y:ke(G),width:Le(G),height:Pe(G)})}if(i==="horizontal"){var _e=Fc(0,X.height),Ne=_e(G);return Xr(Xr({},X),{},{y:X.y+X.height-Ne,height:Ne})}var qe=Fc(0,X.width),Ke=qe(G);return Xr(Xr({},X),{},{width:Ke})});return G>0&&(n.current=Z),$.createElement(Xa,null,$.createElement(DP,{props:e,data:Z,showLabels:!S}))})}function kU(t){var{data:e,isAnimationActive:n}=t,r=$.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?$.createElement(EU,{previousRectanglesRef:r,props:t}):$.createElement(DP,{props:t,data:e,showLabels:!0})}var IP=0,MU=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:fo(t,e)}};class SU extends $.PureComponent{constructor(){super(...arguments),ym(this,"id",mf("recharts-bar-"))}render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:a,needClip:u,background:f,id:h,layout:m}=this.props;if(e)return null;var _=Ln("recharts-bar",i),E=sr(h)?this.id:h;return $.createElement(Xa,{className:_},u&&$.createElement("defs",null,$.createElement(mU,{clipPathId:E,xAxisId:o,yAxisId:a})),$.createElement(Xa,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(E,")"):null},$.createElement(LU,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),$.createElement(kU,this.props)),$.createElement(rU,{direction:m==="horizontal"?"y":"x"},this.props.children))}}var OP={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Nf.isSsr,legendType:"rect",minPointSize:IP,xAxisId:0,yAxisId:0};function TU(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:m}=$l(t,OP),{needClip:_}=AP(e,n),E=J_(),S=Hi(),A=$.useMemo(()=>({barSize:t.barSize,data:void 0,dataKey:t.dataKey,maxBarSize:t.maxBarSize,minPointSize:o,stackId:UM(t.stackId)}),[t.barSize,t.dataKey,t.maxBarSize,o,t.stackId]),I=k_(t.children,fP),N=kt(Z=>r$(Z,e,n,S,A,I));if(E!=="vertical"&&E!=="horizontal")return null;var z,G=N==null?void 0:N[0];return G==null||G.height==null||G.width==null?z=0:z=E==="vertical"?G.height/2:G.width/2,$.createElement(H8,{xAxisId:e,yAxisId:n,data:N,dataPointFormatter:MU,errorBarOffset:z},$.createElement(SU,kf({},t,{layout:E,needClip:_,data:N,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:m})))}function PU(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:m,displayedData:_,offset:E,cells:S}=t,A=e==="horizontal"?u:a,I=m?A.scale.domain():null,N=z2({numericAxis:A});return _.map((z,G)=>{var Z,X,te,ne,se,ke;m?Z=O2(m[G],I):(Z=fo(z,n),Array.isArray(Z)||(Z=[N,Z]));var Le=pU(r,IP)(Z[1],G);if(e==="horizontal"){var Pe,[_e,Ne]=[u.scale(Z[0]),u.scale(Z[1])];X=pC({axis:a,ticks:f,bandSize:o,offset:i.offset,entry:z,index:G}),te=(Pe=Ne??_e)!==null&&Pe!==void 0?Pe:void 0,ne=i.size;var qe=_e-Ne;if(se=ho(qe)?0:qe,ke={x:X,y:E.top,width:ne,height:E.height},Math.abs(Le)>0&&Math.abs(se)<Math.abs(Le)){var Ke=Ui(se||Le)*(Math.abs(Le)-Math.abs(se));te-=Ke,se+=Ke}}else{var[ht,Xe]=[a.scale(Z[0]),a.scale(Z[1])];if(X=ht,te=pC({axis:u,ticks:h,bandSize:o,offset:i.offset,entry:z,index:G}),ne=Xe-ht,se=i.size,ke={x:E.left,y:te,width:E.width,height:se},Math.abs(Le)>0&&Math.abs(ne)<Math.abs(Le)){var it=Ui(ne||Le)*(Math.abs(Le)-Math.abs(ne));ne+=it}}var Ie=Xr(Xr({},z),{},{x:X,y:te,width:ne,height:se,value:m?Z:Z[1],payload:z,background:ke,tooltipPosition:{x:X+ne/2,y:te+se/2}},S&&S[G]&&S[G].props);return Ie})}class Mf extends $.PureComponent{render(){return $.createElement(Z8,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},$.createElement(U8,null),$.createElement(B8,{legendPayload:wU(this.props)}),$.createElement(I8,{fn:CU,args:this.props}),$.createElement(TU,this.props))}}ym(Mf,"displayName","Bar");ym(Mf,"defaultProps",OP);function LL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(n),!0).forEach(function(r){AU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AU(t,e,n){return(e=DU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DU(t){var e=IU(t,"string");return typeof e=="symbol"?e:e+""}function IU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OU=(t,e)=>e,BU=(t,e,n)=>n,NU=(t,e,n,r)=>r,J0=(t,e,n,r,i)=>i,RU=(t,e,n,r,i)=>i.maxBarSize,FU=(t,e,n,r,i,o)=>o,EL=(t,e,n)=>{var r=n??t;if(!sr(r))return va(r,e,0)},zU=Re([_n,D0,OU,BU,NU],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),jU=(t,e,n,r)=>{var i=_n(t);return i==="horizontal"?zv(t,"yAxis",n,r):zv(t,"xAxis",e,r)},UU=(t,e,n)=>{var r=_n(t);return r==="horizontal"?I1(t,"xAxis",e):I1(t,"yAxis",n)};function $U(t){return t.stackId!=null&&t.dataKey!=null}var VU=(t,e,n)=>{var r={},i=t.filter($U),o=t.filter(h=>h.stackId==null),a=i.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),r),u=Object.entries(a).map(h=>{var[m,_]=h,E=_.map(A=>A.dataKey),S=EL(e,n,_[0].barSize);return{stackId:m,dataKeys:E,barSize:S}}),f=o.map(h=>{var m=[h.dataKey].filter(E=>E!=null),_=EL(e,n,h.barSize);return{stackId:void 0,dataKeys:m,barSize:_}});return[...u,...f]},GU=Re([zU,T6,UU],VU),qU=(t,e,n,r,i)=>{var o,a,u=_n(t),f=JS(t),{maxBarSize:h}=i,m=sr(h)?f:h,_,E;return u==="horizontal"?(_=zl(t,"xAxis",e,r),E=nd(t,"xAxis",e,r)):(_=zl(t,"yAxis",n,r),E=nd(t,"yAxis",n,r)),(o=(a=q_(_,E,!0))!==null&&a!==void 0?a:m)!==null&&o!==void 0?o:0},BP=(t,e,n,r)=>{var i=_n(t),o,a;return i==="horizontal"?(o=zl(t,"xAxis",e,r),a=nd(t,"xAxis",e,r)):(o=zl(t,"yAxis",n,r),a=nd(t,"yAxis",n,r)),q_(o,a)};function HU(t,e,n,r,i){var o=r.length;if(!(o<1)){var a=va(t,n,0,!0),u,f=[];if(go(r[0].barSize)){var h=!1,m=n/o,_=r.reduce((z,G)=>z+(G.barSize||0),0);_+=(o-1)*a,_>=n&&(_-=(o-1)*a,a=0),_>=n&&m>0&&(h=!0,m*=.9,_=o*m);var E=(n-_)/2>>0,S={offset:E-a,size:0};u=r.reduce((z,G)=>{var Z,X={stackId:G.stackId,dataKeys:G.dataKeys,position:{offset:S.offset+S.size+a,size:h?m:(Z=G.barSize)!==null&&Z!==void 0?Z:0}},te=[...z,X];return S=te[te.length-1].position,te},f)}else{var A=va(e,n,0,!0);n-2*A-(o-1)*a<=0&&(a=0);var I=(n-2*A-(o-1)*a)/o;I>1&&(I>>=0);var N=go(i)?Math.min(I,i):I;u=r.reduce((z,G,Z)=>[...z,{stackId:G.stackId,dataKeys:G.dataKeys,position:{offset:A+(I+a)*Z+(I-N)/2,size:N}}],f)}return u}}var WU=(t,e,n,r,i,o,a)=>{var u=sr(a)?e:a,f=HU(n,r,i!==o?i:o,t,u);return i!==o&&f!=null&&(f=f.map(h=>Bh(Bh({},h),{},{position:Bh(Bh({},h.position),{},{offset:h.position.offset-i/2})}))),f},ZU=Re([GU,JS,S6,XS,qU,BP,RU],WU),KU=(t,e,n,r)=>zl(t,"xAxis",e,r),YU=(t,e,n,r)=>zl(t,"yAxis",n,r),JU=(t,e,n,r)=>nd(t,"xAxis",e,r),XU=(t,e,n,r)=>nd(t,"yAxis",n,r),QU=Re([ZU,J0],(t,e)=>{if(t!=null){var n=t.find(r=>r.stackId===e.stackId&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),e$=(t,e)=>{if(!(!t||(e==null?void 0:e.dataKey)==null)){var{stackId:n}=e;if(n!=null){var r=t[n];if(r){var{stackedData:i}=r;if(i){var o=i.find(a=>a.key===e.dataKey);return o}}}}},t$=Re([D0,J0],(t,e)=>{if(t.some(n=>n.type==="bar"&&e.dataKey===n.dataKey&&e.stackId===n.stackId&&e.stackId===n.stackId))return e}),n$=Re([jU,J0],e$),r$=Re([Sr,KU,YU,JU,XU,QU,_n,NS,BP,n$,t$,FU],(t,e,n,r,i,o,a,u,f,h,m,_)=>{var{chartData:E,dataStartIndex:S,dataEndIndex:A}=u;if(!(m==null||o==null||a!=="horizontal"&&a!=="vertical"||e==null||n==null||r==null||i==null||f==null)){var{data:I}=m,N;if(I!=null&&I.length>0?N=I:N=E==null?void 0:E.slice(S,A+1),N!=null)return PU({layout:a,barSettings:m,pos:o,bandSize:f,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:h,displayedData:N,offset:t,cells:_})}}),i$=t=>{var{chartData:e}=t,n=Xn(),r=Hi();return $.useEffect(()=>r?()=>{}:(n(V1(e)),()=>{n(V1(void 0))}),[e,n,r]),null},kL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},NP=qo({name:"brush",initialState:kL,reducers:{setBrushSettings(t,e){return e.payload==null?kL:e.payload}}}),{setBrushSettings:iJ}=NP.actions,o$=NP.reducer;function a$(t,e,n){return(e=s$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s$(t){var e=l$(t,"string");return typeof e=="symbol"?e:e+""}function l$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class X0{static create(e){return new X0(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}a$(X0,"EPS",1e-4);function u$(t){return(t%180+180)%180}var c$=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=u$(i),a=o*Math.PI/180,u=Math.atan(r/n),f=a>u&&a<Math.PI-u?r/Math.sin(a):n/Math.cos(a);return Math.abs(f)},d$={dots:[],areas:[],lines:[]},RP=qo({name:"referenceElements",initialState:d$,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Bs(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Bs(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Bs(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:oJ,removeDot:aJ,addArea:sJ,removeArea:lJ,addLine:uJ,removeLine:cJ}=RP.actions,f$=RP.reducer,h$=$.createContext(void 0),p$=t=>{var{children:e}=t,[n]=$.useState("".concat(mf("recharts"),"-clip")),r=CP();if(r==null)return null;var{x:i,y:o,width:a,height:u}=r;return $.createElement(h$.Provider,{value:n},$.createElement("defs",null,$.createElement("clipPath",{id:n},$.createElement("rect",{x:i,y:o,height:u,width:a}))),e)};function qy(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function FP(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function m$(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return c$(r,n)}function g$(t,e,n){var r=n==="width",{x:i,y:o,width:a,height:u}=t;return e===1?{start:r?i:o,end:r?i+a:o+u}:{start:r?i+a:o+u,end:r?i:o}}function Ep(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function y$(t,e){return FP(t,e+1)}function v$(t,e,n,r,i){for(var o=(r||[]).slice(),{start:a,end:u}=e,f=0,h=1,m=a,_=function(){var A=r==null?void 0:r[f];if(A===void 0)return{v:FP(r,h)};var I=f,N,z=()=>(N===void 0&&(N=n(A,I)),N),G=A.coordinate,Z=f===0||Ep(t,G,z,m,u);Z||(f=0,m=a,h+=1),Z&&(m=G+t*(z()/2+i),f+=h)},E;h<=o.length;)if(E=_(),E)return E.v;return[]}function ML(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(n),!0).forEach(function(r){_$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ML(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _$(t,e,n){return(e=x$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x$(t){var e=b$(t,"string");return typeof e=="symbol"?e:e+""}function b$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w$(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:u}=e,{end:f}=e,h=function(E){var S=o[E],A,I=()=>(A===void 0&&(A=n(S,E)),A);if(E===a-1){var N=t*(S.coordinate+t*I()/2-f);o[E]=S=Jr(Jr({},S),{},{tickCoord:N>0?S.coordinate-N*t:S.coordinate})}else o[E]=S=Jr(Jr({},S),{},{tickCoord:S.coordinate});var z=Ep(t,S.tickCoord,I,u,f);z&&(f=S.tickCoord-t*(I()/2+i),o[E]=Jr(Jr({},S),{},{isShow:!0}))},m=a-1;m>=0;m--)h(m);return o}function C$(t,e,n,r,i,o){var a=(r||[]).slice(),u=a.length,{start:f,end:h}=e;if(o){var m=r[u-1],_=n(m,u-1),E=t*(m.coordinate+t*_/2-h);a[u-1]=m=Jr(Jr({},m),{},{tickCoord:E>0?m.coordinate-E*t:m.coordinate});var S=Ep(t,m.tickCoord,()=>_,f,h);S&&(h=m.tickCoord-t*(_/2+i),a[u-1]=Jr(Jr({},m),{},{isShow:!0}))}for(var A=o?u-1:u,I=function(G){var Z=a[G],X,te=()=>(X===void 0&&(X=n(Z,G)),X);if(G===0){var ne=t*(Z.coordinate-t*te()/2-f);a[G]=Z=Jr(Jr({},Z),{},{tickCoord:ne<0?Z.coordinate-ne*t:Z.coordinate})}else a[G]=Z=Jr(Jr({},Z),{},{tickCoord:Z.coordinate});var se=Ep(t,Z.tickCoord,te,f,h);se&&(f=Z.tickCoord+t*(te()/2+i),a[G]=Jr(Jr({},Z),{},{isShow:!0}))},N=0;N<A;N++)I(N);return a}function Q0(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:u,interval:f,tickFormatter:h,unit:m,angle:_}=t;if(!i||!i.length||!r)return[];if(gt(f)||Nf.isSsr){var E;return(E=y$(i,gt(f)?f:0))!==null&&E!==void 0?E:[]}var S=[],A=u==="top"||u==="bottom"?"width":"height",I=m&&A==="width"?ff(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},N=(Z,X)=>{var te=typeof h=="function"?h(Z.value,X):Z.value;return A==="width"?m$(ff(te,{fontSize:e,letterSpacing:n}),I,_):ff(te,{fontSize:e,letterSpacing:n})[A]},z=i.length>=2?Ui(i[1].coordinate-i[0].coordinate):1,G=g$(o,z,A);return f==="equidistantPreserveStart"?v$(z,G,N,i,a):(f==="preserveStart"||f==="preserveStartEnd"?S=C$(z,G,N,i,a,f==="preserveStartEnd"):S=w$(z,G,N,i,a),S.filter(Z=>Z.isShow))}var L$=["viewBox"],E$=["viewBox"];function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gc.apply(null,arguments)}function SL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(n),!0).forEach(function(r){ex(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TL(t,e){if(t==null)return{};var n,r,i=k$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function k$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ex(t,e,n){return(e=M$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M$(t){var e=S$(t,"string");return typeof e=="symbol"?e:e+""}function S$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Hl extends $.Component{constructor(e){super(e),this.tickRefs=$.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=TL(e,L$),o=this.props,{viewBox:a}=o,u=TL(o,E$);return!qy(r,a)||!qy(i,u)||!qy(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:a,tickSize:u,mirror:f,tickMargin:h}=this.props,m,_,E,S,A,I,N=f?-1:1,z=e.tickSize||u,G=gt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":m=_=e.coordinate,S=r+ +!f*o,E=S-N*z,I=E-N*h,A=G;break;case"left":E=S=e.coordinate,_=n+ +!f*i,m=_-N*z,A=m-N*h,I=G;break;case"right":E=S=e.coordinate,_=n+ +f*i,m=_+N*z,A=m+N*h,I=G;break;default:m=_=e.coordinate,S=r+ +f*o,E=S+N*z,I=E+N*h,A=G;break}return{line:{x1:m,y1:E,x2:_,y2:S},tick:{x:A,y:I}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:u}=this.props,f=vr(vr(vr({},An(this.props,!1)),An(u,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!a||o==="bottom"&&a);f=vr(vr({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var m=+(o==="left"&&!a||o==="right"&&a);f=vr(vr({},f),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return $.createElement("line",Gc({},f,{className:Ln("recharts-cartesian-axis-line",Wu(u,"className"))}))}static renderTickItem(e,n,r){var i,o=Ln(n.className,"recharts-cartesian-axis-tick-value");if($.isValidElement(e))i=$.cloneElement(e,vr(vr({},n),{},{className:o}));else if(typeof e=="function")i=e(vr(vr({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Ln(a,e.className)),i=$.createElement(K0,Gc({},n,{className:a}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:a,tickFormatter:u,unit:f}=this.props,h=Q0(vr(vr({},this.props),{},{ticks:r}),e,n),m=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),E=An(this.props,!1),S=An(a,!1),A=vr(vr({},E),{},{fill:"none"},An(i,!1)),I=h.map((N,z)=>{var{line:G,tick:Z}=this.getTickLineCoord(N),X=vr(vr(vr(vr({textAnchor:m,verticalAnchor:_},E),{},{stroke:"none",fill:o},S),Z),{},{index:z,payload:N,visibleTicksCount:h.length,tickFormatter:u});return $.createElement(Xa,Gc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},jp(this.props,N,z)),i&&$.createElement("line",Gc({},A,G,{className:Ln("recharts-cartesian-axis-tick-line",Wu(i,"className"))})),a&&Hl.renderTickItem(a,X,"".concat(typeof u=="function"?u(N.value,z):N.value).concat(f||"")))});return I.length>0?$.createElement("g",{className:"recharts-cartesian-axis-ticks"},I):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:a}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:$.createElement(Xa,{className:Ln("recharts-cartesian-axis",i),ref:u=>{if(u){var f=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var h=f[0];if(h){var m=window.getComputedStyle(h).fontSize,_=window.getComputedStyle(h).letterSpacing;(m!==this.state.fontSize||_!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),lo.renderCallByParent(this.props))}}ex(Hl,"displayName","CartesianAxis");ex(Hl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var T$=["x1","y1","x2","y2","key"],P$=["offset"],A$=["xAxisId","yAxisId"],D$=["xAxisId","yAxisId"];function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(n),!0).forEach(function(r){I$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I$(t,e,n){return(e=O$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O$(t){var e=B$(t,"string");return typeof e=="symbol"?e:e+""}function B$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ju.apply(null,arguments)}function kp(t,e){if(t==null)return{};var n,r,i=N$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function N$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var R$=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:a,ry:u}=t;return $.createElement("rect",{x:r,y:i,ry:u,width:o,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zP(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:o,y2:a,key:u}=e,f=kp(e,T$),h=An(f,!1),{offset:m}=h,_=kp(h,P$);n=$.createElement("line",ju({},_,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:u}))}return n}function F$(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=t,u=kp(t,A$),f=i.map((h,m)=>{var _=Qr(Qr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(m),index:m});return zP(r,_)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function z$(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=t,u=kp(t,D$),f=i.map((h,m)=>{var _=Qr(Qr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(m),index:m});return zP(r,_)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function j$(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:a,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length)return null;var h=u.map(_=>Math.round(_+i-i)).sort((_,E)=>_-E);i!==h[0]&&h.unshift(0);var m=h.map((_,E)=>{var S=!h[E+1],A=S?i+a-_:h[E+1]-_;if(A<=0)return null;var I=E%e.length;return $.createElement("rect",{key:"react-".concat(E),y:_,x:r,height:A,width:o,stroke:"none",fill:e[I],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function U$(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:a,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(_=>Math.round(_+i-i)).sort((_,E)=>_-E);i!==h[0]&&h.unshift(0);var m=h.map((_,E)=>{var S=!h[E+1],A=S?i+a-_:h[E+1]-_;if(A<=0)return null;var I=E%n.length;return $.createElement("rect",{key:"react-".concat(E),x:_,y:o,width:A,height:u,stroke:"none",fill:n[I],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var $$=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return zM(Q0(Qr(Qr(Qr({},Hl.defaultProps),n),{},{ticks:jM(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},V$=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return zM(Q0(Qr(Qr(Qr({},Hl.defaultProps),n),{},{ticks:jM(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},G$={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function tx(t){var e=K_(),n=Y_(),r=qM(),i=Qr(Qr({},$l(t,G$)),{},{x:gt(t.x)?t.x:r.left,y:gt(t.y)?t.y:r.top,width:gt(t.width)?t.width:r.width,height:gt(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:a,x:u,y:f,width:h,height:m,syncWithTicks:_,horizontalValues:E,verticalValues:S}=i,A=Hi(),I=kt(Le=>O1(Le,"xAxis",o,A)),N=kt(Le=>O1(Le,"yAxis",a,A));if(!gt(h)||h<=0||!gt(m)||m<=0||!gt(u)||u!==+u||!gt(f)||f!==+f)return null;var z=i.verticalCoordinatesGenerator||$$,G=i.horizontalCoordinatesGenerator||V$,{horizontalPoints:Z,verticalPoints:X}=i;if((!Z||!Z.length)&&typeof G=="function"){var te=E&&E.length,ne=G({yAxis:N?Qr(Qr({},N),{},{ticks:te?E:N.ticks}):void 0,width:e,height:n,offset:r},te?!0:_);df(Array.isArray(ne),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof ne,"]")),Array.isArray(ne)&&(Z=ne)}if((!X||!X.length)&&typeof z=="function"){var se=S&&S.length,ke=z({xAxis:I?Qr(Qr({},I),{},{ticks:se?S:I.ticks}):void 0,width:e,height:n,offset:r},se?!0:_);df(Array.isArray(ke),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof ke,"]")),Array.isArray(ke)&&(X=ke)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(R$,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),$.createElement(j$,ju({},i,{horizontalPoints:Z})),$.createElement(U$,ju({},i,{verticalPoints:X})),$.createElement(F$,ju({},i,{offset:r,horizontalPoints:Z,xAxis:I,yAxis:N})),$.createElement(z$,ju({},i,{offset:r,verticalPoints:X,xAxis:I,yAxis:N})))}tx.displayName="CartesianGrid";function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){q$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q$(t,e,n){return(e=H$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H$(t){var e=W$(t,"string");return typeof e=="symbol"?e:e+""}function W$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z$={xAxis:{},yAxis:{},zAxis:{}},jP=qo({name:"cartesianAxis",initialState:Z$,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=DL(DL({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:K$,removeXAxis:Y$,addYAxis:J$,removeYAxis:X$,addZAxis:dJ,removeZAxis:fJ,updateYAxisWidth:Q$}=jP.actions,eV=jP.reducer,tV=["children"],nV=["dangerouslySetInnerHTML","ticks"];function UP(t,e,n){return(e=rV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rV(t){var e=iV(t,"string");return typeof e=="symbol"?e:e+""}function iV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zv.apply(null,arguments)}function $P(t,e){if(t==null)return{};var n,r,i=oV(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aV(t){var e=Xn(),n=$.useMemo(()=>{var{children:o}=t,a=$P(t,tV);return a},[t]),r=kt(o=>Hs(o,n.id)),i=n===r;return $.useEffect(()=>(e(K$(n)),()=>{e(Y$(n))}),[n,e]),i?t.children:null}var sV=t=>{var{xAxisId:e,className:n}=t,r=kt(GM),i=Hi(),o="xAxis",a=kt(S=>md(S,o,e,i)),u=kt(S=>OT(S,o,e,i)),f=kt(S=>PT(S,e)),h=kt(S=>w5(S,e));if(f==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:_}=t,E=$P(t,nV);return $.createElement(Hl,Zv({},E,{scale:a,x:h.x,y:h.y,width:f.width,height:f.height,className:Ln("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u}))},lV=t=>{var e,n,r,i,o;return $.createElement(aV,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},$.createElement(sV,t))};class vm extends $.Component{render(){return $.createElement(lV,this.props)}}UP(vm,"displayName","XAxis");UP(vm,"defaultProps",{allowDataOverflow:oo.allowDataOverflow,allowDecimals:oo.allowDecimals,allowDuplicatedCategory:oo.allowDuplicatedCategory,height:oo.height,hide:!1,mirror:oo.mirror,orientation:oo.orientation,padding:oo.padding,reversed:oo.reversed,scale:oo.scale,tickCount:oo.tickCount,type:oo.type,xAxisId:0});var uV=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,a=0;if(e){e.forEach(m=>{if(m){var _=m.getBoundingClientRect();_.width>a&&(a=_.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+o,h=a+f+u+(n?r:0);return Math.round(h)}return 0},cV=["dangerouslySetInnerHTML","ticks"];function VP(t,e,n){return(e=dV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dV(t){var e=fV(t,"string");return typeof e=="symbol"?e:e+""}function fV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(null,arguments)}function hV(t,e){if(t==null)return{};var n,r,i=pV(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mV(t){var e=Xn();return $.useEffect(()=>(e(J$(t)),()=>{e(X$(t))}),[t,e]),null}var gV=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,a=$.useRef(null),u=$.useRef(null),f=kt(GM),h=Hi(),m=Xn(),_="yAxis",E=kt(Z=>md(Z,_,n,h)),S=kt(Z=>AT(Z,n)),A=kt(Z=>C5(Z,n)),I=kt(Z=>OT(Z,_,n,h));if($.useLayoutEffect(()=>{var Z;if(!(i!=="auto"||!S||Y0(o)||$.isValidElement(o))){var X=a.current,te=X==null||(Z=X.tickRefs)===null||Z===void 0?void 0:Z.current,{tickSize:ne,tickMargin:se}=X.props,ke=uV({ticks:te,label:u.current,labelGapWithTick:5,tickSize:ne,tickMargin:se});Math.round(S.width)!==Math.round(ke)&&m(Q$({id:n,width:ke}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,S==null?void 0:S.width,S,m,o,n,i]),S==null||A==null)return null;var{dangerouslySetInnerHTML:N,ticks:z}=t,G=hV(t,cV);return $.createElement(Hl,Kv({},G,{ref:a,labelRef:u,scale:E,x:A.x,y:A.y,width:S.width,height:S.height,className:Ln("recharts-".concat(_," ").concat(_),r),viewBox:f,ticks:I}))},yV=t=>{var e,n,r,i,o;return $.createElement($.Fragment,null,$.createElement(mV,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),$.createElement(gV,t))},vV={allowDataOverflow:ao.allowDataOverflow,allowDecimals:ao.allowDecimals,allowDuplicatedCategory:ao.allowDuplicatedCategory,hide:!1,mirror:ao.mirror,orientation:ao.orientation,padding:ao.padding,reversed:ao.reversed,scale:ao.scale,tickCount:ao.tickCount,type:ao.type,width:ao.width,yAxisId:0};class Sf extends $.Component{render(){return $.createElement(yV,this.props)}}VP(Sf,"displayName","YAxis");VP(Sf,"defaultProps",vV);var Hy={exports:{}},Wy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IL;function _V(){if(IL)return Wy;IL=1;var t=cd();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,u=t.useDebugValue;return Wy.useSyncExternalStoreWithSelector=function(f,h,m,_,E){var S=i(null);if(S.current===null){var A={hasValue:!1,value:null};S.current=A}else A=S.current;S=a(function(){function N(te){if(!z){if(z=!0,G=te,te=_(te),E!==void 0&&A.hasValue){var ne=A.value;if(E(ne,te))return Z=ne}return Z=te}if(ne=Z,n(G,te))return ne;var se=_(te);return E!==void 0&&E(ne,se)?(G=te,ne):(G=te,Z=se)}var z=!1,G,Z,X=m===void 0?null:m;return[function(){return N(h())},X===null?void 0:function(){return N(X())}]},[h,m,_,E]);var I=r(f,S[0],S[1]);return o(function(){A.hasValue=!0,A.value=I},[I]),u(I),I},Wy}var OL;function xV(){return OL||(OL=1,Hy.exports=_V()),Hy.exports}xV();function bV(t){t()}function wV(){let t=null,e=null;return{clear(){t=null,e=null},notify(){bV(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var BL={notify(){},get:()=>[]};function CV(t,e){let n,r=BL,i=0,o=!1;function a(I){m();const N=r.subscribe(I);let z=!1;return()=>{z||(z=!0,N(),_())}}function u(){r.notify()}function f(){A.onStateChange&&A.onStateChange()}function h(){return o}function m(){i++,n||(n=t.subscribe(f),r=wV())}function _(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=BL)}function E(){o||(o=!0,m())}function S(){o&&(o=!1,_())}const A={addNestedSub:a,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:E,tryUnsubscribe:S,getListeners:()=>r};return A}var LV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EV=LV(),kV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",MV=kV(),SV=()=>EV||MV?$.useLayoutEffect:$.useEffect,TV=SV(),Zy=Symbol.for("react-redux-context"),Ky=typeof globalThis<"u"?globalThis:{};function PV(){if(!$.createContext)return{};const t=Ky[Zy]??(Ky[Zy]=new Map);let e=t.get($.createContext);return e||(e=$.createContext(null),t.set($.createContext,e)),e}var AV=PV();function DV(t){const{children:e,context:n,serverState:r,store:i}=t,o=$.useMemo(()=>{const f=CV(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),a=$.useMemo(()=>i.getState(),[i]);TV(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),a!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,a]);const u=n||AV;return $.createElement(u.Provider,{value:o},e)}var IV=DV,OV=(t,e)=>e,nx=Re([OV,_n,B6,Ar,KT,Ws,Ez,Sr],Pz),rx=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},GP=$o("mouseClick"),qP=Of();qP.startListening({actionCreator:GP,effect:(t,e)=>{var n=t.payload,r=nx(e.getState(),rx(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(N5({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Yv=$o("mouseMove"),HP=Of();HP.startListening({actionCreator:Yv,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=j0(r,r.tooltip.settings.shared),o=nx(r,rx(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch($T({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(UT()))}});function BV(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var NL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},WP=qo({name:"rootProps",initialState:NL,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:NL.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),NV=WP.reducer,{updateOptions:RV}=WP.actions,ZP=qo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:hJ}=ZP.actions,FV=ZP.reducer,KP=$o("keyDown"),YP=$o("focus"),ix=Of();ix.startListening({actionCreator:KP,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=Number(U0(i,oc(n))),u=Ws(n);if(o==="Enter"){var f=bp(n,"axis","hover",String(i.index));e.dispatch(Uv({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=M5(n),m=h==="left-to-right"?1:-1,_=o==="ArrowRight"?1:-1,E=a+_*m;if(!(u==null||E>=u.length||E<0)){var S=bp(n,"axis","hover",String(E));e.dispatch(Uv({active:!0,activeIndex:E.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}});ix.startListening({actionCreator:YP,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=bp(n,"axis","hover",String(o));e.dispatch(Uv({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:a}))}}}});var Fo=$o("externalEvent"),JP=Of();JP.startListening({actionCreator:Fo,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:gz(n),activeDataKey:QT(n),activeIndex:rd(n),activeLabel:XT(n),activeTooltipIndex:rd(n),isTooltipActive:yz(n)};t.payload.handler(r,t.payload.reactEvent)}}});var zV=Re([gd],t=>t.tooltipItemPayloads),jV=Re([zV,qf,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var a=e(o,n);return a}}}),XP=$o("touchMove"),QP=Of();QP.startListening({actionCreator:XP,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=j0(r,r.tooltip.settings.shared);if(i==="axis"){var o=nx(r,rx({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch($T({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,u=n.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(W2),m=(a=f.getAttribute(Z2))!==null&&a!==void 0?a:void 0,_=jV(e.getState(),h,m);e.dispatch(jT({activeDataKey:m,activeIndex:h,activeCoordinate:_}))}}});var UV=gM({brush:o$,cartesianAxis:eV,chartData:Hz,graphicalItems:f8,layout:y2,legend:lB,options:Uz,polarAxis:o8,polarOptions:FV,referenceElements:f$,rootProps:NV,tooltip:R5}),$V=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return $O({reducer:UV,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([qP.middleware,HP.middleware,ix.middleware,JP.middleware,QP.middleware]),devTools:{serialize:{replacer:BV},name:"recharts-".concat(n)}})};function VV(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Hi(),o=$.useRef(null);if(i)return n;o.current==null&&(o.current=$V(e,r));var a=z_;return $.createElement(IV,{context:a,store:o.current},n)}function GV(t){var{layout:e,width:n,height:r,margin:i}=t,o=Xn(),a=Hi();return $.useEffect(()=>{a||(o(p2(e)),o(m2({width:n,height:r})),o(h2(i)))},[o,a,e,n,r,i]),null}function qV(t){var e=Xn();return $.useEffect(()=>{e(RV(t))},[e,t]),null}var HV=["children"];function WV(t,e){if(t==null)return{};var n,r,i=ZV(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(null,arguments)}var KV={width:"100%",height:"100%"},YV=$.forwardRef((t,e)=>{var n=K_(),r=Y_(),i=WM();if(!ap(n)||!ap(r))return null;var{children:o,otherAttributes:a,title:u,desc:f}=t,h,m;return typeof a.tabIndex=="number"?h=a.tabIndex:h=i?0:void 0,typeof a.role=="string"?m=a.role:m=i?"application":void 0,$.createElement(M_,Mp({},a,{title:u,desc:f,role:m,tabIndex:h,width:n,height:r,style:KV,ref:e}),o)}),JV=t=>{var{children:e}=t,n=kt(Qp);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return $.createElement(M_,{width:r,height:i,x:a,y:o},e)},RL=$.forwardRef((t,e)=>{var{children:n}=t,r=WV(t,HV),i=Hi();return i?$.createElement(JV,null,n):$.createElement(YV,Mp({ref:e},r),n)});function XV(){var t=Xn(),[e,n]=$.useState(null),r=kt(H2);return $.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;go(o)&&o!==r&&t(g2(o))}},[e,t,r]),n}function FL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(n),!0).forEach(function(r){eG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eG(t,e,n){return(e=tG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tG(t){var e=nG(t,"string");return typeof e=="symbol"?e:e+""}function nG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rG=$.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:m,onMouseMove:_,onMouseUp:E,onTouchEnd:S,onTouchMove:A,onTouchStart:I,style:N,width:z}=t,G=Xn(),[Z,X]=$.useState(null),[te,ne]=$.useState(null);Kz();var se=XV(),ke=$.useCallback(ve=>{se(ve),typeof e=="function"&&e(ve),X(ve),ne(ve)},[se,e,X,ne]),Le=$.useCallback(ve=>{G(GP(ve)),G(Fo({handler:o,reactEvent:ve}))},[G,o]),Pe=$.useCallback(ve=>{G(Yv(ve)),G(Fo({handler:h,reactEvent:ve}))},[G,h]),_e=$.useCallback(ve=>{G(UT()),G(Fo({handler:m,reactEvent:ve}))},[G,m]),Ne=$.useCallback(ve=>{G(Yv(ve)),G(Fo({handler:_,reactEvent:ve}))},[G,_]),qe=$.useCallback(()=>{G(YP())},[G]),Ke=$.useCallback(ve=>{G(KP(ve.key))},[G]),ht=$.useCallback(ve=>{G(Fo({handler:a,reactEvent:ve}))},[G,a]),Xe=$.useCallback(ve=>{G(Fo({handler:u,reactEvent:ve}))},[G,u]),it=$.useCallback(ve=>{G(Fo({handler:f,reactEvent:ve}))},[G,f]),Ie=$.useCallback(ve=>{G(Fo({handler:E,reactEvent:ve}))},[G,E]),nt=$.useCallback(ve=>{G(Fo({handler:I,reactEvent:ve}))},[G,I]),xe=$.useCallback(ve=>{G(XP(ve)),G(Fo({handler:A,reactEvent:ve}))},[G,A]),fe=$.useCallback(ve=>{G(Fo({handler:S,reactEvent:ve}))},[G,S]);return $.createElement(oP.Provider,{value:Z},$.createElement(zk.Provider,{value:te},$.createElement("div",{className:Ln("recharts-wrapper",r),style:QV({position:"relative",cursor:"default",width:z,height:i},N),onClick:Le,onContextMenu:ht,onDoubleClick:Xe,onFocus:qe,onKeyDown:Ke,onMouseDown:it,onMouseEnter:Pe,onMouseLeave:_e,onMouseMove:Ne,onMouseUp:Ie,onTouchEnd:fe,onTouchMove:xe,onTouchStart:nt,ref:ke},n)))}),iG=["children","className","width","height","style","compact","title","desc"];function oG(t,e){if(t==null)return{};var n,r,i=aG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sG=$.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:a,compact:u,title:f,desc:h}=t,m=oG(t,iG),_=An(m,!1);return u?$.createElement(RL,{otherAttributes:_,title:f,desc:h},n):$.createElement(rG,{className:r,style:a,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},$.createElement(RL,{otherAttributes:_,title:f,desc:h,ref:e},$.createElement(p$,null,n)))}),lG=["width","height"];function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jv.apply(null,arguments)}function uG(t,e){if(t==null)return{};var n,r,i=cG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dG={top:5,right:5,bottom:5,left:5},fG={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dG,reverseStackOrder:!1,syncMethod:"index"},e4=$.forwardRef(function(e,n){var r,i=$l(e.categoricalChartProps,fG),{width:o,height:a}=i,u=uG(i,lG);if(!ap(o)||!ap(a))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:_,categoricalChartProps:E}=e,S={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:_,eventEmitter:void 0};return $.createElement(VV,{preloadedState:{options:S},reduxStoreName:(r=E.id)!==null&&r!==void 0?r:f},$.createElement(i$,{chartData:E.data}),$.createElement(GV,{width:o,height:a,layout:i.layout,margin:i.margin}),$.createElement(qV,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),$.createElement(sG,Jv({},u,{width:o,height:a,ref:n})))}),hG=["axis","item"],pG=$.forwardRef((t,e)=>$.createElement(e4,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hG,tooltipPayloadSearcher:aP,categoricalChartProps:t,ref:e})),mG=["axis"],gG=$.forwardRef((t,e)=>$.createElement(e4,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mG,tooltipPayloadSearcher:aP,categoricalChartProps:t,ref:e}));const yG=({analysisData:t,theme:e})=>{const{t:n}=qi(),r=$.useMemo(()=>Object.entries(t).sort((i,o)=>Gi(i[0])-Gi(o[0])).map(([i,o])=>({name:i,totalVibrations:o.count,totalDuration:Math.round(o.duration_seconds_total)})),[t]);return V.jsx("div",{className:"w-full h-full p-4",children:V.jsx(dP,{width:"100%",height:"100%",children:V.jsxs(gG,{data:r,margin:{top:20,right:40,left:30,bottom:40},children:[V.jsx(tx,{strokeDasharray:"3 3",stroke:e.border,strokeOpacity:.5}),V.jsx(vm,{dataKey:"name",tick:{fill:e.text_secondary,fontSize:12},angle:-45,textAnchor:"end",height:60,interval:0,axisLine:{stroke:e.border},tickLine:{stroke:e.border}}),V.jsx(Sf,{yAxisId:"left",orientation:"left",stroke:e.accent_secondary,tick:{fill:e.text_secondary,fontSize:12},axisLine:{stroke:e.border},tickLine:{stroke:e.border},label:{value:n("totalVibrationYLabel"),angle:-90,position:"insideLeft",fill:e.text_secondary,dx:-20,fontSize:14}}),V.jsx(Sf,{yAxisId:"right",orientation:"right",stroke:e.accent_primary,tick:{fill:e.text_secondary,fontSize:12},axisLine:{stroke:e.border},tickLine:{stroke:e.border},label:{value:n("totalDurationYLabel"),angle:-90,position:"insideRight",fill:e.text_secondary,dx:30,fontSize:14}}),V.jsx(cP,{contentStyle:{backgroundColor:e.bg_primary,borderColor:e.border,color:e.text_primary,borderRadius:"0.5rem",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},labelStyle:{color:e.text_primary,fontWeight:"bold"},cursor:{fill:e.accent_primary,fillOpacity:.1},formatter:(i,o)=>o===n("totalDurationLegend")?[rD(i),o]:[i,o]}),V.jsx(Bf,{wrapperStyle:{color:e.text_primary,paddingTop:"30px"}}),V.jsx(Mf,{yAxisId:"left",dataKey:"totalVibrations",name:n("totalVibrationsLegend"),fill:e.accent_secondary,barSize:30,children:V.jsx(Ka,{dataKey:"totalVibrations",position:"top",fill:e.text_primary,fontSize:10})}),V.jsx(Mf,{yAxisId:"right",dataKey:"totalDuration",name:n("totalDurationLegend"),fill:e.accent_primary,barSize:30,children:V.jsx(Ka,{dataKey:"totalDuration",position:"top",fill:e.text_primary,fontSize:10,formatter:i=>nD(i)})})]})})})},vG=t=>{const{x:e,y:n,width:r,height:i,value:o,locale:a}=t;if(r<80)return null;const[u,f]=o,h={hour:"2-digit",minute:"2-digit",hour12:!1},m=new Date(u).toLocaleTimeString(a,h),_=new Date(f).toLocaleTimeString(a,h);return V.jsx("g",{children:V.jsx("text",{x:e+r/2,y:n+i/2,fill:"#fff",textAnchor:"middle",dominantBaseline:"middle",fontSize:10,fontWeight:"bold",children:`${m} - ${_}`})})},_G=({analysisData:t,theme:e})=>{const{t:n,language:r}=qi(),i=$.useMemo(()=>Object.entries(t).sort((f,h)=>Gi(f[0])-Gi(h[0])).map(([f,h])=>{if(!h.first_time_total||!h.last_time_total)return null;const m=h.first_time_total.getTime(),_=h.last_time_total.getTime();return{name:f,range:[m,_]}}).filter(f=>f!==null),[t]);if(i.length===0)return V.jsx("div",{className:"flex items-center justify-center h-full text-text-secondary",children:n("noChronoData")});const o=[Math.min(...i.map(f=>f.range[0])),Math.max(...i.map(f=>f.range[1]))],a=r==="fr"?"fr-FR":"en-GB",u=f=>new Date(f).toLocaleTimeString(a,{hour:"2-digit",minute:"2-digit"});return V.jsx("div",{className:"w-full h-full p-4",children:V.jsx(dP,{width:"100%",height:"100%",children:V.jsxs(pG,{layout:"vertical",data:i,margin:{top:5,right:30,left:20,bottom:20},children:[V.jsx(tx,{strokeDasharray:"3 3",stroke:e.border,strokeOpacity:.5}),V.jsx(vm,{type:"number",domain:o,scale:"time",tickFormatter:u,tick:{fill:e.text_secondary,fontSize:12},axisLine:{stroke:e.border},tickLine:{stroke:e.border}}),V.jsx(Sf,{type:"category",dataKey:"name",width:100,tick:{fill:e.text_secondary,fontSize:12},axisLine:{stroke:e.border},tickLine:{stroke:e.border},interval:0}),V.jsx(cP,{labelStyle:{color:e.accent_primary,fontWeight:"bold"},contentStyle:{backgroundColor:e.bg_primary,borderColor:e.border,color:e.text_primary,borderRadius:"0.5rem"},formatter:f=>{const[h,m]=f;return`${u(h)} - ${u(m)}`},cursor:{fill:e.accent_primary,fillOpacity:.1}}),V.jsx(Bf,{wrapperStyle:{color:e.text_primary,paddingTop:"15px"}}),V.jsx(Mf,{dataKey:"range",name:n("operationalRangeLegend"),fill:e.accent_primary,barSize:25,children:V.jsx(Ka,{dataKey:"range",content:V.jsx(vG,{locale:a})})})]})})})},xG=({analysisData:t,theme:e})=>{const[n,r]=$.useState("stats"),{t:i}=qi(),o=a=>{const u="relative flex items-center gap-2 rounded-full px-5 py-2 text-sm font-semibold transition-all duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary";return n===a?`${u} bg-accent-primary/15 text-accent-primary shadow-[0_12px_30px_-18px_rgba(37,99,235,0.45)]`:`${u} text-text-secondary hover:bg-bg-tertiary/70 hover:text-text-primary`};return V.jsxs("div",{className:"flex h-full flex-col overflow-hidden",children:[V.jsxs("div",{className:"flex flex-wrap items-center gap-3 border-b border-border-light/70 bg-bg-primary/70 px-6 py-4 backdrop-blur-sm",children:[V.jsxs("button",{className:o("stats"),onClick:()=>r("stats"),"aria-pressed":n==="stats",children:[V.jsx(RA,{size:16}),i("statistics")]}),V.jsxs("button",{className:o("chrono"),onClick:()=>r("chrono"),"aria-pressed":n==="chrono",children:[V.jsx(g3,{size:16}),i("chronology")]})]}),V.jsxs("div",{className:"flex-1 overflow-hidden bg-bg-secondary/40",children:[n==="stats"&&V.jsx(yG,{analysisData:t,theme:e}),n==="chrono"&&V.jsx(_G,{analysisData:t,theme:e})]})]})},bG=({isOpen:t,onClose:e,theme:n})=>{const{t:r}=qi();return t?V.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4 transition-opacity duration-300",children:[V.jsxs("div",{className:"bg-bg-tertiary/80 backdrop-blur-md text-text-primary rounded-lg shadow-2xl w-full max-w-4xl border border-border-color flex flex-col transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-scale",style:{height:"auto",maxHeight:"90vh"},children:[V.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border-color flex-shrink-0",children:[V.jsxs("h2",{className:"text-xl font-bold text-accent-primary flex items-center gap-2",children:[V.jsx(b_,{size:22}),r("aboutTitle")]}),V.jsx("button",{onClick:e,className:"text-text-secondary hover:text-text-primary transition-colors rounded-full p-1 focus:outline-none focus:ring-2 focus:ring-accent-primary",children:V.jsx(Af,{size:24})})]}),V.jsxs("div",{className:"p-6 flex-grow overflow-y-auto",children:[V.jsxs("div",{className:"mb-8 p-4 bg-bg-primary rounded-lg border border-border-color",children:[V.jsxs("div",{className:"flex items-center justify-center gap-2 md:gap-4 flex-wrap",children:[V.jsx("span",{className:"bg-bg-secondary text-text-secondary font-mono text-sm px-3 py-1 rounded",children:r("ddsi")}),V.jsx("span",{className:"text-text-secondary font-bold text-lg",children:""}),V.jsx("span",{className:"bg-bg-secondary text-text-secondary font-mono text-sm px-3 py-1 rounded",children:r("helpdesk")}),V.jsx("span",{className:"text-text-secondary font-bold text-lg",children:""}),V.jsx("span",{className:"bg-accent-primary/20 text-accent-primary font-mono text-sm px-3 py-1 rounded-md shadow-sm",children:"LEMMOUCHI"})]}),V.jsxs("div",{className:"mt-4 border-t border-border-color pt-4 flex flex-col md:flex-row items-center justify-center gap-x-6 gap-y-2 text-text-secondary font-mono text-sm",children:[V.jsxs("a",{href:"mailto:a-lemmouchi@enageo.com",className:"flex items-center gap-2 hover:text-accent-primary transition-colors",children:[V.jsx(_3,{size:14}),V.jsx("span",{children:"a-lemmouchi@enageo.com"})]}),V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx(k3,{size:14}),V.jsx("span",{children:"0561 65 03 36 / Ext. 2225"})]})]})]}),V.jsx("div",{className:"bg-bg-secondary p-6 rounded-md border border-border-color font-sans",children:V.jsxs("div",{className:"space-y-4 text-text-primary text-base leading-relaxed",children:[V.jsx("p",{children:r("about_p1")}),V.jsx("p",{children:r("about_p2")}),V.jsx("p",{children:r("about_p3")}),V.jsx("p",{children:r("about_p4")})]})})]}),V.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-border-color flex justify-between items-center bg-bg-primary rounded-b-lg",children:[V.jsxs("div",{className:"text-xs text-text-secondary italic flex items-center gap-2",children:[V.jsx(e3,{size:14}),V.jsx("span",{children:r("version")})]}),V.jsx("button",{onClick:e,className:"bg-accent-primary text-white font-bold py-2 px-8 rounded-md hover:opacity-90 transition-opacity",children:r("close")})]})]}),V.jsx("style",{children:`
        @keyframes fade-in-scale {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in-scale {
          animation: fade-in-scale 0.3s ease-out forwards;
        }
      `})]}):null};var an;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const a of i)o[a]=a;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),a={};for(const u of o)a[u]=i[u];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&o.push(a);return o},t.find=(i,o)=>{for(const a of i)if(o(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(an||(an={}));var zL;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(zL||(zL={}));const mt=an.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bl=t=>{switch(typeof t){case"undefined":return mt.undefined;case"string":return mt.string;case"number":return Number.isNaN(t)?mt.nan:mt.number;case"boolean":return mt.boolean;case"function":return mt.function;case"bigint":return mt.bigint;case"symbol":return mt.symbol;case"object":return Array.isArray(t)?mt.array:t===null?mt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?mt.promise:typeof Map<"u"&&t instanceof Map?mt.map:typeof Set<"u"&&t instanceof Set?mt.set:typeof Date<"u"&&t instanceof Date?mt.date:mt.object;default:return mt.unknown}},et=an.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class $s extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let u=r,f=0;for(;f<a.path.length;){const h=a.path[f];f===a.path.length-1?(u[h]=u[h]||{_errors:[]},u[h]._errors.push(n(a))):u[h]=u[h]||{_errors:[]},u=u[h],f++}}};return i(this),r}static assert(e){if(!(e instanceof $s))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,an.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const o=i.path[0];n[o]=n[o]||[],n[o].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}$s.create=t=>new $s(t);const Xv=(t,e)=>{let n;switch(t.code){case et.invalid_type:t.received===mt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case et.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,an.jsonStringifyReplacer)}`;break;case et.unrecognized_keys:n=`Unrecognized key(s) in object: ${an.joinValues(t.keys,", ")}`;break;case et.invalid_union:n="Invalid input";break;case et.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${an.joinValues(t.options)}`;break;case et.invalid_enum_value:n=`Invalid enum value. Expected ${an.joinValues(t.options)}, received '${t.received}'`;break;case et.invalid_arguments:n="Invalid function arguments";break;case et.invalid_return_type:n="Invalid function return type";break;case et.invalid_date:n="Invalid date";break;case et.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:an.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case et.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case et.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case et.custom:n="Invalid input";break;case et.invalid_intersection_types:n="Intersection results could not be merged";break;case et.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case et.not_finite:n="Number must be finite";break;default:n=e.defaultError,an.assertNever(t)}return{message:n}};let wG=Xv;function CG(){return wG}const LG=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],a={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let u="";const f=r.filter(h=>!!h).slice().reverse();for(const h of f)u=h(a,{data:e,defaultError:u}).message;return{...i,path:o,message:u}};function st(t,e){const n=CG(),r=LG({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Xv?void 0:Xv].filter(i=>!!i)});t.common.issues.push(r)}class yi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return $t;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,a=await i.value;r.push({key:o,value:a})}return yi.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:a}=i;if(o.status==="aborted"||a.status==="aborted")return $t;o.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[o.value]=a.value)}return{status:e.value,value:r}}}const $t=Object.freeze({status:"aborted"}),af=t=>({status:"dirty",value:t}),Wo=t=>({status:"valid",value:t}),jL=t=>t.status==="aborted",UL=t=>t.status==="dirty",id=t=>t.status==="valid",Sp=t=>typeof Promise<"u"&&t instanceof Promise;var wt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(wt||(wt={}));class es{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $L=(t,e)=>{if(id(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new $s(t.common.issues);return this._error=n,this._error}}};function qt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,u)=>{const{message:f}=t;return a.code==="invalid_enum_value"?{message:f??u.defaultError}:typeof u.data>"u"?{message:f??r??u.defaultError}:a.code!=="invalid_type"?{message:u.defaultError}:{message:f??n??u.defaultError}},description:i}}class en{get description(){return this._def.description}_getType(e){return Bl(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Bl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new yi,ctx:{common:e.parent.common,data:e.data,parsedType:Bl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Sp(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bl(e)},i=this._parseSync({data:e,path:r.path,parent:r});return $L(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bl(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return id(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(i=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>id(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bl(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(Sp(i)?i:Promise.resolve(i));return $L(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const a=e(i),u=()=>o.addIssue({code:et.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(f=>f?!0:(u(),!1)):a?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new sd({schema:this,typeName:Ut.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Fl.create(this,this._def)}nullable(){return ld.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ya.create(this)}promise(){return Ip.create(this,this._def)}or(e){return Pp.create([this,e],this._def)}and(e){return Ap.create(this,e,this._def)}transform(e){return new sd({...qt(this._def),schema:this,typeName:Ut.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new n_({...qt(this._def),innerType:this,defaultValue:n,typeName:Ut.ZodDefault})}brand(){return new WG({typeName:Ut.ZodBranded,type:this,...qt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new r_({...qt(this._def),innerType:this,catchValue:n,typeName:Ut.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ox.create(this,e)}readonly(){return i_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const EG=/^c[^\s-]{8,}$/i,kG=/^[0-9a-z]+$/,MG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,SG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TG=/^[a-z0-9_-]{21}$/i,PG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,AG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,DG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,IG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Yy;const OG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,BG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,NG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,RG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,t4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jG=new RegExp(`^${t4}$`);function n4(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function UG(t){return new RegExp(`^${n4(t)}$`)}function $G(t){let e=`${t4}T${n4(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function VG(t,e){return!!((e==="v4"||!e)&&OG.test(t)||(e==="v6"||!e)&&NG.test(t))}function GG(t,e){if(!PG.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function qG(t,e){return!!((e==="v4"||!e)&&BG.test(t)||(e==="v6"||!e)&&RG.test(t))}class Wa extends en{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==mt.string){const o=this._getOrReturnCtx(e);return st(o,{code:et.invalid_type,expected:mt.string,received:o.parsedType}),$t}const r=new yi;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),st(i,{code:et.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),st(i,{code:et.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const a=e.data.length>o.value,u=e.data.length<o.value;(a||u)&&(i=this._getOrReturnCtx(e,i),a?st(i,{code:et.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&st(i,{code:et.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")DG.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"email",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Yy||(Yy=new RegExp(IG,"u")),Yy.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"emoji",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")SG.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"uuid",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")TG.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"nanoid",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")EG.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"cuid",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")kG.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"cuid2",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")MG.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"ulid",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),st(i,{validation:"url",code:et.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"regex",code:et.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),st(i,{code:et.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),st(i,{code:et.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),st(i,{code:et.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?$G(o).test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{code:et.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?jG.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{code:et.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?UG(o).test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{code:et.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?AG.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"duration",code:et.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?VG(e.data,o.version)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"ip",code:et.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?GG(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"jwt",code:et.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?qG(e.data,o.version)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"cidr",code:et.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?FG.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"base64",code:et.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?zG.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"base64url",code:et.invalid_string,message:o.message}),r.dirty()):an.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:et.invalid_string,...wt.errToObj(r)})}_addCheck(e){return new Wa({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...wt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...wt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...wt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...wt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...wt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...wt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...wt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...wt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...wt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...wt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...wt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...wt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...wt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...wt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...wt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...wt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...wt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...wt.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...wt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...wt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...wt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...wt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...wt.errToObj(n)})}nonempty(e){return this.min(1,wt.errToObj(e))}trim(){return new Wa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Wa.create=t=>new Wa({checks:[],typeName:Ut.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...qt(t)});function HG(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return o%a/10**i}class Ju extends en{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==mt.number){const o=this._getOrReturnCtx(e);return st(o,{code:et.invalid_type,expected:mt.number,received:o.parsedType}),$t}let r;const i=new yi;for(const o of this._def.checks)o.kind==="int"?an.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),st(r,{code:et.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:et.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:et.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?HG(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),st(r,{code:et.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),st(r,{code:et.not_finite,message:o.message}),i.dirty()):an.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,wt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,wt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,wt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,wt.toString(n))}setLimit(e,n,r,i){return new Ju({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:wt.toString(i)}]})}_addCheck(e){return new Ju({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:wt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:wt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:wt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:wt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:wt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:wt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:wt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:wt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:wt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&an.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ju.create=t=>new Ju({checks:[],typeName:Ut.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...qt(t)});class Xu extends en{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==mt.bigint)return this._getInvalidInput(e);let r;const i=new yi;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:et.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:et.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),st(r,{code:et.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):an.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return st(n,{code:et.invalid_type,expected:mt.bigint,received:n.parsedType}),$t}gte(e,n){return this.setLimit("min",e,!0,wt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,wt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,wt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,wt.toString(n))}setLimit(e,n,r,i){return new Xu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:wt.toString(i)}]})}_addCheck(e){return new Xu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:wt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:wt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:wt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:wt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:wt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Xu.create=t=>new Xu({checks:[],typeName:Ut.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...qt(t)});class Tp extends en{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==mt.boolean){const r=this._getOrReturnCtx(e);return st(r,{code:et.invalid_type,expected:mt.boolean,received:r.parsedType}),$t}return Wo(e.data)}}Tp.create=t=>new Tp({typeName:Ut.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...qt(t)});class od extends en{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==mt.date){const o=this._getOrReturnCtx(e);return st(o,{code:et.invalid_type,expected:mt.date,received:o.parsedType}),$t}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return st(o,{code:et.invalid_date}),$t}const r=new yi;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),st(i,{code:et.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),st(i,{code:et.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):an.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new od({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:wt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:wt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}od.create=t=>new od({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ut.ZodDate,...qt(t)});class VL extends en{_parse(e){if(this._getType(e)!==mt.symbol){const r=this._getOrReturnCtx(e);return st(r,{code:et.invalid_type,expected:mt.symbol,received:r.parsedType}),$t}return Wo(e.data)}}VL.create=t=>new VL({typeName:Ut.ZodSymbol,...qt(t)});class GL extends en{_parse(e){if(this._getType(e)!==mt.undefined){const r=this._getOrReturnCtx(e);return st(r,{code:et.invalid_type,expected:mt.undefined,received:r.parsedType}),$t}return Wo(e.data)}}GL.create=t=>new GL({typeName:Ut.ZodUndefined,...qt(t)});class qL extends en{_parse(e){if(this._getType(e)!==mt.null){const r=this._getOrReturnCtx(e);return st(r,{code:et.invalid_type,expected:mt.null,received:r.parsedType}),$t}return Wo(e.data)}}qL.create=t=>new qL({typeName:Ut.ZodNull,...qt(t)});class HL extends en{constructor(){super(...arguments),this._any=!0}_parse(e){return Wo(e.data)}}HL.create=t=>new HL({typeName:Ut.ZodAny,...qt(t)});class Qv extends en{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Wo(e.data)}}Qv.create=t=>new Qv({typeName:Ut.ZodUnknown,...qt(t)});class jl extends en{_parse(e){const n=this._getOrReturnCtx(e);return st(n,{code:et.invalid_type,expected:mt.never,received:n.parsedType}),$t}}jl.create=t=>new jl({typeName:Ut.ZodNever,...qt(t)});class WL extends en{_parse(e){if(this._getType(e)!==mt.undefined){const r=this._getOrReturnCtx(e);return st(r,{code:et.invalid_type,expected:mt.void,received:r.parsedType}),$t}return Wo(e.data)}}WL.create=t=>new WL({typeName:Ut.ZodVoid,...qt(t)});class Ya extends en{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==mt.array)return st(n,{code:et.invalid_type,expected:mt.array,received:n.parsedType}),$t;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,u=n.data.length<i.exactLength.value;(a||u)&&(st(n,{code:a?et.too_big:et.too_small,minimum:u?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(st(n,{code:et.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(st(n,{code:et.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,u)=>i.type._parseAsync(new es(n,a,n.path,u)))).then(a=>yi.mergeArray(r,a));const o=[...n.data].map((a,u)=>i.type._parseSync(new es(n,a,n.path,u)));return yi.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new Ya({...this._def,minLength:{value:e,message:wt.toString(n)}})}max(e,n){return new Ya({...this._def,maxLength:{value:e,message:wt.toString(n)}})}length(e,n){return new Ya({...this._def,exactLength:{value:e,message:wt.toString(n)}})}nonempty(e){return this.min(1,e)}}Ya.create=(t,e)=>new Ya({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ut.ZodArray,...qt(e)});function $c(t){if(t instanceof ar){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Fl.create($c(r))}return new ar({...t._def,shape:()=>e})}else return t instanceof Ya?new Ya({...t._def,type:$c(t.element)}):t instanceof Fl?Fl.create($c(t.unwrap())):t instanceof ld?ld.create($c(t.unwrap())):t instanceof Qu?Qu.create(t.items.map(e=>$c(e))):t}class ar extends en{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=an.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==mt.object){const h=this._getOrReturnCtx(e);return st(h,{code:et.invalid_type,expected:mt.object,received:h.parsedType}),$t}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:a}=this._getCached(),u=[];if(!(this._def.catchall instanceof jl&&this._def.unknownKeys==="strip"))for(const h in i.data)a.includes(h)||u.push(h);const f=[];for(const h of a){const m=o[h],_=i.data[h];f.push({key:{status:"valid",value:h},value:m._parse(new es(i,_,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof jl){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of u)f.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(h==="strict")u.length>0&&(st(i,{code:et.unrecognized_keys,keys:u}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of u){const _=i.data[m];f.push({key:{status:"valid",value:m},value:h._parse(new es(i,_,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of f){const _=await m.key,E=await m.value;h.push({key:_,value:E,alwaysSet:m.alwaysSet})}return h}).then(h=>yi.mergeObjectSync(r,h)):yi.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return wt.errToObj,new ar({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,a;const i=((a=(o=this._def).errorMap)==null?void 0:a.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:wt.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ar({...this._def,unknownKeys:"strip"})}passthrough(){return new ar({...this._def,unknownKeys:"passthrough"})}extend(e){return new ar({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ar({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ut.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ar({...this._def,catchall:e})}pick(e){const n={};for(const r of an.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ar({...this._def,shape:()=>n})}omit(e){const n={};for(const r of an.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new ar({...this._def,shape:()=>n})}deepPartial(){return $c(this)}partial(e){const n={};for(const r of an.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new ar({...this._def,shape:()=>n})}required(e){const n={};for(const r of an.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Fl;)o=o._def.innerType;n[r]=o}return new ar({...this._def,shape:()=>n})}keyof(){return r4(an.objectKeys(this.shape))}}ar.create=(t,e)=>new ar({shape:()=>t,unknownKeys:"strip",catchall:jl.create(),typeName:Ut.ZodObject,...qt(e)});ar.strictCreate=(t,e)=>new ar({shape:()=>t,unknownKeys:"strict",catchall:jl.create(),typeName:Ut.ZodObject,...qt(e)});ar.lazycreate=(t,e)=>new ar({shape:t,unknownKeys:"strip",catchall:jl.create(),typeName:Ut.ZodObject,...qt(e)});class Pp extends en{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const a=o.map(u=>new $s(u.ctx.common.issues));return st(n,{code:et.invalid_union,unionErrors:a}),$t}if(n.common.async)return Promise.all(r.map(async o=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let o;const a=[];for(const f of r){const h={...n,common:{...n.common,issues:[]},parent:null},m=f._parseSync({data:n.data,path:n.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:h}),h.common.issues.length&&a.push(h.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const u=a.map(f=>new $s(f));return st(n,{code:et.invalid_union,unionErrors:u}),$t}}get options(){return this._def.options}}Pp.create=(t,e)=>new Pp({options:t,typeName:Ut.ZodUnion,...qt(e)});function e_(t,e){const n=Bl(t),r=Bl(e);if(t===e)return{valid:!0,data:t};if(n===mt.object&&r===mt.object){const i=an.objectKeys(e),o=an.objectKeys(t).filter(u=>i.indexOf(u)!==-1),a={...t,...e};for(const u of o){const f=e_(t[u],e[u]);if(!f.valid)return{valid:!1};a[u]=f.data}return{valid:!0,data:a}}else if(n===mt.array&&r===mt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const a=t[o],u=e[o],f=e_(a,u);if(!f.valid)return{valid:!1};i.push(f.data)}return{valid:!0,data:i}}else return n===mt.date&&r===mt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ap extends en{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,a)=>{if(jL(o)||jL(a))return $t;const u=e_(o.value,a.value);return u.valid?((UL(o)||UL(a))&&n.dirty(),{status:n.value,value:u.data}):(st(r,{code:et.invalid_intersection_types}),$t)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,a])=>i(o,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ap.create=(t,e,n)=>new Ap({left:t,right:e,typeName:Ut.ZodIntersection,...qt(n)});class Qu extends en{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==mt.array)return st(r,{code:et.invalid_type,expected:mt.array,received:r.parsedType}),$t;if(r.data.length<this._def.items.length)return st(r,{code:et.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$t;!this._def.rest&&r.data.length>this._def.items.length&&(st(r,{code:et.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((a,u)=>{const f=this._def.items[u]||this._def.rest;return f?f._parse(new es(r,a,r.path,u)):null}).filter(a=>!!a);return r.common.async?Promise.all(o).then(a=>yi.mergeArray(n,a)):yi.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Qu({...this._def,rest:e})}}Qu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qu({items:t,typeName:Ut.ZodTuple,rest:null,...qt(e)})};class Dp extends en{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==mt.object)return st(r,{code:et.invalid_type,expected:mt.object,received:r.parsedType}),$t;const i=[],o=this._def.keyType,a=this._def.valueType;for(const u in r.data)i.push({key:o._parse(new es(r,u,r.path,u)),value:a._parse(new es(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?yi.mergeObjectAsync(n,i):yi.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof en?new Dp({keyType:e,valueType:n,typeName:Ut.ZodRecord,...qt(r)}):new Dp({keyType:Wa.create(),valueType:e,typeName:Ut.ZodRecord,...qt(n)})}}class ZL extends en{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==mt.map)return st(r,{code:et.invalid_type,expected:mt.map,received:r.parsedType}),$t;const i=this._def.keyType,o=this._def.valueType,a=[...r.data.entries()].map(([u,f],h)=>({key:i._parse(new es(r,u,r.path,[h,"key"])),value:o._parse(new es(r,f,r.path,[h,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const f of a){const h=await f.key,m=await f.value;if(h.status==="aborted"||m.status==="aborted")return $t;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),u.set(h.value,m.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const f of a){const h=f.key,m=f.value;if(h.status==="aborted"||m.status==="aborted")return $t;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),u.set(h.value,m.value)}return{status:n.value,value:u}}}}ZL.create=(t,e,n)=>new ZL({valueType:e,keyType:t,typeName:Ut.ZodMap,...qt(n)});class Tf extends en{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==mt.set)return st(r,{code:et.invalid_type,expected:mt.set,received:r.parsedType}),$t;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(st(r,{code:et.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(st(r,{code:et.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function a(f){const h=new Set;for(const m of f){if(m.status==="aborted")return $t;m.status==="dirty"&&n.dirty(),h.add(m.value)}return{status:n.value,value:h}}const u=[...r.data.values()].map((f,h)=>o._parse(new es(r,f,r.path,h)));return r.common.async?Promise.all(u).then(f=>a(f)):a(u)}min(e,n){return new Tf({...this._def,minSize:{value:e,message:wt.toString(n)}})}max(e,n){return new Tf({...this._def,maxSize:{value:e,message:wt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Tf.create=(t,e)=>new Tf({valueType:t,minSize:null,maxSize:null,typeName:Ut.ZodSet,...qt(e)});class t_ extends en{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}t_.create=(t,e)=>new t_({getter:t,typeName:Ut.ZodLazy,...qt(e)});class KL extends en{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return st(n,{received:n.data,code:et.invalid_literal,expected:this._def.value}),$t}return{status:"valid",value:e.data}}get value(){return this._def.value}}KL.create=(t,e)=>new KL({value:t,typeName:Ut.ZodLiteral,...qt(e)});function r4(t,e){return new ad({values:t,typeName:Ut.ZodEnum,...qt(e)})}class ad extends en{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return st(n,{expected:an.joinValues(r),received:n.parsedType,code:et.invalid_type}),$t}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return st(n,{received:n.data,code:et.invalid_enum_value,options:r}),$t}return Wo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ad.create(e,{...this._def,...n})}exclude(e,n=this._def){return ad.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ad.create=r4;class YL extends en{_parse(e){const n=an.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==mt.string&&r.parsedType!==mt.number){const i=an.objectValues(n);return st(r,{expected:an.joinValues(i),received:r.parsedType,code:et.invalid_type}),$t}if(this._cache||(this._cache=new Set(an.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=an.objectValues(n);return st(r,{received:r.data,code:et.invalid_enum_value,options:i}),$t}return Wo(e.data)}get enum(){return this._def.values}}YL.create=(t,e)=>new YL({values:t,typeName:Ut.ZodNativeEnum,...qt(e)});class Ip extends en{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==mt.promise&&n.common.async===!1)return st(n,{code:et.invalid_type,expected:mt.promise,received:n.parsedType}),$t;const r=n.parsedType===mt.promise?n.data:Promise.resolve(n.data);return Wo(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ip.create=(t,e)=>new Ip({type:t,typeName:Ut.ZodPromise,...qt(e)});class sd extends en{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ut.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:a=>{st(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const a=i.transform(r.data,o);if(r.common.async)return Promise.resolve(a).then(async u=>{if(n.value==="aborted")return $t;const f=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return f.status==="aborted"?$t:f.status==="dirty"||n.value==="dirty"?af(f.value):f});{if(n.value==="aborted")return $t;const u=this._def.schema._parseSync({data:a,path:r.path,parent:r});return u.status==="aborted"?$t:u.status==="dirty"||n.value==="dirty"?af(u.value):u}}if(i.type==="refinement"){const a=u=>{const f=i.refinement(u,o);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?$t:(u.status==="dirty"&&n.dirty(),a(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?$t:(u.status==="dirty"&&n.dirty(),a(u.value).then(()=>({status:n.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!id(a))return $t;const u=i.transform(a.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>id(a)?Promise.resolve(i.transform(a.value,o)).then(u=>({status:n.value,value:u})):$t);an.assertNever(i)}}sd.create=(t,e,n)=>new sd({schema:t,typeName:Ut.ZodEffects,effect:e,...qt(n)});sd.createWithPreprocess=(t,e,n)=>new sd({schema:e,effect:{type:"preprocess",transform:t},typeName:Ut.ZodEffects,...qt(n)});class Fl extends en{_parse(e){return this._getType(e)===mt.undefined?Wo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fl.create=(t,e)=>new Fl({innerType:t,typeName:Ut.ZodOptional,...qt(e)});class ld extends en{_parse(e){return this._getType(e)===mt.null?Wo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ld.create=(t,e)=>new ld({innerType:t,typeName:Ut.ZodNullable,...qt(e)});class n_ extends en{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===mt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}n_.create=(t,e)=>new n_({innerType:t,typeName:Ut.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...qt(e)});class r_ extends en{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Sp(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new $s(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $s(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}r_.create=(t,e)=>new r_({innerType:t,typeName:Ut.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...qt(e)});class JL extends en{_parse(e){if(this._getType(e)!==mt.nan){const r=this._getOrReturnCtx(e);return st(r,{code:et.invalid_type,expected:mt.nan,received:r.parsedType}),$t}return{status:"valid",value:e.data}}}JL.create=t=>new JL({typeName:Ut.ZodNaN,...qt(t)});class WG extends en{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ox extends en{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?$t:o.status==="dirty"?(n.dirty(),af(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?$t:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new ox({in:e,out:n,typeName:Ut.ZodPipeline})}}class i_ extends en{_parse(e){const n=this._def.innerType._parse(e),r=i=>(id(i)&&(i.value=Object.freeze(i.value)),i);return Sp(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}i_.create=(t,e)=>new i_({innerType:t,typeName:Ut.ZodReadonly,...qt(e)});var Ut;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ut||(Ut={}));const Du=Wa.create,XL=Ju.create;Xu.create;const ZG=Tp.create;od.create;const QL=Qv.create;jl.create;const sf=Ya.create,KG=ar.create,YG=Pp.create;Ap.create;Qu.create;const JG=Dp.create,XG=t_.create,QG=ad.create;Ip.create;Fl.create;ld.create;const Uc={string:t=>Wa.create({...t,coerce:!0}),number:t=>Ju.create({...t,coerce:!0}),boolean:t=>Tp.create({...t,coerce:!0}),bigint:t=>Xu.create({...t,coerce:!0}),date:t=>od.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let e9,t9;function n9(){return{geminiUrl:e9,vertexUrl:t9}}function r9(t,e,n){var r,i,o;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const a=n9();return t.vertexai?(i=a.vertexUrl)!==null&&i!==void 0?i:e:(o=a.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hf{}function Ft(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let h=0;h<f.length;h++){const m=f[h];w(m,e.slice(o+1),n[h])}else for(const h of f)w(h,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];w(f[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function b(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(a=>b(a,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var eE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(eE||(eE={}));var tE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(tE||(tE={}));var nE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(nE||(nE={}));var rE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(rE||(rE={}));var iE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(iE||(iE={}));var Ga;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(Ga||(Ga={}));var oE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(oE||(oE={}));var aE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(aE||(aE={}));var sE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY"})(sE||(sE={}));var lE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(lE||(lE={}));var uE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(uE||(uE={}));var cE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(cE||(cE={}));var dE;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(dE||(dE={}));var Op;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Op||(Op={}));var fE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(fE||(fE={}));var o_;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(o_||(o_={}));var hE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hE||(hE={}));var pE;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(pE||(pE={}));var mE;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(mE||(mE={}));var gE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(gE||(gE={}));var yE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(yE||(yE={}));var vE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(vE||(vE={}));var _E;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(_E||(_E={}));var xE;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(xE||(xE={}));var bE;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(bE||(bE={}));var wE;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wE||(wE={}));var CE;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(CE||(CE={}));var LE;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(LE||(LE={}));var EE;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(EE||(EE={}));var kE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(kE||(kE={}));var ME;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(ME||(ME={}));var SE;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(SE||(SE={}));var TE;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(TE||(TE={}));var PE;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(PE||(PE={}));var AE;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(AE||(AE={}));var DE;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(DE||(DE={}));var IE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(IE||(IE={}));var OE;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(OE||(OE={}));var BE;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY"})(BE||(BE={}));var qc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(qc||(qc={}));class tf{get text(){var e,n,r,i,o,a,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",m=!1;const _=[];for(const E of(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[S,A]of Object.entries(E))S!=="text"&&S!=="thought"&&(A!==null||A!==void 0)&&_.push(S);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;m=!0,h+=E.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?h:void 0}get data(){var e,n,r,i,o,a,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const m=[];for(const _ of(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[E,S]of Object.entries(_))E!=="inlineData"&&(S!==null||S!==void 0)&&m.push(E);_.inlineData&&typeof _.inlineData.data=="string"&&(h+=atob(_.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,r,i,o,a,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,r,i,o,a,u,f,h;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((m==null?void 0:m.length)!==0)return(h=m==null?void 0:m[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,r,i,o,a,u,f,h;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((m==null?void 0:m.length)!==0)return(h=m==null?void 0:m[0])===null||h===void 0?void 0:h.output}}class NE{}class RE{}class i9{}class o9{}class FE{}class zE{}class jE{}class a9{}class UE{}class $E{}class VE{}class s9{}class a_{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class l9{}class u9{}class c9{get text(){var e,n,r;let i="",o=!1;const a=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,h]of Object.entries(u))f!=="text"&&f!=="thought"&&h!==null&&a.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(a))u!=="inlineData"&&f!==null&&o.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class d9{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function i4(t,e){const n=Sn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function o4(t,e){return Array.isArray(e)?e.map(n=>Bp(t,n)):[Bp(t,e)]}function Bp(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function f9(t,e){const n=Bp(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function h9(t,e){const n=Bp(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function GE(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function a4(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>GE(t,n)):[GE(t,e)]}function s_(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function qE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function HE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Vi(t,e){if(e==null)throw new Error("ContentUnion is required");return s_(e)?e:{role:"user",parts:a4(t,e)}}function s4(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Vi(t,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Vi(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Vi(t,n)):[Vi(t,e)]}function ya(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(qE(e)||HE(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Vi(t,e)]}const n=[],r=[],i=s_(e[0]);for(const o of e){const a=s_(o);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)n.push(o);else{if(qE(o)||HE(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(o)}}return i||n.push({role:"user",parts:a4(t,r)}),n}const WE=QG(["string","number","integer","object","array","boolean","null"]),p9=YG([WE,sf(WE)]);function m9(t=!0){const e=XG(()=>{const n=KG({type:p9.optional(),format:Du().optional(),title:Du().optional(),description:Du().optional(),default:QL().optional(),items:e.optional(),minItems:Uc.string().optional(),maxItems:Uc.string().optional(),enum:sf(QL()).optional(),properties:JG(Du(),e).optional(),required:sf(Du()).optional(),minProperties:Uc.string().optional(),maxProperties:Uc.string().optional(),propertyOrdering:sf(Du()).optional(),minimum:XL().optional(),maximum:XL().optional(),minLength:Uc.string().optional(),maxLength:Uc.string().optional(),pattern:Du().optional(),anyOf:sf(e).optional(),additionalProperties:ZG().optional()});return t?n.strict():n});return e}function g9(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.keys(Ga).includes(n[0].toUpperCase())?Ga[n[0].toUpperCase()]:Ga.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.keys(Ga).includes(r.toUpperCase())?Ga[r.toUpperCase()]:Ga.TYPE_UNSPECIFIED})}}function hf(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&g9(t.type,e);for(const[a,u]of Object.entries(t))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.keys(Ga).includes(u.toUpperCase())?u.toUpperCase():Ga.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=hf(u);else if(r.includes(a)){const f=[];for(const h of u){if(h.type=="null"){e.nullable=!0;continue}f.push(hf(h))}e[a]=f}else if(i.includes(a)){const f={};for(const[h,m]of Object.entries(u))f[h]=hf(m);e[a]=f}else{if(a==="additionalProperties")continue;e[a]=u}return e}function Np(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const n=m9().parse(e);return hf(n)}else return hf(e)}function l4(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function u4(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function _m(t,e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(n.parameters=Np(t,n.parameters)),n.response&&(n.response=Np(t,n.response));return e}function xm(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const r of e)n.push(r);return n}function y9(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Wl(t,e){if(typeof e!="string")throw new Error("name must be a string");return y9(t,e,"cachedContents")}function c4(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Zl(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function v9(t){return t!=null&&typeof t=="object"&&"name"in t}function _9(t){return t!=null&&typeof t=="object"&&"video"in t}function x9(t){return t!=null&&typeof t=="object"&&"uri"in t}function d4(t,e){var n;let r;if(v9(e)&&(r=e.name),!(x9(e)&&(r=e.uri,r===void 0))&&!(_9(e)&&(r=(n=e.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const o=r.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${r}`);r=o[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function f4(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function h4(t,e){for(const n of["models","tunedModels","publisherModels"])if(b9(e,n))return e[n];return[]}function b9(t,e){return t!==null&&typeof t=="object"&&e in t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w9(t,e){const n={},r=b(e,["fps"]);r!=null&&w(n,["fps"],r);const i=b(e,["endOffset"]);i!=null&&w(n,["endOffset"],i);const o=b(e,["startOffset"]);return o!=null&&w(n,["startOffset"],o),n}function C9(t,e){const n={};if(b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(e,["data"]);r!=null&&w(n,["data"],r);const i=b(e,["mimeType"]);return i!=null&&w(n,["mimeType"],i),n}function L9(t,e){const n={},r=b(e,["videoMetadata"]);r!=null&&w(n,["videoMetadata"],w9(t,r));const i=b(e,["thought"]);i!=null&&w(n,["thought"],i);const o=b(e,["inlineData"]);o!=null&&w(n,["inlineData"],C9(t,o));const a=b(e,["codeExecutionResult"]);a!=null&&w(n,["codeExecutionResult"],a);const u=b(e,["executableCode"]);u!=null&&w(n,["executableCode"],u);const f=b(e,["fileData"]);f!=null&&w(n,["fileData"],f);const h=b(e,["functionCall"]);h!=null&&w(n,["functionCall"],h);const m=b(e,["functionResponse"]);m!=null&&w(n,["functionResponse"],m);const _=b(e,["text"]);return _!=null&&w(n,["text"],_),n}function ZE(t,e){const n={},r=b(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>L9(t,a))),w(n,["parts"],o)}const i=b(e,["role"]);return i!=null&&w(n,["role"],i),n}function E9(t,e){const n={},r=b(e,["behavior"]);r!=null&&w(n,["behavior"],r);const i=b(e,["description"]);i!=null&&w(n,["description"],i);const o=b(e,["name"]);o!=null&&w(n,["name"],o);const a=b(e,["parameters"]);a!=null&&w(n,["parameters"],a);const u=b(e,["response"]);return u!=null&&w(n,["response"],u),n}function k9(t,e){const n={},r=b(e,["startTime"]);r!=null&&w(n,["startTime"],r);const i=b(e,["endTime"]);return i!=null&&w(n,["endTime"],i),n}function M9(t,e){const n={},r=b(e,["timeRangeFilter"]);return r!=null&&w(n,["timeRangeFilter"],k9(t,r)),n}function S9(t,e){const n={},r=b(e,["mode"]);r!=null&&w(n,["mode"],r);const i=b(e,["dynamicThreshold"]);return i!=null&&w(n,["dynamicThreshold"],i),n}function T9(t,e){const n={},r=b(e,["dynamicRetrievalConfig"]);return r!=null&&w(n,["dynamicRetrievalConfig"],S9(t,r)),n}function P9(){return{}}function A9(t,e){const n={},r=b(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>E9(t,h))),w(n,["functionDeclarations"],f)}if(b(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=b(e,["googleSearch"]);i!=null&&w(n,["googleSearch"],M9(t,i));const o=b(e,["googleSearchRetrieval"]);if(o!=null&&w(n,["googleSearchRetrieval"],T9(t,o)),b(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(b(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");b(e,["urlContext"])!=null&&w(n,["urlContext"],P9());const u=b(e,["codeExecution"]);return u!=null&&w(n,["codeExecution"],u),n}function D9(t,e){const n={},r=b(e,["mode"]);r!=null&&w(n,["mode"],r);const i=b(e,["allowedFunctionNames"]);return i!=null&&w(n,["allowedFunctionNames"],i),n}function I9(t,e){const n={},r=b(e,["latitude"]);r!=null&&w(n,["latitude"],r);const i=b(e,["longitude"]);return i!=null&&w(n,["longitude"],i),n}function O9(t,e){const n={},r=b(e,["latLng"]);return r!=null&&w(n,["latLng"],I9(t,r)),n}function B9(t,e){const n={},r=b(e,["functionCallingConfig"]);r!=null&&w(n,["functionCallingConfig"],D9(t,r));const i=b(e,["retrievalConfig"]);return i!=null&&w(n,["retrievalConfig"],O9(t,i)),n}function N9(t,e,n){const r={},i=b(e,["ttl"]);n!==void 0&&i!=null&&w(n,["ttl"],i);const o=b(e,["expireTime"]);n!==void 0&&o!=null&&w(n,["expireTime"],o);const a=b(e,["displayName"]);n!==void 0&&a!=null&&w(n,["displayName"],a);const u=b(e,["contents"]);if(n!==void 0&&u!=null){let _=ya(t,u);Array.isArray(_)&&(_=_.map(E=>ZE(t,E))),w(n,["contents"],_)}const f=b(e,["systemInstruction"]);n!==void 0&&f!=null&&w(n,["systemInstruction"],ZE(t,Vi(t,f)));const h=b(e,["tools"]);if(n!==void 0&&h!=null){let _=h;Array.isArray(_)&&(_=_.map(E=>A9(t,E))),w(n,["tools"],_)}const m=b(e,["toolConfig"]);if(n!==void 0&&m!=null&&w(n,["toolConfig"],B9(t,m)),b(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function R9(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["model"],i4(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],N9(t,i,n)),n}function F9(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["_url","name"],Wl(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function z9(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["_url","name"],Wl(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function j9(t,e,n){const r={},i=b(e,["ttl"]);n!==void 0&&i!=null&&w(n,["ttl"],i);const o=b(e,["expireTime"]);return n!==void 0&&o!=null&&w(n,["expireTime"],o),r}function U9(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["_url","name"],Wl(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],j9(t,i,n)),n}function $9(t,e,n){const r={},i=b(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const o=b(e,["pageToken"]);return n!==void 0&&o!=null&&w(n,["_query","pageToken"],o),r}function V9(t,e){const n={},r=b(e,["config"]);return r!=null&&w(n,["config"],$9(t,r,n)),n}function G9(t,e){const n={},r=b(e,["fps"]);r!=null&&w(n,["fps"],r);const i=b(e,["endOffset"]);i!=null&&w(n,["endOffset"],i);const o=b(e,["startOffset"]);return o!=null&&w(n,["startOffset"],o),n}function q9(t,e){const n={},r=b(e,["displayName"]);r!=null&&w(n,["displayName"],r);const i=b(e,["data"]);i!=null&&w(n,["data"],i);const o=b(e,["mimeType"]);return o!=null&&w(n,["mimeType"],o),n}function H9(t,e){const n={},r=b(e,["videoMetadata"]);r!=null&&w(n,["videoMetadata"],G9(t,r));const i=b(e,["thought"]);i!=null&&w(n,["thought"],i);const o=b(e,["inlineData"]);o!=null&&w(n,["inlineData"],q9(t,o));const a=b(e,["codeExecutionResult"]);a!=null&&w(n,["codeExecutionResult"],a);const u=b(e,["executableCode"]);u!=null&&w(n,["executableCode"],u);const f=b(e,["fileData"]);f!=null&&w(n,["fileData"],f);const h=b(e,["functionCall"]);h!=null&&w(n,["functionCall"],h);const m=b(e,["functionResponse"]);m!=null&&w(n,["functionResponse"],m);const _=b(e,["text"]);return _!=null&&w(n,["text"],_),n}function KE(t,e){const n={},r=b(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>H9(t,a))),w(n,["parts"],o)}const i=b(e,["role"]);return i!=null&&w(n,["role"],i),n}function W9(t,e){const n={};if(b(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=b(e,["description"]);r!=null&&w(n,["description"],r);const i=b(e,["name"]);i!=null&&w(n,["name"],i);const o=b(e,["parameters"]);o!=null&&w(n,["parameters"],o);const a=b(e,["response"]);return a!=null&&w(n,["response"],a),n}function Z9(t,e){const n={},r=b(e,["startTime"]);r!=null&&w(n,["startTime"],r);const i=b(e,["endTime"]);return i!=null&&w(n,["endTime"],i),n}function K9(t,e){const n={},r=b(e,["timeRangeFilter"]);return r!=null&&w(n,["timeRangeFilter"],Z9(t,r)),n}function Y9(t,e){const n={},r=b(e,["mode"]);r!=null&&w(n,["mode"],r);const i=b(e,["dynamicThreshold"]);return i!=null&&w(n,["dynamicThreshold"],i),n}function J9(t,e){const n={},r=b(e,["dynamicRetrievalConfig"]);return r!=null&&w(n,["dynamicRetrievalConfig"],Y9(t,r)),n}function X9(){return{}}function Q9(t,e){const n={},r=b(e,["apiKeyString"]);return r!=null&&w(n,["apiKeyString"],r),n}function e7(t,e){const n={},r=b(e,["apiKeyConfig"]);r!=null&&w(n,["apiKeyConfig"],Q9(t,r));const i=b(e,["authType"]);i!=null&&w(n,["authType"],i);const o=b(e,["googleServiceAccountConfig"]);o!=null&&w(n,["googleServiceAccountConfig"],o);const a=b(e,["httpBasicAuthConfig"]);a!=null&&w(n,["httpBasicAuthConfig"],a);const u=b(e,["oauthConfig"]);u!=null&&w(n,["oauthConfig"],u);const f=b(e,["oidcConfig"]);return f!=null&&w(n,["oidcConfig"],f),n}function t7(t,e){const n={},r=b(e,["authConfig"]);return r!=null&&w(n,["authConfig"],e7(t,r)),n}function n7(t,e){const n={},r=b(e,["functionDeclarations"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(_=>W9(t,_))),w(n,["functionDeclarations"],m)}const i=b(e,["retrieval"]);i!=null&&w(n,["retrieval"],i);const o=b(e,["googleSearch"]);o!=null&&w(n,["googleSearch"],K9(t,o));const a=b(e,["googleSearchRetrieval"]);a!=null&&w(n,["googleSearchRetrieval"],J9(t,a)),b(e,["enterpriseWebSearch"])!=null&&w(n,["enterpriseWebSearch"],X9());const f=b(e,["googleMaps"]);if(f!=null&&w(n,["googleMaps"],t7(t,f)),b(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const h=b(e,["codeExecution"]);return h!=null&&w(n,["codeExecution"],h),n}function r7(t,e){const n={},r=b(e,["mode"]);r!=null&&w(n,["mode"],r);const i=b(e,["allowedFunctionNames"]);return i!=null&&w(n,["allowedFunctionNames"],i),n}function i7(t,e){const n={},r=b(e,["latitude"]);r!=null&&w(n,["latitude"],r);const i=b(e,["longitude"]);return i!=null&&w(n,["longitude"],i),n}function o7(t,e){const n={},r=b(e,["latLng"]);return r!=null&&w(n,["latLng"],i7(t,r)),n}function a7(t,e){const n={},r=b(e,["functionCallingConfig"]);r!=null&&w(n,["functionCallingConfig"],r7(t,r));const i=b(e,["retrievalConfig"]);return i!=null&&w(n,["retrievalConfig"],o7(t,i)),n}function s7(t,e,n){const r={},i=b(e,["ttl"]);n!==void 0&&i!=null&&w(n,["ttl"],i);const o=b(e,["expireTime"]);n!==void 0&&o!=null&&w(n,["expireTime"],o);const a=b(e,["displayName"]);n!==void 0&&a!=null&&w(n,["displayName"],a);const u=b(e,["contents"]);if(n!==void 0&&u!=null){let E=ya(t,u);Array.isArray(E)&&(E=E.map(S=>KE(t,S))),w(n,["contents"],E)}const f=b(e,["systemInstruction"]);n!==void 0&&f!=null&&w(n,["systemInstruction"],KE(t,Vi(t,f)));const h=b(e,["tools"]);if(n!==void 0&&h!=null){let E=h;Array.isArray(E)&&(E=E.map(S=>n7(t,S))),w(n,["tools"],E)}const m=b(e,["toolConfig"]);n!==void 0&&m!=null&&w(n,["toolConfig"],a7(t,m));const _=b(e,["kmsKeyName"]);return n!==void 0&&_!=null&&w(n,["encryption_spec","kmsKeyName"],_),r}function l7(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["model"],i4(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],s7(t,i,n)),n}function u7(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["_url","name"],Wl(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function c7(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["_url","name"],Wl(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function d7(t,e,n){const r={},i=b(e,["ttl"]);n!==void 0&&i!=null&&w(n,["ttl"],i);const o=b(e,["expireTime"]);return n!==void 0&&o!=null&&w(n,["expireTime"],o),r}function f7(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["_url","name"],Wl(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],d7(t,i,n)),n}function h7(t,e,n){const r={},i=b(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const o=b(e,["pageToken"]);return n!==void 0&&o!=null&&w(n,["_query","pageToken"],o),r}function p7(t,e){const n={},r=b(e,["config"]);return r!=null&&w(n,["config"],h7(t,r,n)),n}function jh(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["name"],r);const i=b(e,["displayName"]);i!=null&&w(n,["displayName"],i);const o=b(e,["model"]);o!=null&&w(n,["model"],o);const a=b(e,["createTime"]);a!=null&&w(n,["createTime"],a);const u=b(e,["updateTime"]);u!=null&&w(n,["updateTime"],u);const f=b(e,["expireTime"]);f!=null&&w(n,["expireTime"],f);const h=b(e,["usageMetadata"]);return h!=null&&w(n,["usageMetadata"],h),n}function m7(){return{}}function g7(t,e){const n={},r=b(e,["nextPageToken"]);r!=null&&w(n,["nextPageToken"],r);const i=b(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>jh(t,a))),w(n,["cachedContents"],o)}return n}function Uh(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["name"],r);const i=b(e,["displayName"]);i!=null&&w(n,["displayName"],i);const o=b(e,["model"]);o!=null&&w(n,["model"],o);const a=b(e,["createTime"]);a!=null&&w(n,["createTime"],a);const u=b(e,["updateTime"]);u!=null&&w(n,["updateTime"],u);const f=b(e,["expireTime"]);f!=null&&w(n,["expireTime"],f);const h=b(e,["usageMetadata"]);return h!=null&&w(n,["usageMetadata"],h),n}function y7(){return{}}function v7(t,e){const n={},r=b(e,["nextPageToken"]);r!=null&&w(n,["nextPageToken"],r);const i=b(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Uh(t,a))),w(n,["cachedContents"],o)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ud;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ud||(ud={}));class bm{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let a={config:{}};r?typeof r=="object"?a=Object.assign({},r):a=r:a={config:{}},a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _7 extends Hf{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bm(ud.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=l7(this.apiClient,e);return u=Ft("cachedContents",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>Uh(this.apiClient,m))}else{const h=R9(this.apiClient,e);return u=Ft("cachedContents",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>jh(this.apiClient,m))}}async get(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=u7(this.apiClient,e);return u=Ft("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>Uh(this.apiClient,m))}else{const h=F9(this.apiClient,e);return u=Ft("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>jh(this.apiClient,m))}}async delete(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=c7(this.apiClient,e);return u=Ft("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(()=>{const m=y7(),_=new $E;return Object.assign(_,m),_})}else{const h=z9(this.apiClient,e);return u=Ft("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(()=>{const m=m7(),_=new $E;return Object.assign(_,m),_})}}async update(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=f7(this.apiClient,e);return u=Ft("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>Uh(this.apiClient,m))}else{const h=U9(this.apiClient,e);return u=Ft("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>jh(this.apiClient,m))}}async listInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=p7(this.apiClient,e);return u=Ft("cachedContents",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>{const _=v7(this.apiClient,m),E=new VE;return Object.assign(E,_),E})}else{const h=V9(this.apiClient,e);return u=Ft("cachedContents",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const _=g7(this.apiClient,m),E=new VE;return Object.assign(E,_),E})}}}function YE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nn(t){return this instanceof Nn?(this.v=t,this):new Nn(t)}function pf(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(S){return function(A){return Promise.resolve(A).then(S,_)}}function u(S,A){r[S]&&(i[S]=function(I){return new Promise(function(N,z){o.push([S,I,N,z])>1||f(S,I)})},A&&(i[S]=A(i[S])))}function f(S,A){try{h(r[S](A))}catch(I){E(o[0][3],I)}}function h(S){S.value instanceof Nn?Promise.resolve(S.value.v).then(m,_):E(o[0][2],S)}function m(S){f("next",S)}function _(S){f("throw",S)}function E(S,A){S(A),o.shift(),o.length&&f(o[0][0],o[0][1])}}function $h(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof YE=="function"?YE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(u,f){a=t[o](a),i(u,f,a.done,a.value)})}}function i(o,a,u,f){Promise.resolve(f).then(function(h){o({value:h,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x7(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:p4(n)}function p4(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function b7(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function JE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!p4(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class w7{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new C7(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class C7{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),b7(o)}async sendMessage(e){var n;await this.sendPromise;const r=Vi(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,u;const f=await i,h=(a=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,m=f.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let E=[];m!=null&&(E=(u=m.slice(_))!==null&&u!==void 0?u:[]);const S=h?[h]:[];this.recordHistory(r,S,E)})(),await this.sendPromise,i}async sendMessageStream(e){var n;await this.sendPromise;const r=Vi(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?JE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return pf(this,arguments,function*(){var a,u,f,h;const m=[];try{for(var _=!0,E=$h(e),S;S=yield Nn(E.next()),a=S.done,!a;_=!0){h=S.value,_=!1;const A=h;if(x7(A)){const I=(i=(r=A.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;I!==void 0&&m.push(I)}yield yield Nn(A)}}catch(A){u={error:A}}finally{try{!_&&!a&&(f=E.return)&&(yield Nn(f.call(E)))}finally{if(u)throw u.error}}this.recordHistory(n,m)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...JE(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L7(t,e,n){const r={},i=b(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const o=b(e,["pageToken"]);return n!==void 0&&o!=null&&w(n,["_query","pageToken"],o),r}function E7(t,e){const n={},r=b(e,["config"]);return r!=null&&w(n,["config"],L7(t,r,n)),n}function k7(t,e){const n={},r=b(e,["details"]);r!=null&&w(n,["details"],r);const i=b(e,["message"]);i!=null&&w(n,["message"],i);const o=b(e,["code"]);return o!=null&&w(n,["code"],o),n}function M7(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["name"],r);const i=b(e,["displayName"]);i!=null&&w(n,["displayName"],i);const o=b(e,["mimeType"]);o!=null&&w(n,["mimeType"],o);const a=b(e,["sizeBytes"]);a!=null&&w(n,["sizeBytes"],a);const u=b(e,["createTime"]);u!=null&&w(n,["createTime"],u);const f=b(e,["expirationTime"]);f!=null&&w(n,["expirationTime"],f);const h=b(e,["updateTime"]);h!=null&&w(n,["updateTime"],h);const m=b(e,["sha256Hash"]);m!=null&&w(n,["sha256Hash"],m);const _=b(e,["uri"]);_!=null&&w(n,["uri"],_);const E=b(e,["downloadUri"]);E!=null&&w(n,["downloadUri"],E);const S=b(e,["state"]);S!=null&&w(n,["state"],S);const A=b(e,["source"]);A!=null&&w(n,["source"],A);const I=b(e,["videoMetadata"]);I!=null&&w(n,["videoMetadata"],I);const N=b(e,["error"]);return N!=null&&w(n,["error"],k7(t,N)),n}function S7(t,e){const n={},r=b(e,["file"]);r!=null&&w(n,["file"],M7(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function T7(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["_url","file"],d4(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function P7(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["_url","file"],d4(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function A7(t,e){const n={},r=b(e,["details"]);r!=null&&w(n,["details"],r);const i=b(e,["message"]);i!=null&&w(n,["message"],i);const o=b(e,["code"]);return o!=null&&w(n,["code"],o),n}function l_(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["name"],r);const i=b(e,["displayName"]);i!=null&&w(n,["displayName"],i);const o=b(e,["mimeType"]);o!=null&&w(n,["mimeType"],o);const a=b(e,["sizeBytes"]);a!=null&&w(n,["sizeBytes"],a);const u=b(e,["createTime"]);u!=null&&w(n,["createTime"],u);const f=b(e,["expirationTime"]);f!=null&&w(n,["expirationTime"],f);const h=b(e,["updateTime"]);h!=null&&w(n,["updateTime"],h);const m=b(e,["sha256Hash"]);m!=null&&w(n,["sha256Hash"],m);const _=b(e,["uri"]);_!=null&&w(n,["uri"],_);const E=b(e,["downloadUri"]);E!=null&&w(n,["downloadUri"],E);const S=b(e,["state"]);S!=null&&w(n,["state"],S);const A=b(e,["source"]);A!=null&&w(n,["source"],A);const I=b(e,["videoMetadata"]);I!=null&&w(n,["videoMetadata"],I);const N=b(e,["error"]);return N!=null&&w(n,["error"],A7(t,N)),n}function D7(t,e){const n={},r=b(e,["nextPageToken"]);r!=null&&w(n,["nextPageToken"],r);const i=b(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>l_(t,a))),w(n,["files"],o)}return n}function I7(){return{}}function O7(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B7 extends Hf{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bm(ud.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>l_(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=E7(this.apiClient,e);return o=Ft("files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const h=D7(this.apiClient,f),m=new s9;return Object.assign(m,h),m})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=S7(this.apiClient,e);return o=Ft("upload/v1beta/files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(()=>{const f=I7(),h=new l9;return Object.assign(h,f),h})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=T7(this.apiClient,e);return o=Ft("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>l_(this.apiClient,f))}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=P7(this.apiClient,e);return o=Ft("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(()=>{const f=O7(),h=new u9;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N7(t,e){const n={},r=b(e,["voiceName"]);return r!=null&&w(n,["voiceName"],r),n}function R7(t,e){const n={},r=b(e,["voiceName"]);return r!=null&&w(n,["voiceName"],r),n}function m4(t,e){const n={},r=b(e,["prebuiltVoiceConfig"]);return r!=null&&w(n,["prebuiltVoiceConfig"],N7(t,r)),n}function F7(t,e){const n={},r=b(e,["prebuiltVoiceConfig"]);return r!=null&&w(n,["prebuiltVoiceConfig"],R7(t,r)),n}function z7(t,e){const n={},r=b(e,["speaker"]);r!=null&&w(n,["speaker"],r);const i=b(e,["voiceConfig"]);return i!=null&&w(n,["voiceConfig"],m4(t,i)),n}function j7(t,e){const n={},r=b(e,["speakerVoiceConfigs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>z7(t,o))),w(n,["speakerVoiceConfigs"],i)}return n}function U7(t,e){const n={},r=b(e,["voiceConfig"]);r!=null&&w(n,["voiceConfig"],m4(t,r));const i=b(e,["multiSpeakerVoiceConfig"]);i!=null&&w(n,["multiSpeakerVoiceConfig"],j7(t,i));const o=b(e,["languageCode"]);return o!=null&&w(n,["languageCode"],o),n}function $7(t,e){const n={},r=b(e,["voiceConfig"]);if(r!=null&&w(n,["voiceConfig"],F7(t,r)),b(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=b(e,["languageCode"]);return i!=null&&w(n,["languageCode"],i),n}function V7(t,e){const n={},r=b(e,["fps"]);r!=null&&w(n,["fps"],r);const i=b(e,["endOffset"]);i!=null&&w(n,["endOffset"],i);const o=b(e,["startOffset"]);return o!=null&&w(n,["startOffset"],o),n}function G7(t,e){const n={},r=b(e,["fps"]);r!=null&&w(n,["fps"],r);const i=b(e,["endOffset"]);i!=null&&w(n,["endOffset"],i);const o=b(e,["startOffset"]);return o!=null&&w(n,["startOffset"],o),n}function q7(t,e){const n={};if(b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(e,["data"]);r!=null&&w(n,["data"],r);const i=b(e,["mimeType"]);return i!=null&&w(n,["mimeType"],i),n}function H7(t,e){const n={},r=b(e,["displayName"]);r!=null&&w(n,["displayName"],r);const i=b(e,["data"]);i!=null&&w(n,["data"],i);const o=b(e,["mimeType"]);return o!=null&&w(n,["mimeType"],o),n}function W7(t,e){const n={},r=b(e,["videoMetadata"]);r!=null&&w(n,["videoMetadata"],V7(t,r));const i=b(e,["thought"]);i!=null&&w(n,["thought"],i);const o=b(e,["inlineData"]);o!=null&&w(n,["inlineData"],q7(t,o));const a=b(e,["codeExecutionResult"]);a!=null&&w(n,["codeExecutionResult"],a);const u=b(e,["executableCode"]);u!=null&&w(n,["executableCode"],u);const f=b(e,["fileData"]);f!=null&&w(n,["fileData"],f);const h=b(e,["functionCall"]);h!=null&&w(n,["functionCall"],h);const m=b(e,["functionResponse"]);m!=null&&w(n,["functionResponse"],m);const _=b(e,["text"]);return _!=null&&w(n,["text"],_),n}function Z7(t,e){const n={},r=b(e,["videoMetadata"]);r!=null&&w(n,["videoMetadata"],G7(t,r));const i=b(e,["thought"]);i!=null&&w(n,["thought"],i);const o=b(e,["inlineData"]);o!=null&&w(n,["inlineData"],H7(t,o));const a=b(e,["codeExecutionResult"]);a!=null&&w(n,["codeExecutionResult"],a);const u=b(e,["executableCode"]);u!=null&&w(n,["executableCode"],u);const f=b(e,["fileData"]);f!=null&&w(n,["fileData"],f);const h=b(e,["functionCall"]);h!=null&&w(n,["functionCall"],h);const m=b(e,["functionResponse"]);m!=null&&w(n,["functionResponse"],m);const _=b(e,["text"]);return _!=null&&w(n,["text"],_),n}function K7(t,e){const n={},r=b(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>W7(t,a))),w(n,["parts"],o)}const i=b(e,["role"]);return i!=null&&w(n,["role"],i),n}function Y7(t,e){const n={},r=b(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Z7(t,a))),w(n,["parts"],o)}const i=b(e,["role"]);return i!=null&&w(n,["role"],i),n}function J7(t,e){const n={},r=b(e,["behavior"]);r!=null&&w(n,["behavior"],r);const i=b(e,["description"]);i!=null&&w(n,["description"],i);const o=b(e,["name"]);o!=null&&w(n,["name"],o);const a=b(e,["parameters"]);a!=null&&w(n,["parameters"],a);const u=b(e,["response"]);return u!=null&&w(n,["response"],u),n}function X7(t,e){const n={};if(b(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=b(e,["description"]);r!=null&&w(n,["description"],r);const i=b(e,["name"]);i!=null&&w(n,["name"],i);const o=b(e,["parameters"]);o!=null&&w(n,["parameters"],o);const a=b(e,["response"]);return a!=null&&w(n,["response"],a),n}function Q7(t,e){const n={},r=b(e,["startTime"]);r!=null&&w(n,["startTime"],r);const i=b(e,["endTime"]);return i!=null&&w(n,["endTime"],i),n}function eq(t,e){const n={},r=b(e,["startTime"]);r!=null&&w(n,["startTime"],r);const i=b(e,["endTime"]);return i!=null&&w(n,["endTime"],i),n}function tq(t,e){const n={},r=b(e,["timeRangeFilter"]);return r!=null&&w(n,["timeRangeFilter"],Q7(t,r)),n}function nq(t,e){const n={},r=b(e,["timeRangeFilter"]);return r!=null&&w(n,["timeRangeFilter"],eq(t,r)),n}function rq(t,e){const n={},r=b(e,["mode"]);r!=null&&w(n,["mode"],r);const i=b(e,["dynamicThreshold"]);return i!=null&&w(n,["dynamicThreshold"],i),n}function iq(t,e){const n={},r=b(e,["mode"]);r!=null&&w(n,["mode"],r);const i=b(e,["dynamicThreshold"]);return i!=null&&w(n,["dynamicThreshold"],i),n}function oq(t,e){const n={},r=b(e,["dynamicRetrievalConfig"]);return r!=null&&w(n,["dynamicRetrievalConfig"],rq(t,r)),n}function aq(t,e){const n={},r=b(e,["dynamicRetrievalConfig"]);return r!=null&&w(n,["dynamicRetrievalConfig"],iq(t,r)),n}function sq(){return{}}function lq(t,e){const n={},r=b(e,["apiKeyString"]);return r!=null&&w(n,["apiKeyString"],r),n}function uq(t,e){const n={},r=b(e,["apiKeyConfig"]);r!=null&&w(n,["apiKeyConfig"],lq(t,r));const i=b(e,["authType"]);i!=null&&w(n,["authType"],i);const o=b(e,["googleServiceAccountConfig"]);o!=null&&w(n,["googleServiceAccountConfig"],o);const a=b(e,["httpBasicAuthConfig"]);a!=null&&w(n,["httpBasicAuthConfig"],a);const u=b(e,["oauthConfig"]);u!=null&&w(n,["oauthConfig"],u);const f=b(e,["oidcConfig"]);return f!=null&&w(n,["oidcConfig"],f),n}function cq(t,e){const n={},r=b(e,["authConfig"]);return r!=null&&w(n,["authConfig"],uq(t,r)),n}function dq(){return{}}function fq(t,e){const n={},r=b(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>J7(t,h))),w(n,["functionDeclarations"],f)}if(b(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=b(e,["googleSearch"]);i!=null&&w(n,["googleSearch"],tq(t,i));const o=b(e,["googleSearchRetrieval"]);if(o!=null&&w(n,["googleSearchRetrieval"],oq(t,o)),b(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(b(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");b(e,["urlContext"])!=null&&w(n,["urlContext"],dq());const u=b(e,["codeExecution"]);return u!=null&&w(n,["codeExecution"],u),n}function hq(t,e){const n={},r=b(e,["functionDeclarations"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(_=>X7(t,_))),w(n,["functionDeclarations"],m)}const i=b(e,["retrieval"]);i!=null&&w(n,["retrieval"],i);const o=b(e,["googleSearch"]);o!=null&&w(n,["googleSearch"],nq(t,o));const a=b(e,["googleSearchRetrieval"]);a!=null&&w(n,["googleSearchRetrieval"],aq(t,a)),b(e,["enterpriseWebSearch"])!=null&&w(n,["enterpriseWebSearch"],sq());const f=b(e,["googleMaps"]);if(f!=null&&w(n,["googleMaps"],cq(t,f)),b(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const h=b(e,["codeExecution"]);return h!=null&&w(n,["codeExecution"],h),n}function pq(t,e){const n={},r=b(e,["handle"]);if(r!=null&&w(n,["handle"],r),b(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function mq(t,e){const n={},r=b(e,["handle"]);r!=null&&w(n,["handle"],r);const i=b(e,["transparent"]);return i!=null&&w(n,["transparent"],i),n}function XE(){return{}}function QE(){return{}}function gq(t,e){const n={},r=b(e,["disabled"]);r!=null&&w(n,["disabled"],r);const i=b(e,["startOfSpeechSensitivity"]);i!=null&&w(n,["startOfSpeechSensitivity"],i);const o=b(e,["endOfSpeechSensitivity"]);o!=null&&w(n,["endOfSpeechSensitivity"],o);const a=b(e,["prefixPaddingMs"]);a!=null&&w(n,["prefixPaddingMs"],a);const u=b(e,["silenceDurationMs"]);return u!=null&&w(n,["silenceDurationMs"],u),n}function yq(t,e){const n={},r=b(e,["disabled"]);r!=null&&w(n,["disabled"],r);const i=b(e,["startOfSpeechSensitivity"]);i!=null&&w(n,["startOfSpeechSensitivity"],i);const o=b(e,["endOfSpeechSensitivity"]);o!=null&&w(n,["endOfSpeechSensitivity"],o);const a=b(e,["prefixPaddingMs"]);a!=null&&w(n,["prefixPaddingMs"],a);const u=b(e,["silenceDurationMs"]);return u!=null&&w(n,["silenceDurationMs"],u),n}function vq(t,e){const n={},r=b(e,["automaticActivityDetection"]);r!=null&&w(n,["automaticActivityDetection"],gq(t,r));const i=b(e,["activityHandling"]);i!=null&&w(n,["activityHandling"],i);const o=b(e,["turnCoverage"]);return o!=null&&w(n,["turnCoverage"],o),n}function _q(t,e){const n={},r=b(e,["automaticActivityDetection"]);r!=null&&w(n,["automaticActivityDetection"],yq(t,r));const i=b(e,["activityHandling"]);i!=null&&w(n,["activityHandling"],i);const o=b(e,["turnCoverage"]);return o!=null&&w(n,["turnCoverage"],o),n}function xq(t,e){const n={},r=b(e,["targetTokens"]);return r!=null&&w(n,["targetTokens"],r),n}function bq(t,e){const n={},r=b(e,["targetTokens"]);return r!=null&&w(n,["targetTokens"],r),n}function wq(t,e){const n={},r=b(e,["triggerTokens"]);r!=null&&w(n,["triggerTokens"],r);const i=b(e,["slidingWindow"]);return i!=null&&w(n,["slidingWindow"],xq(t,i)),n}function Cq(t,e){const n={},r=b(e,["triggerTokens"]);r!=null&&w(n,["triggerTokens"],r);const i=b(e,["slidingWindow"]);return i!=null&&w(n,["slidingWindow"],bq(t,i)),n}function Lq(t,e){const n={},r=b(e,["proactiveAudio"]);return r!=null&&w(n,["proactiveAudio"],r),n}function Eq(t,e){const n={},r=b(e,["proactiveAudio"]);return r!=null&&w(n,["proactiveAudio"],r),n}function kq(t,e,n){const r={},i=b(e,["generationConfig"]);n!==void 0&&i!=null&&w(n,["setup","generationConfig"],i);const o=b(e,["responseModalities"]);n!==void 0&&o!=null&&w(n,["setup","generationConfig","responseModalities"],o);const a=b(e,["temperature"]);n!==void 0&&a!=null&&w(n,["setup","generationConfig","temperature"],a);const u=b(e,["topP"]);n!==void 0&&u!=null&&w(n,["setup","generationConfig","topP"],u);const f=b(e,["topK"]);n!==void 0&&f!=null&&w(n,["setup","generationConfig","topK"],f);const h=b(e,["maxOutputTokens"]);n!==void 0&&h!=null&&w(n,["setup","generationConfig","maxOutputTokens"],h);const m=b(e,["mediaResolution"]);n!==void 0&&m!=null&&w(n,["setup","generationConfig","mediaResolution"],m);const _=b(e,["seed"]);n!==void 0&&_!=null&&w(n,["setup","generationConfig","seed"],_);const E=b(e,["speechConfig"]);n!==void 0&&E!=null&&w(n,["setup","generationConfig","speechConfig"],U7(t,u4(t,E)));const S=b(e,["enableAffectiveDialog"]);n!==void 0&&S!=null&&w(n,["setup","generationConfig","enableAffectiveDialog"],S);const A=b(e,["systemInstruction"]);n!==void 0&&A!=null&&w(n,["setup","systemInstruction"],K7(t,Vi(t,A)));const I=b(e,["tools"]);if(n!==void 0&&I!=null){let ne=xm(t,I);Array.isArray(ne)&&(ne=ne.map(se=>fq(t,_m(t,se)))),w(n,["setup","tools"],ne)}const N=b(e,["sessionResumption"]);n!==void 0&&N!=null&&w(n,["setup","sessionResumption"],pq(t,N));const z=b(e,["inputAudioTranscription"]);n!==void 0&&z!=null&&w(n,["setup","inputAudioTranscription"],XE());const G=b(e,["outputAudioTranscription"]);n!==void 0&&G!=null&&w(n,["setup","outputAudioTranscription"],XE());const Z=b(e,["realtimeInputConfig"]);n!==void 0&&Z!=null&&w(n,["setup","realtimeInputConfig"],vq(t,Z));const X=b(e,["contextWindowCompression"]);n!==void 0&&X!=null&&w(n,["setup","contextWindowCompression"],wq(t,X));const te=b(e,["proactivity"]);return n!==void 0&&te!=null&&w(n,["setup","proactivity"],Lq(t,te)),r}function Mq(t,e,n){const r={},i=b(e,["generationConfig"]);n!==void 0&&i!=null&&w(n,["setup","generationConfig"],i);const o=b(e,["responseModalities"]);n!==void 0&&o!=null&&w(n,["setup","generationConfig","responseModalities"],o);const a=b(e,["temperature"]);n!==void 0&&a!=null&&w(n,["setup","generationConfig","temperature"],a);const u=b(e,["topP"]);n!==void 0&&u!=null&&w(n,["setup","generationConfig","topP"],u);const f=b(e,["topK"]);n!==void 0&&f!=null&&w(n,["setup","generationConfig","topK"],f);const h=b(e,["maxOutputTokens"]);n!==void 0&&h!=null&&w(n,["setup","generationConfig","maxOutputTokens"],h);const m=b(e,["mediaResolution"]);n!==void 0&&m!=null&&w(n,["setup","generationConfig","mediaResolution"],m);const _=b(e,["seed"]);n!==void 0&&_!=null&&w(n,["setup","generationConfig","seed"],_);const E=b(e,["speechConfig"]);n!==void 0&&E!=null&&w(n,["setup","generationConfig","speechConfig"],$7(t,u4(t,E)));const S=b(e,["enableAffectiveDialog"]);n!==void 0&&S!=null&&w(n,["setup","generationConfig","enableAffectiveDialog"],S);const A=b(e,["systemInstruction"]);n!==void 0&&A!=null&&w(n,["setup","systemInstruction"],Y7(t,Vi(t,A)));const I=b(e,["tools"]);if(n!==void 0&&I!=null){let ne=xm(t,I);Array.isArray(ne)&&(ne=ne.map(se=>hq(t,_m(t,se)))),w(n,["setup","tools"],ne)}const N=b(e,["sessionResumption"]);n!==void 0&&N!=null&&w(n,["setup","sessionResumption"],mq(t,N));const z=b(e,["inputAudioTranscription"]);n!==void 0&&z!=null&&w(n,["setup","inputAudioTranscription"],QE());const G=b(e,["outputAudioTranscription"]);n!==void 0&&G!=null&&w(n,["setup","outputAudioTranscription"],QE());const Z=b(e,["realtimeInputConfig"]);n!==void 0&&Z!=null&&w(n,["setup","realtimeInputConfig"],_q(t,Z));const X=b(e,["contextWindowCompression"]);n!==void 0&&X!=null&&w(n,["setup","contextWindowCompression"],Cq(t,X));const te=b(e,["proactivity"]);return n!==void 0&&te!=null&&w(n,["setup","proactivity"],Eq(t,te)),r}function Sq(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["setup","model"],Sn(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],kq(t,i,n)),n}function Tq(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["setup","model"],Sn(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],Mq(t,i,n)),n}function Pq(){return{}}function Aq(){return{}}function Dq(){return{}}function Iq(){return{}}function Oq(t,e){const n={},r=b(e,["media"]);r!=null&&w(n,["mediaChunks"],o4(t,r));const i=b(e,["audio"]);i!=null&&w(n,["audio"],h9(t,i));const o=b(e,["audioStreamEnd"]);o!=null&&w(n,["audioStreamEnd"],o);const a=b(e,["video"]);a!=null&&w(n,["video"],f9(t,a));const u=b(e,["text"]);return u!=null&&w(n,["text"],u),b(e,["activityStart"])!=null&&w(n,["activityStart"],Pq()),b(e,["activityEnd"])!=null&&w(n,["activityEnd"],Dq()),n}function Bq(t,e){const n={},r=b(e,["media"]);if(r!=null&&w(n,["mediaChunks"],o4(t,r)),b(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=b(e,["audioStreamEnd"]);if(i!=null&&w(n,["audioStreamEnd"],i),b(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(b(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return b(e,["activityStart"])!=null&&w(n,["activityStart"],Aq()),b(e,["activityEnd"])!=null&&w(n,["activityEnd"],Iq()),n}function g4(t,e){const n={},r=b(e,["text"]);r!=null&&w(n,["text"],r);const i=b(e,["weight"]);return i!=null&&w(n,["weight"],i),n}function Nq(t,e){const n={},r=b(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>g4(t,o))),w(n,["weightedPrompts"],i)}return n}function y4(t,e){const n={},r=b(e,["temperature"]);r!=null&&w(n,["temperature"],r);const i=b(e,["topK"]);i!=null&&w(n,["topK"],i);const o=b(e,["seed"]);o!=null&&w(n,["seed"],o);const a=b(e,["guidance"]);a!=null&&w(n,["guidance"],a);const u=b(e,["bpm"]);u!=null&&w(n,["bpm"],u);const f=b(e,["density"]);f!=null&&w(n,["density"],f);const h=b(e,["brightness"]);h!=null&&w(n,["brightness"],h);const m=b(e,["scale"]);m!=null&&w(n,["scale"],m);const _=b(e,["muteBass"]);_!=null&&w(n,["muteBass"],_);const E=b(e,["muteDrums"]);E!=null&&w(n,["muteDrums"],E);const S=b(e,["onlyBassAndDrums"]);S!=null&&w(n,["onlyBassAndDrums"],S);const A=b(e,["musicGenerationMode"]);return A!=null&&w(n,["musicGenerationMode"],A),n}function Rq(t,e){const n={},r=b(e,["musicGenerationConfig"]);return r!=null&&w(n,["musicGenerationConfig"],y4(t,r)),n}function v4(t,e){const n={},r=b(e,["model"]);return r!=null&&w(n,["model"],r),n}function _4(t,e){const n={},r=b(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>g4(t,o))),w(n,["weightedPrompts"],i)}return n}function u_(t,e){const n={},r=b(e,["setup"]);r!=null&&w(n,["setup"],v4(t,r));const i=b(e,["clientContent"]);i!=null&&w(n,["clientContent"],_4(t,i));const o=b(e,["musicGenerationConfig"]);o!=null&&w(n,["musicGenerationConfig"],y4(t,o));const a=b(e,["playbackControl"]);return a!=null&&w(n,["playbackControl"],a),n}function Fq(){return{}}function zq(){return{}}function jq(t,e){const n={},r=b(e,["fps"]);r!=null&&w(n,["fps"],r);const i=b(e,["endOffset"]);i!=null&&w(n,["endOffset"],i);const o=b(e,["startOffset"]);return o!=null&&w(n,["startOffset"],o),n}function Uq(t,e){const n={},r=b(e,["fps"]);r!=null&&w(n,["fps"],r);const i=b(e,["endOffset"]);i!=null&&w(n,["endOffset"],i);const o=b(e,["startOffset"]);return o!=null&&w(n,["startOffset"],o),n}function $q(t,e){const n={},r=b(e,["data"]);r!=null&&w(n,["data"],r);const i=b(e,["mimeType"]);return i!=null&&w(n,["mimeType"],i),n}function Vq(t,e){const n={},r=b(e,["displayName"]);r!=null&&w(n,["displayName"],r);const i=b(e,["data"]);i!=null&&w(n,["data"],i);const o=b(e,["mimeType"]);return o!=null&&w(n,["mimeType"],o),n}function Gq(t,e){const n={},r=b(e,["videoMetadata"]);r!=null&&w(n,["videoMetadata"],jq(t,r));const i=b(e,["thought"]);i!=null&&w(n,["thought"],i);const o=b(e,["inlineData"]);o!=null&&w(n,["inlineData"],$q(t,o));const a=b(e,["codeExecutionResult"]);a!=null&&w(n,["codeExecutionResult"],a);const u=b(e,["executableCode"]);u!=null&&w(n,["executableCode"],u);const f=b(e,["fileData"]);f!=null&&w(n,["fileData"],f);const h=b(e,["functionCall"]);h!=null&&w(n,["functionCall"],h);const m=b(e,["functionResponse"]);m!=null&&w(n,["functionResponse"],m);const _=b(e,["text"]);return _!=null&&w(n,["text"],_),n}function qq(t,e){const n={},r=b(e,["videoMetadata"]);r!=null&&w(n,["videoMetadata"],Uq(t,r));const i=b(e,["thought"]);i!=null&&w(n,["thought"],i);const o=b(e,["inlineData"]);o!=null&&w(n,["inlineData"],Vq(t,o));const a=b(e,["codeExecutionResult"]);a!=null&&w(n,["codeExecutionResult"],a);const u=b(e,["executableCode"]);u!=null&&w(n,["executableCode"],u);const f=b(e,["fileData"]);f!=null&&w(n,["fileData"],f);const h=b(e,["functionCall"]);h!=null&&w(n,["functionCall"],h);const m=b(e,["functionResponse"]);m!=null&&w(n,["functionResponse"],m);const _=b(e,["text"]);return _!=null&&w(n,["text"],_),n}function Hq(t,e){const n={},r=b(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Gq(t,a))),w(n,["parts"],o)}const i=b(e,["role"]);return i!=null&&w(n,["role"],i),n}function Wq(t,e){const n={},r=b(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>qq(t,a))),w(n,["parts"],o)}const i=b(e,["role"]);return i!=null&&w(n,["role"],i),n}function ek(t,e){const n={},r=b(e,["text"]);r!=null&&w(n,["text"],r);const i=b(e,["finished"]);return i!=null&&w(n,["finished"],i),n}function tk(t,e){const n={},r=b(e,["text"]);r!=null&&w(n,["text"],r);const i=b(e,["finished"]);return i!=null&&w(n,["finished"],i),n}function Zq(t,e){const n={},r=b(e,["retrievedUrl"]);r!=null&&w(n,["retrievedUrl"],r);const i=b(e,["urlRetrievalStatus"]);return i!=null&&w(n,["urlRetrievalStatus"],i),n}function Kq(t,e){const n={},r=b(e,["urlMetadata"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Zq(t,o))),w(n,["urlMetadata"],i)}return n}function Yq(t,e){const n={},r=b(e,["modelTurn"]);r!=null&&w(n,["modelTurn"],Hq(t,r));const i=b(e,["turnComplete"]);i!=null&&w(n,["turnComplete"],i);const o=b(e,["interrupted"]);o!=null&&w(n,["interrupted"],o);const a=b(e,["groundingMetadata"]);a!=null&&w(n,["groundingMetadata"],a);const u=b(e,["generationComplete"]);u!=null&&w(n,["generationComplete"],u);const f=b(e,["inputTranscription"]);f!=null&&w(n,["inputTranscription"],ek(t,f));const h=b(e,["outputTranscription"]);h!=null&&w(n,["outputTranscription"],ek(t,h));const m=b(e,["urlContextMetadata"]);return m!=null&&w(n,["urlContextMetadata"],Kq(t,m)),n}function Jq(t,e){const n={},r=b(e,["modelTurn"]);r!=null&&w(n,["modelTurn"],Wq(t,r));const i=b(e,["turnComplete"]);i!=null&&w(n,["turnComplete"],i);const o=b(e,["interrupted"]);o!=null&&w(n,["interrupted"],o);const a=b(e,["groundingMetadata"]);a!=null&&w(n,["groundingMetadata"],a);const u=b(e,["generationComplete"]);u!=null&&w(n,["generationComplete"],u);const f=b(e,["inputTranscription"]);f!=null&&w(n,["inputTranscription"],tk(t,f));const h=b(e,["outputTranscription"]);return h!=null&&w(n,["outputTranscription"],tk(t,h)),n}function Xq(t,e){const n={},r=b(e,["id"]);r!=null&&w(n,["id"],r);const i=b(e,["args"]);i!=null&&w(n,["args"],i);const o=b(e,["name"]);return o!=null&&w(n,["name"],o),n}function Qq(t,e){const n={},r=b(e,["args"]);r!=null&&w(n,["args"],r);const i=b(e,["name"]);return i!=null&&w(n,["name"],i),n}function eH(t,e){const n={},r=b(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Xq(t,o))),w(n,["functionCalls"],i)}return n}function tH(t,e){const n={},r=b(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Qq(t,o))),w(n,["functionCalls"],i)}return n}function nH(t,e){const n={},r=b(e,["ids"]);return r!=null&&w(n,["ids"],r),n}function rH(t,e){const n={},r=b(e,["ids"]);return r!=null&&w(n,["ids"],r),n}function Nh(t,e){const n={},r=b(e,["modality"]);r!=null&&w(n,["modality"],r);const i=b(e,["tokenCount"]);return i!=null&&w(n,["tokenCount"],i),n}function Rh(t,e){const n={},r=b(e,["modality"]);r!=null&&w(n,["modality"],r);const i=b(e,["tokenCount"]);return i!=null&&w(n,["tokenCount"],i),n}function iH(t,e){const n={},r=b(e,["promptTokenCount"]);r!=null&&w(n,["promptTokenCount"],r);const i=b(e,["cachedContentTokenCount"]);i!=null&&w(n,["cachedContentTokenCount"],i);const o=b(e,["responseTokenCount"]);o!=null&&w(n,["responseTokenCount"],o);const a=b(e,["toolUsePromptTokenCount"]);a!=null&&w(n,["toolUsePromptTokenCount"],a);const u=b(e,["thoughtsTokenCount"]);u!=null&&w(n,["thoughtsTokenCount"],u);const f=b(e,["totalTokenCount"]);f!=null&&w(n,["totalTokenCount"],f);const h=b(e,["promptTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(A=>Nh(t,A))),w(n,["promptTokensDetails"],S)}const m=b(e,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(A=>Nh(t,A))),w(n,["cacheTokensDetails"],S)}const _=b(e,["responseTokensDetails"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(A=>Nh(t,A))),w(n,["responseTokensDetails"],S)}const E=b(e,["toolUsePromptTokensDetails"]);if(E!=null){let S=E;Array.isArray(S)&&(S=S.map(A=>Nh(t,A))),w(n,["toolUsePromptTokensDetails"],S)}return n}function oH(t,e){const n={},r=b(e,["promptTokenCount"]);r!=null&&w(n,["promptTokenCount"],r);const i=b(e,["cachedContentTokenCount"]);i!=null&&w(n,["cachedContentTokenCount"],i);const o=b(e,["candidatesTokenCount"]);o!=null&&w(n,["responseTokenCount"],o);const a=b(e,["toolUsePromptTokenCount"]);a!=null&&w(n,["toolUsePromptTokenCount"],a);const u=b(e,["thoughtsTokenCount"]);u!=null&&w(n,["thoughtsTokenCount"],u);const f=b(e,["totalTokenCount"]);f!=null&&w(n,["totalTokenCount"],f);const h=b(e,["promptTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(I=>Rh(t,I))),w(n,["promptTokensDetails"],A)}const m=b(e,["cacheTokensDetails"]);if(m!=null){let A=m;Array.isArray(A)&&(A=A.map(I=>Rh(t,I))),w(n,["cacheTokensDetails"],A)}const _=b(e,["candidatesTokensDetails"]);if(_!=null){let A=_;Array.isArray(A)&&(A=A.map(I=>Rh(t,I))),w(n,["responseTokensDetails"],A)}const E=b(e,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(I=>Rh(t,I))),w(n,["toolUsePromptTokensDetails"],A)}const S=b(e,["trafficType"]);return S!=null&&w(n,["trafficType"],S),n}function aH(t,e){const n={},r=b(e,["timeLeft"]);return r!=null&&w(n,["timeLeft"],r),n}function sH(t,e){const n={},r=b(e,["timeLeft"]);return r!=null&&w(n,["timeLeft"],r),n}function lH(t,e){const n={},r=b(e,["newHandle"]);r!=null&&w(n,["newHandle"],r);const i=b(e,["resumable"]);i!=null&&w(n,["resumable"],i);const o=b(e,["lastConsumedClientMessageIndex"]);return o!=null&&w(n,["lastConsumedClientMessageIndex"],o),n}function uH(t,e){const n={},r=b(e,["newHandle"]);r!=null&&w(n,["newHandle"],r);const i=b(e,["resumable"]);i!=null&&w(n,["resumable"],i);const o=b(e,["lastConsumedClientMessageIndex"]);return o!=null&&w(n,["lastConsumedClientMessageIndex"],o),n}function cH(t,e){const n={};b(e,["setupComplete"])!=null&&w(n,["setupComplete"],Fq());const i=b(e,["serverContent"]);i!=null&&w(n,["serverContent"],Yq(t,i));const o=b(e,["toolCall"]);o!=null&&w(n,["toolCall"],eH(t,o));const a=b(e,["toolCallCancellation"]);a!=null&&w(n,["toolCallCancellation"],nH(t,a));const u=b(e,["usageMetadata"]);u!=null&&w(n,["usageMetadata"],iH(t,u));const f=b(e,["goAway"]);f!=null&&w(n,["goAway"],aH(t,f));const h=b(e,["sessionResumptionUpdate"]);return h!=null&&w(n,["sessionResumptionUpdate"],lH(t,h)),n}function dH(t,e){const n={};b(e,["setupComplete"])!=null&&w(n,["setupComplete"],zq());const i=b(e,["serverContent"]);i!=null&&w(n,["serverContent"],Jq(t,i));const o=b(e,["toolCall"]);o!=null&&w(n,["toolCall"],tH(t,o));const a=b(e,["toolCallCancellation"]);a!=null&&w(n,["toolCallCancellation"],rH(t,a));const u=b(e,["usageMetadata"]);u!=null&&w(n,["usageMetadata"],oH(t,u));const f=b(e,["goAway"]);f!=null&&w(n,["goAway"],sH(t,f));const h=b(e,["sessionResumptionUpdate"]);return h!=null&&w(n,["sessionResumptionUpdate"],uH(t,h)),n}function fH(){return{}}function hH(t,e){const n={},r=b(e,["text"]);r!=null&&w(n,["text"],r);const i=b(e,["weight"]);return i!=null&&w(n,["weight"],i),n}function pH(t,e){const n={},r=b(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>hH(t,o))),w(n,["weightedPrompts"],i)}return n}function mH(t,e){const n={},r=b(e,["temperature"]);r!=null&&w(n,["temperature"],r);const i=b(e,["topK"]);i!=null&&w(n,["topK"],i);const o=b(e,["seed"]);o!=null&&w(n,["seed"],o);const a=b(e,["guidance"]);a!=null&&w(n,["guidance"],a);const u=b(e,["bpm"]);u!=null&&w(n,["bpm"],u);const f=b(e,["density"]);f!=null&&w(n,["density"],f);const h=b(e,["brightness"]);h!=null&&w(n,["brightness"],h);const m=b(e,["scale"]);m!=null&&w(n,["scale"],m);const _=b(e,["muteBass"]);_!=null&&w(n,["muteBass"],_);const E=b(e,["muteDrums"]);E!=null&&w(n,["muteDrums"],E);const S=b(e,["onlyBassAndDrums"]);S!=null&&w(n,["onlyBassAndDrums"],S);const A=b(e,["musicGenerationMode"]);return A!=null&&w(n,["musicGenerationMode"],A),n}function gH(t,e){const n={},r=b(e,["clientContent"]);r!=null&&w(n,["clientContent"],pH(t,r));const i=b(e,["musicGenerationConfig"]);return i!=null&&w(n,["musicGenerationConfig"],mH(t,i)),n}function yH(t,e){const n={},r=b(e,["data"]);r!=null&&w(n,["data"],r);const i=b(e,["mimeType"]);i!=null&&w(n,["mimeType"],i);const o=b(e,["sourceMetadata"]);return o!=null&&w(n,["sourceMetadata"],gH(t,o)),n}function vH(t,e){const n={},r=b(e,["audioChunks"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>yH(t,o))),w(n,["audioChunks"],i)}return n}function _H(t,e){const n={},r=b(e,["text"]);r!=null&&w(n,["text"],r);const i=b(e,["filteredReason"]);return i!=null&&w(n,["filteredReason"],i),n}function xH(t,e){const n={};b(e,["setupComplete"])!=null&&w(n,["setupComplete"],fH());const i=b(e,["serverContent"]);i!=null&&w(n,["serverContent"],vH(t,i));const o=b(e,["filteredPrompt"]);return o!=null&&w(n,["filteredPrompt"],_H(t,o)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bH(t,e){const n={},r=b(e,["fps"]);r!=null&&w(n,["fps"],r);const i=b(e,["endOffset"]);i!=null&&w(n,["endOffset"],i);const o=b(e,["startOffset"]);return o!=null&&w(n,["startOffset"],o),n}function wH(t,e){const n={};if(b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(e,["data"]);r!=null&&w(n,["data"],r);const i=b(e,["mimeType"]);return i!=null&&w(n,["mimeType"],i),n}function CH(t,e){const n={},r=b(e,["videoMetadata"]);r!=null&&w(n,["videoMetadata"],bH(t,r));const i=b(e,["thought"]);i!=null&&w(n,["thought"],i);const o=b(e,["inlineData"]);o!=null&&w(n,["inlineData"],wH(t,o));const a=b(e,["codeExecutionResult"]);a!=null&&w(n,["codeExecutionResult"],a);const u=b(e,["executableCode"]);u!=null&&w(n,["executableCode"],u);const f=b(e,["fileData"]);f!=null&&w(n,["fileData"],f);const h=b(e,["functionCall"]);h!=null&&w(n,["functionCall"],h);const m=b(e,["functionResponse"]);m!=null&&w(n,["functionResponse"],m);const _=b(e,["text"]);return _!=null&&w(n,["text"],_),n}function wm(t,e){const n={},r=b(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>CH(t,a))),w(n,["parts"],o)}const i=b(e,["role"]);return i!=null&&w(n,["role"],i),n}function LH(t,e){const n={};if(b(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=b(e,["category"]);r!=null&&w(n,["category"],r);const i=b(e,["threshold"]);return i!=null&&w(n,["threshold"],i),n}function EH(t,e){const n={},r=b(e,["behavior"]);r!=null&&w(n,["behavior"],r);const i=b(e,["description"]);i!=null&&w(n,["description"],i);const o=b(e,["name"]);o!=null&&w(n,["name"],o);const a=b(e,["parameters"]);a!=null&&w(n,["parameters"],a);const u=b(e,["response"]);return u!=null&&w(n,["response"],u),n}function kH(t,e){const n={},r=b(e,["startTime"]);r!=null&&w(n,["startTime"],r);const i=b(e,["endTime"]);return i!=null&&w(n,["endTime"],i),n}function MH(t,e){const n={},r=b(e,["timeRangeFilter"]);return r!=null&&w(n,["timeRangeFilter"],kH(t,r)),n}function SH(t,e){const n={},r=b(e,["mode"]);r!=null&&w(n,["mode"],r);const i=b(e,["dynamicThreshold"]);return i!=null&&w(n,["dynamicThreshold"],i),n}function TH(t,e){const n={},r=b(e,["dynamicRetrievalConfig"]);return r!=null&&w(n,["dynamicRetrievalConfig"],SH(t,r)),n}function PH(){return{}}function AH(t,e){const n={},r=b(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>EH(t,h))),w(n,["functionDeclarations"],f)}if(b(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=b(e,["googleSearch"]);i!=null&&w(n,["googleSearch"],MH(t,i));const o=b(e,["googleSearchRetrieval"]);if(o!=null&&w(n,["googleSearchRetrieval"],TH(t,o)),b(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(b(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");b(e,["urlContext"])!=null&&w(n,["urlContext"],PH());const u=b(e,["codeExecution"]);return u!=null&&w(n,["codeExecution"],u),n}function DH(t,e){const n={},r=b(e,["mode"]);r!=null&&w(n,["mode"],r);const i=b(e,["allowedFunctionNames"]);return i!=null&&w(n,["allowedFunctionNames"],i),n}function IH(t,e){const n={},r=b(e,["latitude"]);r!=null&&w(n,["latitude"],r);const i=b(e,["longitude"]);return i!=null&&w(n,["longitude"],i),n}function OH(t,e){const n={},r=b(e,["latLng"]);return r!=null&&w(n,["latLng"],IH(t,r)),n}function BH(t,e){const n={},r=b(e,["functionCallingConfig"]);r!=null&&w(n,["functionCallingConfig"],DH(t,r));const i=b(e,["retrievalConfig"]);return i!=null&&w(n,["retrievalConfig"],OH(t,i)),n}function NH(t,e){const n={},r=b(e,["voiceName"]);return r!=null&&w(n,["voiceName"],r),n}function x4(t,e){const n={},r=b(e,["prebuiltVoiceConfig"]);return r!=null&&w(n,["prebuiltVoiceConfig"],NH(t,r)),n}function RH(t,e){const n={},r=b(e,["speaker"]);r!=null&&w(n,["speaker"],r);const i=b(e,["voiceConfig"]);return i!=null&&w(n,["voiceConfig"],x4(t,i)),n}function FH(t,e){const n={},r=b(e,["speakerVoiceConfigs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>RH(t,o))),w(n,["speakerVoiceConfigs"],i)}return n}function zH(t,e){const n={},r=b(e,["voiceConfig"]);r!=null&&w(n,["voiceConfig"],x4(t,r));const i=b(e,["multiSpeakerVoiceConfig"]);i!=null&&w(n,["multiSpeakerVoiceConfig"],FH(t,i));const o=b(e,["languageCode"]);return o!=null&&w(n,["languageCode"],o),n}function jH(t,e){const n={},r=b(e,["includeThoughts"]);r!=null&&w(n,["includeThoughts"],r);const i=b(e,["thinkingBudget"]);return i!=null&&w(n,["thinkingBudget"],i),n}function UH(t,e,n){const r={},i=b(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],wm(t,Vi(t,i)));const o=b(e,["temperature"]);o!=null&&w(r,["temperature"],o);const a=b(e,["topP"]);a!=null&&w(r,["topP"],a);const u=b(e,["topK"]);u!=null&&w(r,["topK"],u);const f=b(e,["candidateCount"]);f!=null&&w(r,["candidateCount"],f);const h=b(e,["maxOutputTokens"]);h!=null&&w(r,["maxOutputTokens"],h);const m=b(e,["stopSequences"]);m!=null&&w(r,["stopSequences"],m);const _=b(e,["responseLogprobs"]);_!=null&&w(r,["responseLogprobs"],_);const E=b(e,["logprobs"]);E!=null&&w(r,["logprobs"],E);const S=b(e,["presencePenalty"]);S!=null&&w(r,["presencePenalty"],S);const A=b(e,["frequencyPenalty"]);A!=null&&w(r,["frequencyPenalty"],A);const I=b(e,["seed"]);I!=null&&w(r,["seed"],I);const N=b(e,["responseMimeType"]);N!=null&&w(r,["responseMimeType"],N);const z=b(e,["responseSchema"]);if(z!=null&&w(r,["responseSchema"],Np(t,z)),b(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=b(e,["safetySettings"]);if(n!==void 0&&G!=null){let Pe=G;Array.isArray(Pe)&&(Pe=Pe.map(_e=>LH(t,_e))),w(n,["safetySettings"],Pe)}const Z=b(e,["tools"]);if(n!==void 0&&Z!=null){let Pe=xm(t,Z);Array.isArray(Pe)&&(Pe=Pe.map(_e=>AH(t,_m(t,_e)))),w(n,["tools"],Pe)}const X=b(e,["toolConfig"]);if(n!==void 0&&X!=null&&w(n,["toolConfig"],BH(t,X)),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=b(e,["cachedContent"]);n!==void 0&&te!=null&&w(n,["cachedContent"],Wl(t,te));const ne=b(e,["responseModalities"]);ne!=null&&w(r,["responseModalities"],ne);const se=b(e,["mediaResolution"]);se!=null&&w(r,["mediaResolution"],se);const ke=b(e,["speechConfig"]);if(ke!=null&&w(r,["speechConfig"],zH(t,l4(t,ke))),b(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Le=b(e,["thinkingConfig"]);return Le!=null&&w(r,["thinkingConfig"],jH(t,Le)),r}function nk(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","model"],Sn(t,r));const i=b(e,["contents"]);if(i!=null){let a=ya(t,i);Array.isArray(a)&&(a=a.map(u=>wm(t,u))),w(n,["contents"],a)}const o=b(e,["config"]);return o!=null&&w(n,["generationConfig"],UH(t,o,n)),n}function $H(t,e,n){const r={},i=b(e,["taskType"]);n!==void 0&&i!=null&&w(n,["requests[]","taskType"],i);const o=b(e,["title"]);n!==void 0&&o!=null&&w(n,["requests[]","title"],o);const a=b(e,["outputDimensionality"]);if(n!==void 0&&a!=null&&w(n,["requests[]","outputDimensionality"],a),b(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function VH(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","model"],Sn(t,r));const i=b(e,["contents"]);i!=null&&w(n,["requests[]","content"],s4(t,i));const o=b(e,["config"]);o!=null&&w(n,["config"],$H(t,o,n));const a=b(e,["model"]);return a!==void 0&&w(n,["requests[]","model"],Sn(t,a)),n}function GH(t,e,n){const r={};if(b(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=b(e,["numberOfImages"]);n!==void 0&&i!=null&&w(n,["parameters","sampleCount"],i);const o=b(e,["aspectRatio"]);n!==void 0&&o!=null&&w(n,["parameters","aspectRatio"],o);const a=b(e,["guidanceScale"]);if(n!==void 0&&a!=null&&w(n,["parameters","guidanceScale"],a),b(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=b(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&w(n,["parameters","safetySetting"],u);const f=b(e,["personGeneration"]);n!==void 0&&f!=null&&w(n,["parameters","personGeneration"],f);const h=b(e,["includeSafetyAttributes"]);n!==void 0&&h!=null&&w(n,["parameters","includeSafetyAttributes"],h);const m=b(e,["includeRaiReason"]);n!==void 0&&m!=null&&w(n,["parameters","includeRaiReason"],m);const _=b(e,["language"]);n!==void 0&&_!=null&&w(n,["parameters","language"],_);const E=b(e,["outputMimeType"]);n!==void 0&&E!=null&&w(n,["parameters","outputOptions","mimeType"],E);const S=b(e,["outputCompressionQuality"]);if(n!==void 0&&S!=null&&w(n,["parameters","outputOptions","compressionQuality"],S),b(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(b(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function qH(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","model"],Sn(t,r));const i=b(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=b(e,["config"]);return o!=null&&w(n,["config"],GH(t,o,n)),n}function HH(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","name"],Sn(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function WH(t,e,n){const r={},i=b(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const o=b(e,["pageToken"]);n!==void 0&&o!=null&&w(n,["_query","pageToken"],o);const a=b(e,["filter"]);n!==void 0&&a!=null&&w(n,["_query","filter"],a);const u=b(e,["queryBase"]);return n!==void 0&&u!=null&&w(n,["_url","models_url"],f4(t,u)),r}function ZH(t,e){const n={},r=b(e,["config"]);return r!=null&&w(n,["config"],WH(t,r,n)),n}function KH(t,e,n){const r={},i=b(e,["displayName"]);n!==void 0&&i!=null&&w(n,["displayName"],i);const o=b(e,["description"]);n!==void 0&&o!=null&&w(n,["description"],o);const a=b(e,["defaultCheckpointId"]);return n!==void 0&&a!=null&&w(n,["defaultCheckpointId"],a),r}function YH(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","name"],Sn(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],KH(t,i,n)),n}function JH(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","name"],Sn(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function XH(t,e){const n={};if(b(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(b(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(b(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function QH(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","model"],Sn(t,r));const i=b(e,["contents"]);if(i!=null){let a=ya(t,i);Array.isArray(a)&&(a=a.map(u=>wm(t,u))),w(n,["contents"],a)}const o=b(e,["config"]);return o!=null&&w(n,["config"],XH(t,o)),n}function eW(t,e){const n={};if(b(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=b(e,["imageBytes"]);r!=null&&w(n,["bytesBase64Encoded"],Zl(t,r));const i=b(e,["mimeType"]);return i!=null&&w(n,["mimeType"],i),n}function tW(t,e,n){const r={},i=b(e,["numberOfVideos"]);if(n!==void 0&&i!=null&&w(n,["parameters","sampleCount"],i),b(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=b(e,["durationSeconds"]);if(n!==void 0&&o!=null&&w(n,["parameters","durationSeconds"],o),b(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=b(e,["aspectRatio"]);if(n!==void 0&&a!=null&&w(n,["parameters","aspectRatio"],a),b(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=b(e,["personGeneration"]);if(n!==void 0&&u!=null&&w(n,["parameters","personGeneration"],u),b(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=b(e,["negativePrompt"]);if(n!==void 0&&f!=null&&w(n,["parameters","negativePrompt"],f),b(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function nW(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","model"],Sn(t,r));const i=b(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=b(e,["image"]);o!=null&&w(n,["instances[0]","image"],eW(t,o));const a=b(e,["config"]);return a!=null&&w(n,["config"],tW(t,a,n)),n}function rW(t,e){const n={},r=b(e,["fps"]);r!=null&&w(n,["fps"],r);const i=b(e,["endOffset"]);i!=null&&w(n,["endOffset"],i);const o=b(e,["startOffset"]);return o!=null&&w(n,["startOffset"],o),n}function iW(t,e){const n={},r=b(e,["displayName"]);r!=null&&w(n,["displayName"],r);const i=b(e,["data"]);i!=null&&w(n,["data"],i);const o=b(e,["mimeType"]);return o!=null&&w(n,["mimeType"],o),n}function oW(t,e){const n={},r=b(e,["videoMetadata"]);r!=null&&w(n,["videoMetadata"],rW(t,r));const i=b(e,["thought"]);i!=null&&w(n,["thought"],i);const o=b(e,["inlineData"]);o!=null&&w(n,["inlineData"],iW(t,o));const a=b(e,["codeExecutionResult"]);a!=null&&w(n,["codeExecutionResult"],a);const u=b(e,["executableCode"]);u!=null&&w(n,["executableCode"],u);const f=b(e,["fileData"]);f!=null&&w(n,["fileData"],f);const h=b(e,["functionCall"]);h!=null&&w(n,["functionCall"],h);const m=b(e,["functionResponse"]);m!=null&&w(n,["functionResponse"],m);const _=b(e,["text"]);return _!=null&&w(n,["text"],_),n}function vd(t,e){const n={},r=b(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>oW(t,a))),w(n,["parts"],o)}const i=b(e,["role"]);return i!=null&&w(n,["role"],i),n}function aW(t,e){const n={},r=b(e,["featureSelectionPreference"]);return r!=null&&w(n,["featureSelectionPreference"],r),n}function sW(t,e){const n={},r=b(e,["method"]);r!=null&&w(n,["method"],r);const i=b(e,["category"]);i!=null&&w(n,["category"],i);const o=b(e,["threshold"]);return o!=null&&w(n,["threshold"],o),n}function lW(t,e){const n={};if(b(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=b(e,["description"]);r!=null&&w(n,["description"],r);const i=b(e,["name"]);i!=null&&w(n,["name"],i);const o=b(e,["parameters"]);o!=null&&w(n,["parameters"],o);const a=b(e,["response"]);return a!=null&&w(n,["response"],a),n}function uW(t,e){const n={},r=b(e,["startTime"]);r!=null&&w(n,["startTime"],r);const i=b(e,["endTime"]);return i!=null&&w(n,["endTime"],i),n}function cW(t,e){const n={},r=b(e,["timeRangeFilter"]);return r!=null&&w(n,["timeRangeFilter"],uW(t,r)),n}function dW(t,e){const n={},r=b(e,["mode"]);r!=null&&w(n,["mode"],r);const i=b(e,["dynamicThreshold"]);return i!=null&&w(n,["dynamicThreshold"],i),n}function fW(t,e){const n={},r=b(e,["dynamicRetrievalConfig"]);return r!=null&&w(n,["dynamicRetrievalConfig"],dW(t,r)),n}function hW(){return{}}function pW(t,e){const n={},r=b(e,["apiKeyString"]);return r!=null&&w(n,["apiKeyString"],r),n}function mW(t,e){const n={},r=b(e,["apiKeyConfig"]);r!=null&&w(n,["apiKeyConfig"],pW(t,r));const i=b(e,["authType"]);i!=null&&w(n,["authType"],i);const o=b(e,["googleServiceAccountConfig"]);o!=null&&w(n,["googleServiceAccountConfig"],o);const a=b(e,["httpBasicAuthConfig"]);a!=null&&w(n,["httpBasicAuthConfig"],a);const u=b(e,["oauthConfig"]);u!=null&&w(n,["oauthConfig"],u);const f=b(e,["oidcConfig"]);return f!=null&&w(n,["oidcConfig"],f),n}function gW(t,e){const n={},r=b(e,["authConfig"]);return r!=null&&w(n,["authConfig"],mW(t,r)),n}function b4(t,e){const n={},r=b(e,["functionDeclarations"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(_=>lW(t,_))),w(n,["functionDeclarations"],m)}const i=b(e,["retrieval"]);i!=null&&w(n,["retrieval"],i);const o=b(e,["googleSearch"]);o!=null&&w(n,["googleSearch"],cW(t,o));const a=b(e,["googleSearchRetrieval"]);a!=null&&w(n,["googleSearchRetrieval"],fW(t,a)),b(e,["enterpriseWebSearch"])!=null&&w(n,["enterpriseWebSearch"],hW());const f=b(e,["googleMaps"]);if(f!=null&&w(n,["googleMaps"],gW(t,f)),b(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const h=b(e,["codeExecution"]);return h!=null&&w(n,["codeExecution"],h),n}function yW(t,e){const n={},r=b(e,["mode"]);r!=null&&w(n,["mode"],r);const i=b(e,["allowedFunctionNames"]);return i!=null&&w(n,["allowedFunctionNames"],i),n}function vW(t,e){const n={},r=b(e,["latitude"]);r!=null&&w(n,["latitude"],r);const i=b(e,["longitude"]);return i!=null&&w(n,["longitude"],i),n}function _W(t,e){const n={},r=b(e,["latLng"]);return r!=null&&w(n,["latLng"],vW(t,r)),n}function xW(t,e){const n={},r=b(e,["functionCallingConfig"]);r!=null&&w(n,["functionCallingConfig"],yW(t,r));const i=b(e,["retrievalConfig"]);return i!=null&&w(n,["retrievalConfig"],_W(t,i)),n}function bW(t,e){const n={},r=b(e,["voiceName"]);return r!=null&&w(n,["voiceName"],r),n}function wW(t,e){const n={},r=b(e,["prebuiltVoiceConfig"]);return r!=null&&w(n,["prebuiltVoiceConfig"],bW(t,r)),n}function CW(t,e){const n={},r=b(e,["voiceConfig"]);if(r!=null&&w(n,["voiceConfig"],wW(t,r)),b(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=b(e,["languageCode"]);return i!=null&&w(n,["languageCode"],i),n}function LW(t,e){const n={},r=b(e,["includeThoughts"]);r!=null&&w(n,["includeThoughts"],r);const i=b(e,["thinkingBudget"]);return i!=null&&w(n,["thinkingBudget"],i),n}function EW(t,e,n){const r={},i=b(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],vd(t,Vi(t,i)));const o=b(e,["temperature"]);o!=null&&w(r,["temperature"],o);const a=b(e,["topP"]);a!=null&&w(r,["topP"],a);const u=b(e,["topK"]);u!=null&&w(r,["topK"],u);const f=b(e,["candidateCount"]);f!=null&&w(r,["candidateCount"],f);const h=b(e,["maxOutputTokens"]);h!=null&&w(r,["maxOutputTokens"],h);const m=b(e,["stopSequences"]);m!=null&&w(r,["stopSequences"],m);const _=b(e,["responseLogprobs"]);_!=null&&w(r,["responseLogprobs"],_);const E=b(e,["logprobs"]);E!=null&&w(r,["logprobs"],E);const S=b(e,["presencePenalty"]);S!=null&&w(r,["presencePenalty"],S);const A=b(e,["frequencyPenalty"]);A!=null&&w(r,["frequencyPenalty"],A);const I=b(e,["seed"]);I!=null&&w(r,["seed"],I);const N=b(e,["responseMimeType"]);N!=null&&w(r,["responseMimeType"],N);const z=b(e,["responseSchema"]);z!=null&&w(r,["responseSchema"],Np(t,z));const G=b(e,["routingConfig"]);G!=null&&w(r,["routingConfig"],G);const Z=b(e,["modelSelectionConfig"]);Z!=null&&w(r,["modelConfig"],aW(t,Z));const X=b(e,["safetySettings"]);if(n!==void 0&&X!=null){let Ke=X;Array.isArray(Ke)&&(Ke=Ke.map(ht=>sW(t,ht))),w(n,["safetySettings"],Ke)}const te=b(e,["tools"]);if(n!==void 0&&te!=null){let Ke=xm(t,te);Array.isArray(Ke)&&(Ke=Ke.map(ht=>b4(t,_m(t,ht)))),w(n,["tools"],Ke)}const ne=b(e,["toolConfig"]);n!==void 0&&ne!=null&&w(n,["toolConfig"],xW(t,ne));const se=b(e,["labels"]);n!==void 0&&se!=null&&w(n,["labels"],se);const ke=b(e,["cachedContent"]);n!==void 0&&ke!=null&&w(n,["cachedContent"],Wl(t,ke));const Le=b(e,["responseModalities"]);Le!=null&&w(r,["responseModalities"],Le);const Pe=b(e,["mediaResolution"]);Pe!=null&&w(r,["mediaResolution"],Pe);const _e=b(e,["speechConfig"]);_e!=null&&w(r,["speechConfig"],CW(t,l4(t,_e)));const Ne=b(e,["audioTimestamp"]);Ne!=null&&w(r,["audioTimestamp"],Ne);const qe=b(e,["thinkingConfig"]);return qe!=null&&w(r,["thinkingConfig"],LW(t,qe)),r}function rk(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","model"],Sn(t,r));const i=b(e,["contents"]);if(i!=null){let a=ya(t,i);Array.isArray(a)&&(a=a.map(u=>vd(t,u))),w(n,["contents"],a)}const o=b(e,["config"]);return o!=null&&w(n,["generationConfig"],EW(t,o,n)),n}function kW(t,e,n){const r={},i=b(e,["taskType"]);n!==void 0&&i!=null&&w(n,["instances[]","task_type"],i);const o=b(e,["title"]);n!==void 0&&o!=null&&w(n,["instances[]","title"],o);const a=b(e,["outputDimensionality"]);n!==void 0&&a!=null&&w(n,["parameters","outputDimensionality"],a);const u=b(e,["mimeType"]);n!==void 0&&u!=null&&w(n,["instances[]","mimeType"],u);const f=b(e,["autoTruncate"]);return n!==void 0&&f!=null&&w(n,["parameters","autoTruncate"],f),r}function MW(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","model"],Sn(t,r));const i=b(e,["contents"]);i!=null&&w(n,["instances[]","content"],s4(t,i));const o=b(e,["config"]);return o!=null&&w(n,["config"],kW(t,o,n)),n}function SW(t,e,n){const r={},i=b(e,["outputGcsUri"]);n!==void 0&&i!=null&&w(n,["parameters","storageUri"],i);const o=b(e,["negativePrompt"]);n!==void 0&&o!=null&&w(n,["parameters","negativePrompt"],o);const a=b(e,["numberOfImages"]);n!==void 0&&a!=null&&w(n,["parameters","sampleCount"],a);const u=b(e,["aspectRatio"]);n!==void 0&&u!=null&&w(n,["parameters","aspectRatio"],u);const f=b(e,["guidanceScale"]);n!==void 0&&f!=null&&w(n,["parameters","guidanceScale"],f);const h=b(e,["seed"]);n!==void 0&&h!=null&&w(n,["parameters","seed"],h);const m=b(e,["safetyFilterLevel"]);n!==void 0&&m!=null&&w(n,["parameters","safetySetting"],m);const _=b(e,["personGeneration"]);n!==void 0&&_!=null&&w(n,["parameters","personGeneration"],_);const E=b(e,["includeSafetyAttributes"]);n!==void 0&&E!=null&&w(n,["parameters","includeSafetyAttributes"],E);const S=b(e,["includeRaiReason"]);n!==void 0&&S!=null&&w(n,["parameters","includeRaiReason"],S);const A=b(e,["language"]);n!==void 0&&A!=null&&w(n,["parameters","language"],A);const I=b(e,["outputMimeType"]);n!==void 0&&I!=null&&w(n,["parameters","outputOptions","mimeType"],I);const N=b(e,["outputCompressionQuality"]);n!==void 0&&N!=null&&w(n,["parameters","outputOptions","compressionQuality"],N);const z=b(e,["addWatermark"]);n!==void 0&&z!=null&&w(n,["parameters","addWatermark"],z);const G=b(e,["enhancePrompt"]);return n!==void 0&&G!=null&&w(n,["parameters","enhancePrompt"],G),r}function TW(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","model"],Sn(t,r));const i=b(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=b(e,["config"]);return o!=null&&w(n,["config"],SW(t,o,n)),n}function ax(t,e){const n={},r=b(e,["gcsUri"]);r!=null&&w(n,["gcsUri"],r);const i=b(e,["imageBytes"]);i!=null&&w(n,["bytesBase64Encoded"],Zl(t,i));const o=b(e,["mimeType"]);return o!=null&&w(n,["mimeType"],o),n}function PW(t,e){const n={},r=b(e,["maskMode"]);r!=null&&w(n,["maskMode"],r);const i=b(e,["segmentationClasses"]);i!=null&&w(n,["maskClasses"],i);const o=b(e,["maskDilation"]);return o!=null&&w(n,["dilation"],o),n}function AW(t,e){const n={},r=b(e,["controlType"]);r!=null&&w(n,["controlType"],r);const i=b(e,["enableControlImageComputation"]);return i!=null&&w(n,["computeControl"],i),n}function DW(t,e){const n={},r=b(e,["styleDescription"]);return r!=null&&w(n,["styleDescription"],r),n}function IW(t,e){const n={},r=b(e,["subjectType"]);r!=null&&w(n,["subjectType"],r);const i=b(e,["subjectDescription"]);return i!=null&&w(n,["subjectDescription"],i),n}function OW(t,e){const n={},r=b(e,["referenceImage"]);r!=null&&w(n,["referenceImage"],ax(t,r));const i=b(e,["referenceId"]);i!=null&&w(n,["referenceId"],i);const o=b(e,["referenceType"]);o!=null&&w(n,["referenceType"],o);const a=b(e,["maskImageConfig"]);a!=null&&w(n,["maskImageConfig"],PW(t,a));const u=b(e,["controlImageConfig"]);u!=null&&w(n,["controlImageConfig"],AW(t,u));const f=b(e,["styleImageConfig"]);f!=null&&w(n,["styleImageConfig"],DW(t,f));const h=b(e,["subjectImageConfig"]);return h!=null&&w(n,["subjectImageConfig"],IW(t,h)),n}function BW(t,e,n){const r={},i=b(e,["outputGcsUri"]);n!==void 0&&i!=null&&w(n,["parameters","storageUri"],i);const o=b(e,["negativePrompt"]);n!==void 0&&o!=null&&w(n,["parameters","negativePrompt"],o);const a=b(e,["numberOfImages"]);n!==void 0&&a!=null&&w(n,["parameters","sampleCount"],a);const u=b(e,["aspectRatio"]);n!==void 0&&u!=null&&w(n,["parameters","aspectRatio"],u);const f=b(e,["guidanceScale"]);n!==void 0&&f!=null&&w(n,["parameters","guidanceScale"],f);const h=b(e,["seed"]);n!==void 0&&h!=null&&w(n,["parameters","seed"],h);const m=b(e,["safetyFilterLevel"]);n!==void 0&&m!=null&&w(n,["parameters","safetySetting"],m);const _=b(e,["personGeneration"]);n!==void 0&&_!=null&&w(n,["parameters","personGeneration"],_);const E=b(e,["includeSafetyAttributes"]);n!==void 0&&E!=null&&w(n,["parameters","includeSafetyAttributes"],E);const S=b(e,["includeRaiReason"]);n!==void 0&&S!=null&&w(n,["parameters","includeRaiReason"],S);const A=b(e,["language"]);n!==void 0&&A!=null&&w(n,["parameters","language"],A);const I=b(e,["outputMimeType"]);n!==void 0&&I!=null&&w(n,["parameters","outputOptions","mimeType"],I);const N=b(e,["outputCompressionQuality"]);n!==void 0&&N!=null&&w(n,["parameters","outputOptions","compressionQuality"],N);const z=b(e,["editMode"]);n!==void 0&&z!=null&&w(n,["parameters","editMode"],z);const G=b(e,["baseSteps"]);return n!==void 0&&G!=null&&w(n,["parameters","editConfig","baseSteps"],G),r}function NW(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","model"],Sn(t,r));const i=b(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=b(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>OW(t,f))),w(n,["instances[0]","referenceImages"],u)}const a=b(e,["config"]);return a!=null&&w(n,["config"],BW(t,a,n)),n}function RW(t,e,n){const r={},i=b(e,["includeRaiReason"]);n!==void 0&&i!=null&&w(n,["parameters","includeRaiReason"],i);const o=b(e,["outputMimeType"]);n!==void 0&&o!=null&&w(n,["parameters","outputOptions","mimeType"],o);const a=b(e,["outputCompressionQuality"]);n!==void 0&&a!=null&&w(n,["parameters","outputOptions","compressionQuality"],a);const u=b(e,["numberOfImages"]);n!==void 0&&u!=null&&w(n,["parameters","sampleCount"],u);const f=b(e,["mode"]);return n!==void 0&&f!=null&&w(n,["parameters","mode"],f),r}function FW(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","model"],Sn(t,r));const i=b(e,["image"]);i!=null&&w(n,["instances[0]","image"],ax(t,i));const o=b(e,["upscaleFactor"]);o!=null&&w(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=b(e,["config"]);return a!=null&&w(n,["config"],RW(t,a,n)),n}function zW(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","name"],Sn(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function jW(t,e,n){const r={},i=b(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const o=b(e,["pageToken"]);n!==void 0&&o!=null&&w(n,["_query","pageToken"],o);const a=b(e,["filter"]);n!==void 0&&a!=null&&w(n,["_query","filter"],a);const u=b(e,["queryBase"]);return n!==void 0&&u!=null&&w(n,["_url","models_url"],f4(t,u)),r}function UW(t,e){const n={},r=b(e,["config"]);return r!=null&&w(n,["config"],jW(t,r,n)),n}function $W(t,e,n){const r={},i=b(e,["displayName"]);n!==void 0&&i!=null&&w(n,["displayName"],i);const o=b(e,["description"]);n!==void 0&&o!=null&&w(n,["description"],o);const a=b(e,["defaultCheckpointId"]);return n!==void 0&&a!=null&&w(n,["defaultCheckpointId"],a),r}function VW(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","model"],Sn(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],$W(t,i,n)),n}function GW(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","name"],Sn(t,r));const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function qW(t,e,n){const r={},i=b(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],vd(t,Vi(t,i)));const o=b(e,["tools"]);if(n!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>b4(t,f))),w(n,["tools"],u)}const a=b(e,["generationConfig"]);return n!==void 0&&a!=null&&w(n,["generationConfig"],a),r}function HW(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","model"],Sn(t,r));const i=b(e,["contents"]);if(i!=null){let a=ya(t,i);Array.isArray(a)&&(a=a.map(u=>vd(t,u))),w(n,["contents"],a)}const o=b(e,["config"]);return o!=null&&w(n,["config"],qW(t,o,n)),n}function WW(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","model"],Sn(t,r));const i=b(e,["contents"]);if(i!=null){let a=ya(t,i);Array.isArray(a)&&(a=a.map(u=>vd(t,u))),w(n,["contents"],a)}const o=b(e,["config"]);return o!=null&&w(n,["config"],o),n}function ZW(t,e,n){const r={},i=b(e,["numberOfVideos"]);n!==void 0&&i!=null&&w(n,["parameters","sampleCount"],i);const o=b(e,["outputGcsUri"]);n!==void 0&&o!=null&&w(n,["parameters","storageUri"],o);const a=b(e,["fps"]);n!==void 0&&a!=null&&w(n,["parameters","fps"],a);const u=b(e,["durationSeconds"]);n!==void 0&&u!=null&&w(n,["parameters","durationSeconds"],u);const f=b(e,["seed"]);n!==void 0&&f!=null&&w(n,["parameters","seed"],f);const h=b(e,["aspectRatio"]);n!==void 0&&h!=null&&w(n,["parameters","aspectRatio"],h);const m=b(e,["resolution"]);n!==void 0&&m!=null&&w(n,["parameters","resolution"],m);const _=b(e,["personGeneration"]);n!==void 0&&_!=null&&w(n,["parameters","personGeneration"],_);const E=b(e,["pubsubTopic"]);n!==void 0&&E!=null&&w(n,["parameters","pubsubTopic"],E);const S=b(e,["negativePrompt"]);n!==void 0&&S!=null&&w(n,["parameters","negativePrompt"],S);const A=b(e,["enhancePrompt"]);return n!==void 0&&A!=null&&w(n,["parameters","enhancePrompt"],A),r}function KW(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["_url","model"],Sn(t,r));const i=b(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=b(e,["image"]);o!=null&&w(n,["instances[0]","image"],ax(t,o));const a=b(e,["config"]);return a!=null&&w(n,["config"],ZW(t,a,n)),n}function YW(t,e){const n={},r=b(e,["fps"]);r!=null&&w(n,["fps"],r);const i=b(e,["endOffset"]);i!=null&&w(n,["endOffset"],i);const o=b(e,["startOffset"]);return o!=null&&w(n,["startOffset"],o),n}function JW(t,e){const n={},r=b(e,["data"]);r!=null&&w(n,["data"],r);const i=b(e,["mimeType"]);return i!=null&&w(n,["mimeType"],i),n}function XW(t,e){const n={},r=b(e,["videoMetadata"]);r!=null&&w(n,["videoMetadata"],YW(t,r));const i=b(e,["thought"]);i!=null&&w(n,["thought"],i);const o=b(e,["inlineData"]);o!=null&&w(n,["inlineData"],JW(t,o));const a=b(e,["codeExecutionResult"]);a!=null&&w(n,["codeExecutionResult"],a);const u=b(e,["executableCode"]);u!=null&&w(n,["executableCode"],u);const f=b(e,["fileData"]);f!=null&&w(n,["fileData"],f);const h=b(e,["functionCall"]);h!=null&&w(n,["functionCall"],h);const m=b(e,["functionResponse"]);m!=null&&w(n,["functionResponse"],m);const _=b(e,["text"]);return _!=null&&w(n,["text"],_),n}function QW(t,e){const n={},r=b(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>XW(t,a))),w(n,["parts"],o)}const i=b(e,["role"]);return i!=null&&w(n,["role"],i),n}function eZ(t,e){const n={},r=b(e,["citationSources"]);return r!=null&&w(n,["citations"],r),n}function tZ(t,e){const n={},r=b(e,["retrievedUrl"]);r!=null&&w(n,["retrievedUrl"],r);const i=b(e,["urlRetrievalStatus"]);return i!=null&&w(n,["urlRetrievalStatus"],i),n}function nZ(t,e){const n={},r=b(e,["urlMetadata"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>tZ(t,o))),w(n,["urlMetadata"],i)}return n}function rZ(t,e){const n={},r=b(e,["content"]);r!=null&&w(n,["content"],QW(t,r));const i=b(e,["citationMetadata"]);i!=null&&w(n,["citationMetadata"],eZ(t,i));const o=b(e,["tokenCount"]);o!=null&&w(n,["tokenCount"],o);const a=b(e,["finishReason"]);a!=null&&w(n,["finishReason"],a);const u=b(e,["urlContextMetadata"]);u!=null&&w(n,["urlContextMetadata"],nZ(t,u));const f=b(e,["avgLogprobs"]);f!=null&&w(n,["avgLogprobs"],f);const h=b(e,["groundingMetadata"]);h!=null&&w(n,["groundingMetadata"],h);const m=b(e,["index"]);m!=null&&w(n,["index"],m);const _=b(e,["logprobsResult"]);_!=null&&w(n,["logprobsResult"],_);const E=b(e,["safetyRatings"]);return E!=null&&w(n,["safetyRatings"],E),n}function ik(t,e){const n={},r=b(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>rZ(t,f))),w(n,["candidates"],u)}const i=b(e,["modelVersion"]);i!=null&&w(n,["modelVersion"],i);const o=b(e,["promptFeedback"]);o!=null&&w(n,["promptFeedback"],o);const a=b(e,["usageMetadata"]);return a!=null&&w(n,["usageMetadata"],a),n}function iZ(t,e){const n={},r=b(e,["values"]);return r!=null&&w(n,["values"],r),n}function oZ(){return{}}function aZ(t,e){const n={},r=b(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>iZ(t,a))),w(n,["embeddings"],o)}return b(e,["metadata"])!=null&&w(n,["metadata"],oZ()),n}function sZ(t,e){const n={},r=b(e,["bytesBase64Encoded"]);r!=null&&w(n,["imageBytes"],Zl(t,r));const i=b(e,["mimeType"]);return i!=null&&w(n,["mimeType"],i),n}function w4(t,e){const n={},r=b(e,["safetyAttributes","categories"]);r!=null&&w(n,["categories"],r);const i=b(e,["safetyAttributes","scores"]);i!=null&&w(n,["scores"],i);const o=b(e,["contentType"]);return o!=null&&w(n,["contentType"],o),n}function lZ(t,e){const n={},r=b(e,["_self"]);r!=null&&w(n,["image"],sZ(t,r));const i=b(e,["raiFilteredReason"]);i!=null&&w(n,["raiFilteredReason"],i);const o=b(e,["_self"]);return o!=null&&w(n,["safetyAttributes"],w4(t,o)),n}function uZ(t,e){const n={},r=b(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>lZ(t,a))),w(n,["generatedImages"],o)}const i=b(e,["positivePromptSafetyAttributes"]);return i!=null&&w(n,["positivePromptSafetyAttributes"],w4(t,i)),n}function cZ(t,e){const n={},r=b(e,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=b(e,["createTime"]);i!=null&&w(n,["createTime"],i);const o=b(e,["updateTime"]);return o!=null&&w(n,["updateTime"],o),n}function c_(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["name"],r);const i=b(e,["displayName"]);i!=null&&w(n,["displayName"],i);const o=b(e,["description"]);o!=null&&w(n,["description"],o);const a=b(e,["version"]);a!=null&&w(n,["version"],a);const u=b(e,["_self"]);u!=null&&w(n,["tunedModelInfo"],cZ(t,u));const f=b(e,["inputTokenLimit"]);f!=null&&w(n,["inputTokenLimit"],f);const h=b(e,["outputTokenLimit"]);h!=null&&w(n,["outputTokenLimit"],h);const m=b(e,["supportedGenerationMethods"]);return m!=null&&w(n,["supportedActions"],m),n}function dZ(t,e){const n={},r=b(e,["nextPageToken"]);r!=null&&w(n,["nextPageToken"],r);const i=b(e,["_self"]);if(i!=null){let o=h4(t,i);Array.isArray(o)&&(o=o.map(a=>c_(t,a))),w(n,["models"],o)}return n}function fZ(){return{}}function hZ(t,e){const n={},r=b(e,["totalTokens"]);r!=null&&w(n,["totalTokens"],r);const i=b(e,["cachedContentTokenCount"]);return i!=null&&w(n,["cachedContentTokenCount"],i),n}function pZ(t,e){const n={},r=b(e,["video","uri"]);r!=null&&w(n,["uri"],r);const i=b(e,["video","encodedVideo"]);i!=null&&w(n,["videoBytes"],Zl(t,i));const o=b(e,["encoding"]);return o!=null&&w(n,["mimeType"],o),n}function mZ(t,e){const n={},r=b(e,["_self"]);return r!=null&&w(n,["video"],pZ(t,r)),n}function gZ(t,e){const n={},r=b(e,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>mZ(t,u))),w(n,["generatedVideos"],a)}const i=b(e,["raiMediaFilteredCount"]);i!=null&&w(n,["raiMediaFilteredCount"],i);const o=b(e,["raiMediaFilteredReasons"]);return o!=null&&w(n,["raiMediaFilteredReasons"],o),n}function yZ(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["name"],r);const i=b(e,["metadata"]);i!=null&&w(n,["metadata"],i);const o=b(e,["done"]);o!=null&&w(n,["done"],o);const a=b(e,["error"]);a!=null&&w(n,["error"],a);const u=b(e,["response","generateVideoResponse"]);return u!=null&&w(n,["response"],gZ(t,u)),n}function vZ(t,e){const n={},r=b(e,["fps"]);r!=null&&w(n,["fps"],r);const i=b(e,["endOffset"]);i!=null&&w(n,["endOffset"],i);const o=b(e,["startOffset"]);return o!=null&&w(n,["startOffset"],o),n}function _Z(t,e){const n={},r=b(e,["displayName"]);r!=null&&w(n,["displayName"],r);const i=b(e,["data"]);i!=null&&w(n,["data"],i);const o=b(e,["mimeType"]);return o!=null&&w(n,["mimeType"],o),n}function xZ(t,e){const n={},r=b(e,["videoMetadata"]);r!=null&&w(n,["videoMetadata"],vZ(t,r));const i=b(e,["thought"]);i!=null&&w(n,["thought"],i);const o=b(e,["inlineData"]);o!=null&&w(n,["inlineData"],_Z(t,o));const a=b(e,["codeExecutionResult"]);a!=null&&w(n,["codeExecutionResult"],a);const u=b(e,["executableCode"]);u!=null&&w(n,["executableCode"],u);const f=b(e,["fileData"]);f!=null&&w(n,["fileData"],f);const h=b(e,["functionCall"]);h!=null&&w(n,["functionCall"],h);const m=b(e,["functionResponse"]);m!=null&&w(n,["functionResponse"],m);const _=b(e,["text"]);return _!=null&&w(n,["text"],_),n}function bZ(t,e){const n={},r=b(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>xZ(t,a))),w(n,["parts"],o)}const i=b(e,["role"]);return i!=null&&w(n,["role"],i),n}function wZ(t,e){const n={},r=b(e,["citations"]);return r!=null&&w(n,["citations"],r),n}function CZ(t,e){const n={},r=b(e,["content"]);r!=null&&w(n,["content"],bZ(t,r));const i=b(e,["citationMetadata"]);i!=null&&w(n,["citationMetadata"],wZ(t,i));const o=b(e,["finishMessage"]);o!=null&&w(n,["finishMessage"],o);const a=b(e,["finishReason"]);a!=null&&w(n,["finishReason"],a);const u=b(e,["avgLogprobs"]);u!=null&&w(n,["avgLogprobs"],u);const f=b(e,["groundingMetadata"]);f!=null&&w(n,["groundingMetadata"],f);const h=b(e,["index"]);h!=null&&w(n,["index"],h);const m=b(e,["logprobsResult"]);m!=null&&w(n,["logprobsResult"],m);const _=b(e,["safetyRatings"]);return _!=null&&w(n,["safetyRatings"],_),n}function ok(t,e){const n={},r=b(e,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(m=>CZ(t,m))),w(n,["candidates"],h)}const i=b(e,["createTime"]);i!=null&&w(n,["createTime"],i);const o=b(e,["responseId"]);o!=null&&w(n,["responseId"],o);const a=b(e,["modelVersion"]);a!=null&&w(n,["modelVersion"],a);const u=b(e,["promptFeedback"]);u!=null&&w(n,["promptFeedback"],u);const f=b(e,["usageMetadata"]);return f!=null&&w(n,["usageMetadata"],f),n}function LZ(t,e){const n={},r=b(e,["truncated"]);r!=null&&w(n,["truncated"],r);const i=b(e,["token_count"]);return i!=null&&w(n,["tokenCount"],i),n}function EZ(t,e){const n={},r=b(e,["values"]);r!=null&&w(n,["values"],r);const i=b(e,["statistics"]);return i!=null&&w(n,["statistics"],LZ(t,i)),n}function kZ(t,e){const n={},r=b(e,["billableCharacterCount"]);return r!=null&&w(n,["billableCharacterCount"],r),n}function MZ(t,e){const n={},r=b(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>EZ(t,a))),w(n,["embeddings"],o)}const i=b(e,["metadata"]);return i!=null&&w(n,["metadata"],kZ(t,i)),n}function SZ(t,e){const n={},r=b(e,["gcsUri"]);r!=null&&w(n,["gcsUri"],r);const i=b(e,["bytesBase64Encoded"]);i!=null&&w(n,["imageBytes"],Zl(t,i));const o=b(e,["mimeType"]);return o!=null&&w(n,["mimeType"],o),n}function C4(t,e){const n={},r=b(e,["safetyAttributes","categories"]);r!=null&&w(n,["categories"],r);const i=b(e,["safetyAttributes","scores"]);i!=null&&w(n,["scores"],i);const o=b(e,["contentType"]);return o!=null&&w(n,["contentType"],o),n}function sx(t,e){const n={},r=b(e,["_self"]);r!=null&&w(n,["image"],SZ(t,r));const i=b(e,["raiFilteredReason"]);i!=null&&w(n,["raiFilteredReason"],i);const o=b(e,["_self"]);o!=null&&w(n,["safetyAttributes"],C4(t,o));const a=b(e,["prompt"]);return a!=null&&w(n,["enhancedPrompt"],a),n}function TZ(t,e){const n={},r=b(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>sx(t,a))),w(n,["generatedImages"],o)}const i=b(e,["positivePromptSafetyAttributes"]);return i!=null&&w(n,["positivePromptSafetyAttributes"],C4(t,i)),n}function PZ(t,e){const n={},r=b(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>sx(t,o))),w(n,["generatedImages"],i)}return n}function AZ(t,e){const n={},r=b(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>sx(t,o))),w(n,["generatedImages"],i)}return n}function DZ(t,e){const n={},r=b(e,["endpoint"]);r!=null&&w(n,["name"],r);const i=b(e,["deployedModelId"]);return i!=null&&w(n,["deployedModelId"],i),n}function IZ(t,e){const n={},r=b(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&w(n,["baseModel"],r);const i=b(e,["createTime"]);i!=null&&w(n,["createTime"],i);const o=b(e,["updateTime"]);return o!=null&&w(n,["updateTime"],o),n}function OZ(t,e){const n={},r=b(e,["checkpointId"]);r!=null&&w(n,["checkpointId"],r);const i=b(e,["epoch"]);i!=null&&w(n,["epoch"],i);const o=b(e,["step"]);return o!=null&&w(n,["step"],o),n}function d_(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["name"],r);const i=b(e,["displayName"]);i!=null&&w(n,["displayName"],i);const o=b(e,["description"]);o!=null&&w(n,["description"],o);const a=b(e,["versionId"]);a!=null&&w(n,["version"],a);const u=b(e,["deployedModels"]);if(u!=null){let E=u;Array.isArray(E)&&(E=E.map(S=>DZ(t,S))),w(n,["endpoints"],E)}const f=b(e,["labels"]);f!=null&&w(n,["labels"],f);const h=b(e,["_self"]);h!=null&&w(n,["tunedModelInfo"],IZ(t,h));const m=b(e,["defaultCheckpointId"]);m!=null&&w(n,["defaultCheckpointId"],m);const _=b(e,["checkpoints"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(S=>OZ(t,S))),w(n,["checkpoints"],E)}return n}function BZ(t,e){const n={},r=b(e,["nextPageToken"]);r!=null&&w(n,["nextPageToken"],r);const i=b(e,["_self"]);if(i!=null){let o=h4(t,i);Array.isArray(o)&&(o=o.map(a=>d_(t,a))),w(n,["models"],o)}return n}function NZ(){return{}}function RZ(t,e){const n={},r=b(e,["totalTokens"]);return r!=null&&w(n,["totalTokens"],r),n}function FZ(t,e){const n={},r=b(e,["tokensInfo"]);return r!=null&&w(n,["tokensInfo"],r),n}function zZ(t,e){const n={},r=b(e,["gcsUri"]);r!=null&&w(n,["uri"],r);const i=b(e,["bytesBase64Encoded"]);i!=null&&w(n,["videoBytes"],Zl(t,i));const o=b(e,["mimeType"]);return o!=null&&w(n,["mimeType"],o),n}function jZ(t,e){const n={},r=b(e,["_self"]);return r!=null&&w(n,["video"],zZ(t,r)),n}function UZ(t,e){const n={},r=b(e,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>jZ(t,u))),w(n,["generatedVideos"],a)}const i=b(e,["raiMediaFilteredCount"]);i!=null&&w(n,["raiMediaFilteredCount"],i);const o=b(e,["raiMediaFilteredReasons"]);return o!=null&&w(n,["raiMediaFilteredReasons"],o),n}function $Z(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["name"],r);const i=b(e,["metadata"]);i!=null&&w(n,["metadata"],i);const o=b(e,["done"]);o!=null&&w(n,["done"],o);const a=b(e,["error"]);a!=null&&w(n,["error"],a);const u=b(e,["response"]);return u!=null&&w(n,["response"],UZ(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VZ="Content-Type",GZ="X-Server-Timeout",qZ="User-Agent",f_="x-goog-api-client",HZ="0.15.0",WZ=`google-genai-sdk/${HZ}`,ZZ="v1beta1",KZ="v1beta",ak=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class L4 extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class h_ extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class YZ{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:ZZ,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:KZ,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>i.abort(),n.timeout),r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await sk(i),new a_(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await sk(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return pf(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:f}=yield Nn(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=o.decode(f);try{const _=JSON.parse(h);if("error"in _){const E=JSON.parse(JSON.stringify(_.error)),S=E.status,A=E.code,I=`got status: ${S}. ${JSON.stringify(_)}`;if(A>=400&&A<500)throw new L4(I);if(A>=500&&A<600)throw new h_(I)}}catch(_){const E=_;if(E.name==="ClientError"||E.name==="ServerError")throw _}a+=h;let m=a.match(ak);for(;m;){const _=m[1];try{const E=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Nn(new a_(E)),a=a.slice(m[0].length),m=a.match(ak)}catch(E){throw new Error(`exception parsing stream chunk ${_}. ${E}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=WZ+" "+this.clientOptions.userAgentExtra;return e[qZ]=n,e[f_]=n,e[VZ]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(GZ,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f=await this.fetchUploadUrl(i,n);return o.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},a=await this.request({path:Ft("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=a==null?void 0:a.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function sk(t){var e;if(t===void 0)throw new h_("response is undefined");if(!t.ok){const n=t.status,r=t.statusText;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=`got status: ${n} ${r}. ${JSON.stringify(i)}`;throw n>=400&&n<500?new L4(o):n>=500&&n<600?new h_(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JZ="mcp_used/unknown";function p_(t){for(const e of t)if(lx(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function m_(t){var e;t[f_]=(((e=t[f_])!==null&&e!==void 0?e:"")+` ${JZ}`).trimStart()}function XZ(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>lx(i)))!==null&&r!==void 0?r:!1}function QZ(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!lx(i)))!==null&&r!==void 0?r:!1}function lx(t){return t!==null&&typeof t=="object"&&"tool"in t&&"callTool"in t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function eK(t,e,n){const r=new d9,i=JSON.parse(n.data),o=xH(t,i);Object.assign(r,o),e(r)}class tK{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=iK(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let h=()=>{};const m=new Promise(Z=>{h=Z}),_=e.callbacks,E=function(){h({})},S=this.apiClient,A={onopen:E,onmessage:Z=>{eK(S,_.onmessage,Z)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(Z){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(Z){}},I=this.webSocketFactory.create(f,rK(a),A);I.connect(),await m;const N=Sn(this.apiClient,e.model),z=v4(this.apiClient,{model:N}),G=u_(this.apiClient,{setup:z});return I.send(JSON.stringify(G)),new nK(I,this.apiClient)}}class nK{constructor(e,n){this.conn=e,this.apiClient=n}async setClientContent(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Nq(this.apiClient,e),r=_4(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Rq(this.apiClient,e),r=u_(this.apiClient,n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=u_(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(qc.PLAY)}pause(){this.sendPlaybackControl(qc.PAUSE)}stop(){this.sendPlaybackControl(qc.STOP)}resetContext(){this.sendPlaybackControl(qc.RESET_CONTEXT)}close(){this.conn.close()}}function rK(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function iK(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oK="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function aK(t,e,n){const r=new c9;let i;if(n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),t.isVertexAI()){const o=dH(t,i);Object.assign(r,o)}else{const o=cH(t,i);Object.assign(r,o)}e(r)}class sK{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new tK(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,u;const f=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let m;const _=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&p_(e.config.tools)&&m_(_);const E=dK(_);if(this.apiClient.isVertexAI())m=`${f}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E);else{const Le=this.apiClient.getApiKey();m=`${f}/ws/google.ai.generativelanguage.${h}.GenerativeService.BidiGenerateContent?key=${Le}`}let S=()=>{};const A=new Promise(Le=>{S=Le}),I=e.callbacks,N=function(){var Le;(Le=I==null?void 0:I.onopen)===null||Le===void 0||Le.call(I),S({})},z=this.apiClient,G={onopen:N,onmessage:Le=>{aK(z,I.onmessage,Le)},onerror:(n=I==null?void 0:I.onerror)!==null&&n!==void 0?n:function(Le){},onclose:(r=I==null?void 0:I.onclose)!==null&&r!==void 0?r:function(Le){}},Z=this.webSocketFactory.create(m,cK(E),G);Z.connect(),await A;let X=Sn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const Le=this.apiClient.getProject(),Pe=this.apiClient.getLocation();X=`projects/${Le}/locations/${Pe}/`+X}let te={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Op.AUDIO]}:e.config.responseModalities=[Op.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],se=[];for(const Le of ne)if(this.isCallableTool(Le)){const Pe=Le;se.push(await Pe.tool())}else se.push(Le);se.length>0&&(e.config.tools=se);const ke={model:X,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?te=Tq(this.apiClient,ke):te=Sq(this.apiClient,ke),delete te.config,Z.send(JSON.stringify(te)),new uK(Z,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const lK={turnComplete:!0};class uK{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ya(e,n.turns),e.isVertexAI()?r=r.map(i=>vd(e,i)):r=r.map(i=>wm(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(oK)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},lK),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Bq(this.apiClient,e)}:n={realtimeInput:Oq(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function cK(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function dK(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lk=10;function uk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Vh(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Vh(t){return"callTool"in t&&typeof t.callTool=="function"}function ck(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fK extends Hf{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,u;if(n.config&&n.config.tools&&p_(n.config.tools)&&(n.config.httpOptions||(n.config.httpOptions={}),n.config.httpOptions.headers||(n.config.httpOptions.headers=this.apiClient.getDefaultHeaders()),m_(n.config.httpOptions.headers)),!XZ(n)||uk(n.config))return await this.generateContentInternal(n);if(QZ(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");const f=await this.transformCallableTools(n);let h,m;const _=ya(this.apiClient,f.contents),E=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:lk;let S=0;for(;S<E&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,I=[];for(const N of(u=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(Vh(N)){const G=await N.callTool(h.functionCalls);I.push(...G)}S++,m={role:"user",parts:I},f.contents=ya(this.apiClient,f.contents),f.contents.push(A),f.contents.push(m),ck(f.config)&&(_.push(A),_.push(m))}return ck(f.config)&&(h.automaticFunctionCallingHistory=_),h},this.generateContentStream=async n=>{if(n.config&&n.config.tools&&p_(n.config.tools)&&(n.config.httpOptions||(n.config.httpOptions={}),n.config.httpOptions.headers||(n.config.httpOptions.headers=this.apiClient.getDefaultHeaders()),m_(n.config.httpOptions.headers)),uk(n.config)){const r=await this.transformCallableTools(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:a.push(f);let u;return o?u={generatedImages:a,positivePromptSafetyAttributes:o}:u={generatedImages:a},u}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new bm(ud.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)}}async transformCallableTools(e){var n;const r=(n=e.config)===null||n===void 0?void 0:n.tools;if(!r)return e;const i=await Promise.all(r.map(async a=>Vh(a)?await a.tool():a)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};return o.config.tools=i,o}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Vh(a)){const u=a,f=await u.tool();for(const h of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!h.name)throw new Error("Function declaration name is required.");if(o.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);o.set(h.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:lk;let a=!1,u=0;const f=await this.initAfcToolsMap(e);return function(h,m,_){var E,S;return pf(this,arguments,function*(){for(var A,I,N,z;u<o;){a&&(u++,a=!1);const te=yield Nn(h.transformCallableTools(_)),ne=yield Nn(h.generateContentStreamInternal(te)),se=[],ke=[];try{for(var G=!0,Z=(I=void 0,$h(ne)),X;X=yield Nn(Z.next()),A=X.done,!A;G=!0){z=X.value,G=!1;const Le=z;if(yield yield Nn(Le),Le.candidates&&(!((E=Le.candidates[0])===null||E===void 0)&&E.content)){ke.push(Le.candidates[0].content);for(const Pe of(S=Le.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(u<o&&Pe.functionCall){if(!Pe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(Pe.functionCall.name)){const _e=yield Nn(m.get(Pe.functionCall.name).callTool([Pe.functionCall]));se.push(..._e)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${Pe.functionCall.name}`)}}}}catch(Le){I={error:Le}}finally{try{!G&&!A&&(N=Z.return)&&(yield Nn(N.call(Z)))}finally{if(I)throw I.error}}if(se.length>0){a=!0;const Le=new tf;Le.candidates=[{content:{role:"user",parts:se}}],yield yield Nn(Le);const Pe=[];Pe.push(...ke),Pe.push({role:"user",parts:se});const _e=ya(h.apiClient,_.contents).concat(Pe);_.contents=_e}else break}})}(this,f,e)}async generateContentInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=rk(this.apiClient,e);return u=Ft("{model}:generateContent",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>{const _=ok(this.apiClient,m),E=new tf;return Object.assign(E,_),E})}else{const h=nk(this.apiClient,e);return u=Ft("{model}:generateContent",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const _=ik(this.apiClient,m),E=new tf;return Object.assign(E,_),E})}}async generateContentStreamInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=rk(this.apiClient,e);u=Ft("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h.config,delete h._url,delete h._query;const m=this.apiClient;return a=m.requestStream({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(_){return pf(this,arguments,function*(){var E,S,A,I;try{for(var N=!0,z=$h(_),G;G=yield Nn(z.next()),E=G.done,!E;N=!0){I=G.value,N=!1;const X=ok(m,yield Nn(I.json())),te=new tf;Object.assign(te,X),yield yield Nn(te)}}catch(Z){S={error:Z}}finally{try{!N&&!E&&(A=z.return)&&(yield Nn(A.call(z)))}finally{if(S)throw S.error}}})})}else{const h=nk(this.apiClient,e);u=Ft("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h.config,delete h._url,delete h._query;const m=this.apiClient;return a=m.requestStream({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(_){return pf(this,arguments,function*(){var E,S,A,I;try{for(var N=!0,z=$h(_),G;G=yield Nn(z.next()),E=G.done,!E;N=!0){I=G.value,N=!1;const X=ik(m,yield Nn(I.json())),te=new tf;Object.assign(te,X),yield yield Nn(te)}}catch(Z){S={error:Z}}finally{try{!N&&!E&&(A=z.return)&&(yield Nn(A.call(z)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=MW(this.apiClient,e);return u=Ft("{model}:predict",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>{const _=MZ(this.apiClient,m),E=new NE;return Object.assign(E,_),E})}else{const h=VH(this.apiClient,e);return u=Ft("{model}:batchEmbedContents",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const _=aZ(this.apiClient,m),E=new NE;return Object.assign(E,_),E})}}async generateImagesInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=TW(this.apiClient,e);return u=Ft("{model}:predict",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>{const _=TZ(this.apiClient,m),E=new RE;return Object.assign(E,_),E})}else{const h=qH(this.apiClient,e);return u=Ft("{model}:predict",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const _=uZ(this.apiClient,m),E=new RE;return Object.assign(E,_),E})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=NW(this.apiClient,e);return o=Ft("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const h=PZ(this.apiClient,f),m=new i9;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=FW(this.apiClient,e);return o=Ft("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const h=AZ(this.apiClient,f),m=new o9;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=zW(this.apiClient,e);return u=Ft("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>d_(this.apiClient,m))}else{const h=HH(this.apiClient,e);return u=Ft("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>c_(this.apiClient,m))}}async listInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=UW(this.apiClient,e);return u=Ft("{models_url}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>{const _=BZ(this.apiClient,m),E=new FE;return Object.assign(E,_),E})}else{const h=ZH(this.apiClient,e);return u=Ft("{models_url}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const _=dZ(this.apiClient,m),E=new FE;return Object.assign(E,_),E})}}async update(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=VW(this.apiClient,e);return u=Ft("{model}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>d_(this.apiClient,m))}else{const h=YH(this.apiClient,e);return u=Ft("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>c_(this.apiClient,m))}}async delete(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=GW(this.apiClient,e);return u=Ft("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(()=>{const m=NZ(),_=new zE;return Object.assign(_,m),_})}else{const h=JH(this.apiClient,e);return u=Ft("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(()=>{const m=fZ(),_=new zE;return Object.assign(_,m),_})}}async countTokens(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=HW(this.apiClient,e);return u=Ft("{model}:countTokens",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>{const _=RZ(this.apiClient,m),E=new jE;return Object.assign(E,_),E})}else{const h=QH(this.apiClient,e);return u=Ft("{model}:countTokens",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const _=hZ(this.apiClient,m),E=new jE;return Object.assign(E,_),E})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=WW(this.apiClient,e);return o=Ft("{model}:computeTokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const h=FZ(this.apiClient,f),m=new a9;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=KW(this.apiClient,e);return u=Ft("{model}:predictLongRunning",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>$Z(this.apiClient,m))}else{const h=nW(this.apiClient,e);return u=Ft("{model}:predictLongRunning",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>yZ(this.apiClient,m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hK(t,e){const n={},r=b(e,["operationName"]);r!=null&&w(n,["_url","operationName"],r);const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function pK(t,e){const n={},r=b(e,["operationName"]);r!=null&&w(n,["_url","operationName"],r);const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function mK(t,e){const n={},r=b(e,["operationName"]);r!=null&&w(n,["operationName"],r);const i=b(e,["resourceName"]);i!=null&&w(n,["_url","resourceName"],i);const o=b(e,["config"]);return o!=null&&w(n,["config"],o),n}function gK(t,e){const n={},r=b(e,["video","uri"]);r!=null&&w(n,["uri"],r);const i=b(e,["video","encodedVideo"]);i!=null&&w(n,["videoBytes"],Zl(t,i));const o=b(e,["encoding"]);return o!=null&&w(n,["mimeType"],o),n}function yK(t,e){const n={},r=b(e,["_self"]);return r!=null&&w(n,["video"],gK(t,r)),n}function vK(t,e){const n={},r=b(e,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>yK(t,u))),w(n,["generatedVideos"],a)}const i=b(e,["raiMediaFilteredCount"]);i!=null&&w(n,["raiMediaFilteredCount"],i);const o=b(e,["raiMediaFilteredReasons"]);return o!=null&&w(n,["raiMediaFilteredReasons"],o),n}function _K(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["name"],r);const i=b(e,["metadata"]);i!=null&&w(n,["metadata"],i);const o=b(e,["done"]);o!=null&&w(n,["done"],o);const a=b(e,["error"]);a!=null&&w(n,["error"],a);const u=b(e,["response","generateVideoResponse"]);return u!=null&&w(n,["response"],vK(t,u)),n}function xK(t,e){const n={},r=b(e,["gcsUri"]);r!=null&&w(n,["uri"],r);const i=b(e,["bytesBase64Encoded"]);i!=null&&w(n,["videoBytes"],Zl(t,i));const o=b(e,["mimeType"]);return o!=null&&w(n,["mimeType"],o),n}function bK(t,e){const n={},r=b(e,["_self"]);return r!=null&&w(n,["video"],xK(t,r)),n}function wK(t,e){const n={},r=b(e,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>bK(t,u))),w(n,["generatedVideos"],a)}const i=b(e,["raiMediaFilteredCount"]);i!=null&&w(n,["raiMediaFilteredCount"],i);const o=b(e,["raiMediaFilteredReasons"]);return o!=null&&w(n,["raiMediaFilteredReasons"],o),n}function dk(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["name"],r);const i=b(e,["metadata"]);i!=null&&w(n,["metadata"],i);const o=b(e,["done"]);o!=null&&w(n,["done"],o);const a=b(e,["error"]);a!=null&&w(n,["error"],a);const u=b(e,["response"]);return u!=null&&w(n,["response"],wK(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CK extends Hf{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;return r&&"httpOptions"in r&&(o=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=pK(this.apiClient,e);return u=Ft("{operationName}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>dk(this.apiClient,m))}else{const h=hK(this.apiClient,e);return u=Ft("{operationName}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>_K(this.apiClient,m))}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=mK(this.apiClient,e);return o=Ft("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>dk(this.apiClient,f))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LK(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["_url","name"],r);const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function EK(t,e,n){const r={},i=b(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const o=b(e,["pageToken"]);n!==void 0&&o!=null&&w(n,["_query","pageToken"],o);const a=b(e,["filter"]);return n!==void 0&&a!=null&&w(n,["_query","filter"],a),r}function kK(t,e){const n={},r=b(e,["config"]);return r!=null&&w(n,["config"],EK(t,r,n)),n}function MK(t,e){const n={},r=b(e,["textInput"]);r!=null&&w(n,["textInput"],r);const i=b(e,["output"]);return i!=null&&w(n,["output"],i),n}function SK(t,e){const n={};if(b(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=b(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>MK(t,o))),w(n,["examples","examples"],i)}return n}function TK(t,e,n){const r={};if(b(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=b(e,["tunedModelDisplayName"]);if(n!==void 0&&i!=null&&w(n,["displayName"],i),b(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=b(e,["epochCount"]);n!==void 0&&o!=null&&w(n,["tuningTask","hyperparameters","epochCount"],o);const a=b(e,["learningRateMultiplier"]);if(a!=null&&w(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),b(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(b(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=b(e,["batchSize"]);n!==void 0&&u!=null&&w(n,["tuningTask","hyperparameters","batchSize"],u);const f=b(e,["learningRate"]);return n!==void 0&&f!=null&&w(n,["tuningTask","hyperparameters","learningRate"],f),r}function PK(t,e){const n={},r=b(e,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=b(e,["trainingDataset"]);i!=null&&w(n,["tuningTask","trainingData"],SK(t,i));const o=b(e,["config"]);return o!=null&&w(n,["config"],TK(t,o,n)),n}function AK(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["_url","name"],r);const i=b(e,["config"]);return i!=null&&w(n,["config"],i),n}function DK(t,e,n){const r={},i=b(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const o=b(e,["pageToken"]);n!==void 0&&o!=null&&w(n,["_query","pageToken"],o);const a=b(e,["filter"]);return n!==void 0&&a!=null&&w(n,["_query","filter"],a),r}function IK(t,e){const n={},r=b(e,["config"]);return r!=null&&w(n,["config"],DK(t,r,n)),n}function OK(t,e,n){const r={},i=b(e,["gcsUri"]);if(n!==void 0&&i!=null&&w(n,["supervisedTuningSpec","trainingDatasetUri"],i),b(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function BK(t,e){const n={},r=b(e,["gcsUri"]);return r!=null&&w(n,["validationDatasetUri"],r),n}function NK(t,e,n){const r={},i=b(e,["validationDataset"]);n!==void 0&&i!=null&&w(n,["supervisedTuningSpec"],BK(t,i));const o=b(e,["tunedModelDisplayName"]);n!==void 0&&o!=null&&w(n,["tunedModelDisplayName"],o);const a=b(e,["description"]);n!==void 0&&a!=null&&w(n,["description"],a);const u=b(e,["epochCount"]);n!==void 0&&u!=null&&w(n,["supervisedTuningSpec","hyperParameters","epochCount"],u);const f=b(e,["learningRateMultiplier"]);n!==void 0&&f!=null&&w(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f);const h=b(e,["exportLastCheckpointOnly"]);n!==void 0&&h!=null&&w(n,["supervisedTuningSpec","exportLastCheckpointOnly"],h);const m=b(e,["adapterSize"]);if(n!==void 0&&m!=null&&w(n,["supervisedTuningSpec","hyperParameters","adapterSize"],m),b(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(b(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function RK(t,e){const n={},r=b(e,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=b(e,["trainingDataset"]);i!=null&&w(n,["supervisedTuningSpec","trainingDatasetUri"],OK(t,i,n));const o=b(e,["config"]);return o!=null&&w(n,["config"],NK(t,o,n)),n}function FK(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["model"],r);const i=b(e,["name"]);return i!=null&&w(n,["endpoint"],i),n}function E4(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["name"],r);const i=b(e,["state"]);i!=null&&w(n,["state"],c4(t,i));const o=b(e,["createTime"]);o!=null&&w(n,["createTime"],o);const a=b(e,["tuningTask","startTime"]);a!=null&&w(n,["startTime"],a);const u=b(e,["tuningTask","completeTime"]);u!=null&&w(n,["endTime"],u);const f=b(e,["updateTime"]);f!=null&&w(n,["updateTime"],f);const h=b(e,["description"]);h!=null&&w(n,["description"],h);const m=b(e,["baseModel"]);m!=null&&w(n,["baseModel"],m);const _=b(e,["_self"]);_!=null&&w(n,["tunedModel"],FK(t,_));const E=b(e,["distillationSpec"]);E!=null&&w(n,["distillationSpec"],E);const S=b(e,["experiment"]);S!=null&&w(n,["experiment"],S);const A=b(e,["labels"]);A!=null&&w(n,["labels"],A);const I=b(e,["pipelineJob"]);I!=null&&w(n,["pipelineJob"],I);const N=b(e,["tunedModelDisplayName"]);return N!=null&&w(n,["tunedModelDisplayName"],N),n}function zK(t,e){const n={},r=b(e,["nextPageToken"]);r!=null&&w(n,["nextPageToken"],r);const i=b(e,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>E4(t,a))),w(n,["tuningJobs"],o)}return n}function jK(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["name"],r);const i=b(e,["metadata"]);i!=null&&w(n,["metadata"],i);const o=b(e,["done"]);o!=null&&w(n,["done"],o);const a=b(e,["error"]);return a!=null&&w(n,["error"],a),n}function UK(t,e){const n={},r=b(e,["checkpointId"]);r!=null&&w(n,["checkpointId"],r);const i=b(e,["epoch"]);i!=null&&w(n,["epoch"],i);const o=b(e,["step"]);o!=null&&w(n,["step"],o);const a=b(e,["endpoint"]);return a!=null&&w(n,["endpoint"],a),n}function $K(t,e){const n={},r=b(e,["model"]);r!=null&&w(n,["model"],r);const i=b(e,["endpoint"]);i!=null&&w(n,["endpoint"],i);const o=b(e,["checkpoints"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>UK(t,u))),w(n,["checkpoints"],a)}return n}function g_(t,e){const n={},r=b(e,["name"]);r!=null&&w(n,["name"],r);const i=b(e,["state"]);i!=null&&w(n,["state"],c4(t,i));const o=b(e,["createTime"]);o!=null&&w(n,["createTime"],o);const a=b(e,["startTime"]);a!=null&&w(n,["startTime"],a);const u=b(e,["endTime"]);u!=null&&w(n,["endTime"],u);const f=b(e,["updateTime"]);f!=null&&w(n,["updateTime"],f);const h=b(e,["error"]);h!=null&&w(n,["error"],h);const m=b(e,["description"]);m!=null&&w(n,["description"],m);const _=b(e,["baseModel"]);_!=null&&w(n,["baseModel"],_);const E=b(e,["tunedModel"]);E!=null&&w(n,["tunedModel"],$K(t,E));const S=b(e,["supervisedTuningSpec"]);S!=null&&w(n,["supervisedTuningSpec"],S);const A=b(e,["tuningDataStats"]);A!=null&&w(n,["tuningDataStats"],A);const I=b(e,["encryptionSpec"]);I!=null&&w(n,["encryptionSpec"],I);const N=b(e,["partnerModelTuningSpec"]);N!=null&&w(n,["partnerModelTuningSpec"],N);const z=b(e,["distillationSpec"]);z!=null&&w(n,["distillationSpec"],z);const G=b(e,["experiment"]);G!=null&&w(n,["experiment"],G);const Z=b(e,["labels"]);Z!=null&&w(n,["labels"],Z);const X=b(e,["pipelineJob"]);X!=null&&w(n,["pipelineJob"],X);const te=b(e,["tunedModelDisplayName"]);return te!=null&&w(n,["tunedModelDisplayName"],te),n}function VK(t,e){const n={},r=b(e,["nextPageToken"]);r!=null&&w(n,["nextPageToken"],r);const i=b(e,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>g_(t,a))),w(n,["tuningJobs"],o)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GK extends Hf{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new bm(ud.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:o_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=AK(this.apiClient,e);return u=Ft("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>g_(this.apiClient,m))}else{const h=LK(this.apiClient,e);return u=Ft("{name}",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>E4(this.apiClient,m))}}async listInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=IK(this.apiClient,e);return u=Ft("tuningJobs",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>{const _=VK(this.apiClient,m),E=new UE;return Object.assign(E,_),E})}else{const h=kK(this.apiClient,e);return u=Ft("tunedModels",h._url),f=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>{const _=zK(this.apiClient,m),E=new UE;return Object.assign(E,_),E})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=RK(this.apiClient,e);return o=Ft("tuningJobs",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>g_(this.apiClient,f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=PK(this.apiClient,e);return o=Ft("tunedModels",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>jK(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qK{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const HK=1024*1024*8,WK=3,ZK=1e3,KK=2,Jy="x-goog-upload-status";async function YK(t,e,n){var r,i,o;let a=0,u=0,f=new a_(new Response),h="upload";for(a=t.size;u<a;){const _=Math.min(HK,a-u),E=t.slice(u,u+_);u+_>=a&&(h+=", finalize");let S=0,A=ZK;for(;S<WK&&(f=await n.request({path:"",body:E,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(u),"Content-Length":String(_)}}}),!(!((r=f==null?void 0:f.headers)===null||r===void 0)&&r[Jy]));)S++,await XK(A),A=A*KK;if(u+=_,((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[Jy])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const m=await(f==null?void 0:f.json());if(((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[Jy])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return m.file}async function JK(t){return{size:t.size,type:t.type}}function XK(t){return new Promise(e=>setTimeout(e,t))}class QK{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YK(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await JK(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eY{create(e,n,r){return new tY(e,n,r)}}class tY{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fk="x-goog-api-key";class nY{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(fk)===null&&e.append(fk,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rY="gl-node/";class iY{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=r9(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new nY(this.apiKey);this.apiClient=new YZ({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:rY+"web",uploader:new QK,downloader:new qK}),this.models=new fK(this.apiClient),this.live=new sK(this.apiClient,i,new eY),this.chats=new w7(this.models,this.apiClient),this.caches=new _7(this.apiClient),this.files=new B7(this.apiClient),this.operations=new CK(this.apiClient),this.tunings=new GK(this.apiClient)}}let Fh=null;const k4=async()=>{if(Fh)return Fh;const t="AIzaSyDjU712a2SafynhQHeMnV3Q0OO4fVC8TBM";return Fh=new iY({apiKey:t}),Fh};async function oY(t,e){const n="gemini-2.5-flash",i=`You are an expert operations analyst for a seismic survey crew. Your task is to interpret a performance summary JSON and write a concise, insightful narrative report. 
${e==="fr"?"Le rapport doit tre rdig en franais.":"The report must be written in English."}

The report should:
1. Start with a high-level overview of the day's work.
2. Highlight the top-performing vibrators, mentioning their contribution.
3. Identify underperforming or problematic vibrators, pointing out high duplicate rates or other issues.
4. Conclude with a key takeaway or a practical recommendation for the supervisor.

Do not just list the numbers from the JSON. Instead, interpret their meaning and provide actionable insights. The tone should be professional and clear.`,o=`Analyze the following performance data and generate the report:

${JSON.stringify(t,null,2)}`;try{return(await(await k4()).models.generateContent({model:n,contents:o,config:{systemInstruction:i,temperature:.5}})).text}catch(a){throw console.error("Gemini API call failed for narrative summary:",a),a}}async function aY(t,e,n){if(t.length===0)return n==="fr"?"Aucune donne disponible pour ce vibreur.":"No data available for this vibrator.";const r="gemini-2.5-flash",i=t.filter(S=>S.hasWarning).length,o=t.filter(S=>S.hasOverload).length,a=t.length,u=a>0?t.reduce((S,A)=>S+(A.averageDistortion||0),0)/a:0;if(i===0&&o===0&&u<5)return"";const f=a>0?t.reduce((S,A)=>S+(A.averagePhase||0),0)/a:0,h=a>0?t.reduce((S,A)=>S+(A.averageForce||0),0)/a:0,_=`You are a senior field maintenance engineer specializing in seismic vibrators. Analyze the provided data summary for a specific vibrator and give a concise root cause analysis and a recommended action plan.
${n==="fr"?"L'analyse et la recommandation doivent tre rdiges en franais.":"The analysis and recommendation must be written in English."}

Analyze these key indicators:
- A high number of warnings (mass, plate flags).
- A high number of overloads (force, pressure, etc.).
- Consistently high distortion or phase values.

Based on the analysis, provide:
1.  **Potential Problem:** A single, most likely root cause.
2.  **Recommendation:** A single, clear, actionable step for the field crew.

The response should be very short and clear. Format the output with "Potential Problem:" and "Recommendation:" labels.`,E=`
Data for Vibrator: ${e}
- Total Records: ${a}
- Records with Warnings: ${i} (${(i/a*100).toFixed(1)}%)
- Records with Overloads: ${o} (${(o/a*100).toFixed(1)}%)
- Average Distortion: ${u.toFixed(1)}%
- Average Phase: ${f.toFixed(1)}
- Average Force: ${h.toFixed(1)}%
`;try{return(await(await k4()).models.generateContent({model:r,contents:E,config:{systemInstruction:_,temperature:.6}})).text}catch(S){throw console.error(`Gemini API call failed for vibrator ${e} diagnosis:`,S),S}}const sY=({isOpen:t,onClose:e,theme:n,vibratorId:r,records:i})=>{const{t:o,language:a}=qi(),[u,f]=$.useState(!0),[h,m]=$.useState(null),[_,E]=$.useState(null);return $.useEffect(()=>{t&&r&&i.length>0&&(async()=>{f(!0),E(null);try{const A=await aY(i,r,a);m(A===""?o("noIssuesDetected"):A)}catch(A){console.error(A),E(A instanceof Error?A.message:o("aiApiError"))}finally{f(!1)}})()},[t,r,i,o,a]),t?V.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-[60] p-4 transition-opacity duration-300",children:[V.jsxs("div",{className:"bg-bg-secondary/90 backdrop-blur-md text-text-primary rounded-lg shadow-2xl w-full max-w-lg border border-border-color flex flex-col transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-scale",children:[V.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border-color",children:[V.jsxs("h2",{className:"text-xl font-bold text-accent-secondary flex items-center gap-2",children:[V.jsx(Ek,{size:22}),`${o("aiDiagnosisTitle")} - ${r}`]}),V.jsx("button",{onClick:e,className:"text-text-secondary hover:text-text-primary transition-colors rounded-full p-1 focus:outline-none focus:ring-2 focus:ring-accent-primary",children:V.jsx(Af,{size:24})})]}),V.jsxs("div",{className:"p-6 flex-grow overflow-y-auto min-h-[150px] bg-bg-primary/50",children:[u&&V.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-text-secondary",children:[V.jsx(Sk,{size:32,className:"animate-spin mb-4"}),V.jsx("p",{children:o("fetchingDiagnosis")})]}),_&&V.jsx("div",{className:"text-center text-red-400",children:V.jsx("p",{children:_})}),!u&&h&&V.jsx("div",{className:"whitespace-pre-wrap font-sans leading-relaxed text-text-primary",children:h.split(`
`).map((S,A)=>{const I=S.startsWith("Potential Problem:")||S.startsWith("Recommendation:")||S.startsWith("Problme potentiel:")||S.startsWith("Recommandation:");return V.jsx("p",{className:I?"font-bold mt-2 text-accent-primary":"",children:S},A)})})]}),V.jsx("div",{className:"flex-shrink-0 p-4 border-t border-border-color flex justify-end bg-bg-secondary rounded-b-lg",children:V.jsx("button",{onClick:e,className:"bg-accent-primary text-white font-bold py-2 px-8 rounded-md hover:opacity-90 transition-opacity",children:o("close")})})]}),V.jsx("style",{children:`
        @keyframes fade-in-scale {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in-scale {
          animation: fade-in-scale 0.3s ease-out forwards;
        }
      `})]}):null},lY=({isOpen:t,onClose:e,details:n})=>{const{t:r}=qi();return t?V.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-[60] p-4 transition-opacity",children:[V.jsxs("div",{className:"bg-bg-tertiary/80 backdrop-blur-md text-text-primary rounded-lg shadow-2xl w-full max-w-2xl border border-border-color flex flex-col transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-scale",style:{height:"auto",maxHeight:"70vh"},children:[V.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border-color",children:[V.jsxs("h2",{className:"text-xl font-bold text-warning flex items-center gap-2",children:[V.jsx(Pf,{size:22}),r("conflictedShotsDetailTitle")]}),V.jsx("button",{onClick:e,className:"text-text-secondary hover:text-text-primary transition-colors rounded-full p-1 focus:outline-none focus:ring-2 focus:ring-accent-primary",children:V.jsx(Af,{size:24})})]}),V.jsx("div",{className:"p-6 flex-grow overflow-y-auto",children:V.jsx("div",{className:"overflow-auto rounded-lg border border-border-color bg-bg-primary max-h-[calc(70vh-150px)]",children:V.jsxs("table",{className:"w-full border-collapse min-w-[400px] text-sm text-left text-text-primary",children:[V.jsx("thead",{className:"sticky top-0 bg-bg-tertiary shadow-sm",children:V.jsxs("tr",{children:[V.jsx("th",{className:"p-3 font-semibold text-text-primary/80 uppercase tracking-wider border-b-2 border-border-color",children:r("shotNumber")}),V.jsx("th",{className:"p-3 font-semibold text-text-primary/80 uppercase tracking-wider border-b-2 border-border-color",children:r("vibratorsInvolved")})]})}),V.jsx("tbody",{children:n.map(i=>V.jsxs("tr",{className:"hover:bg-bg-tertiary/50 transition-colors",children:[V.jsx("td",{className:"p-2 font-mono",children:i.shotNb}),V.jsx("td",{className:"p-2 font-semibold",children:i.vibrators.join(", ")})]},i.shotNb))})]})})}),V.jsx("div",{className:"flex-shrink-0 p-4 border-t border-border-color flex justify-end bg-bg-primary rounded-b-lg",children:V.jsx("button",{onClick:e,className:"bg-accent-primary text-white font-bold py-2 px-8 rounded-md hover:opacity-90 transition-opacity",children:r("close")})})]}),V.jsx("style",{children:`
        @keyframes fade-in-scale {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in-scale {
          animation: fade-in-scale 0.3s ease-out forwards;
        }
      `})]}):null},uY=({isOpen:t,onClose:e,summary:n,rawRecords:r,theme:i})=>{const{t:o,language:a}=qi(),[u,f]=$.useState(!1),[h,m]=$.useState(null),[_,E]=$.useState(!1),[S,A]=$.useState(null),[I,N]=$.useState([]),[z,G]=$.useState(!1);if(!t||!n)return null;const Z=async()=>{if(n){f(!0),m(null);try{const Pe=await oY(n,a);m(Pe)}catch(Pe){console.error(Pe),alert(Pe instanceof Error?Pe.message:o("aiApiError"))}finally{f(!1)}}},X=Pe=>{const _e=r.filter(Ne=>Ne.vibratorId===Pe);A(Pe),N(_e),E(!0)},te=n.general_summary,ne=te.conflicted_shot_details.length>0,se=[{label:o("totalVibrators"),value:te.total_vibros,icon:Hh},{label:o("netOperations"),value:te.net_operations,icon:ZA},{label:o("totalDuplicates"),value:te.total_duplicates,icon:r3},{label:o("conflictedShots"),value:te.conflicted_shot_details.length,icon:Pf},{label:o("totalDuration"),value:te.total_operation_duration_str,icon:Tk}],ke=Pe=>Pe>10?"text-overload font-bold":Pe>5?"text-warning":"text-text-primary",Le=["vibroId","totalOps","netOps","duplicates","conflictedOps","firstOp","lastOp","totalDuration","actions"];return V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4 transition-opacity",children:[V.jsxs("div",{className:"bg-bg-tertiary/80 backdrop-blur-md text-text-primary rounded-lg shadow-2xl w-full max-w-7xl border border-border-color flex flex-col transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-scale",style:{height:"auto",maxHeight:"90vh"},children:[V.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border-color flex-shrink-0",children:[V.jsxs("div",{children:[V.jsx("h1",{className:"text-2xl font-bold text-accent-primary",children:o("analysisReport")}),V.jsxs("p",{className:"text-sm italic text-text-secondary",children:[o("sourceFile"),": ",n.source_file," | ",o("generated"),": ",n.timestamp]})]}),V.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-bg-primary transition-colors",children:V.jsx(Af,{size:24})})]}),V.jsxs("div",{className:"p-6 flex-grow overflow-y-auto bg-bg-secondary/30",children:[V.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6",children:se.map(Pe=>{const _e=Pe.label===o("conflictedShots"),Ne=_e&&ne;return V.jsxs("div",{className:`bg-bg-primary p-4 rounded-lg border border-border-color shadow-md flex items-center gap-4 ${Ne?"cursor-pointer hover:bg-bg-tertiary transition-colors":""}`,onClick:Ne?()=>G(!0):void 0,children:[V.jsx("div",{className:"bg-bg-tertiary p-3 rounded-full",children:V.jsx(Pe.icon,{size:24,className:_e?"text-warning":"text-accent-primary"})}),V.jsxs("div",{children:[V.jsx("p",{className:"text-sm text-text-secondary mb-1",children:Pe.label}),V.jsx("p",{className:"text-2xl font-bold text-text-primary",children:Pe.value})]})]},Pe.label)})}),V.jsxs("div",{className:"bg-bg-primary p-4 rounded-lg border border-border-color",children:[V.jsxs("div",{className:"flex justify-between items-center mb-4",children:[V.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-accent-secondary",children:[V.jsx(nv,{size:18}),o("aiReport")]}),V.jsxs("button",{onClick:Z,disabled:u,className:"bg-accent-secondary text-white font-bold py-2 px-4 rounded-md hover:opacity-90 transition-all flex items-center gap-2 disabled:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[u?V.jsx(Sk,{size:20,className:"animate-spin"}):V.jsx(nv,{size:20}),V.jsx("span",{children:o(u?"generating":"generateAiReport")})]})]}),(u||h)&&V.jsxs("div",{className:"p-4 bg-bg-secondary rounded-md border border-border-color",children:[u&&V.jsxs("p",{className:"text-text-secondary italic",children:[o("generating"),"..."]}),h&&V.jsx("p",{className:"text-text-primary whitespace-pre-wrap font-sans leading-relaxed",children:h})]})]}),V.jsxs("div",{className:"mt-6",children:[V.jsx("h2",{className:"text-xl font-semibold mb-3 text-accent-primary",children:o("individualPerformance")}),V.jsx("div",{className:"overflow-auto rounded-lg border border-border-color bg-bg-primary max-h-[40vh]",children:V.jsxs("table",{className:"w-full border-collapse min-w-[900px] text-sm text-left text-text-primary",children:[V.jsx("thead",{className:"sticky top-0 bg-bg-tertiary shadow-sm",children:V.jsx("tr",{children:Le.map(Pe=>V.jsx("th",{className:"p-3 font-semibold text-text-primary/80 uppercase tracking-wider border-b-2 border-border-color",children:o(Pe)},Pe))})}),V.jsx("tbody",{children:n.individual_performance.map((Pe,_e)=>V.jsxs("tr",{className:`${_e%2===0?"bg-transparent":"bg-bg-secondary/30"} hover:bg-bg-tertiary/50 transition-colors`,children:[V.jsx("td",{className:"p-3 font-semibold text-accent-secondary",children:Pe.vibro_id}),V.jsx("td",{className:"p-3",children:Pe.count}),V.jsx("td",{className:"p-3",children:Pe.net_count}),V.jsxs("td",{className:`p-3 ${ke(Pe.dup_perc)}`,children:[Pe.duplicates," (",Pe.dup_perc.toFixed(1),"%)"]}),V.jsx("td",{className:`p-3 ${Pe.multi_vib_shots>0?"text-warning font-semibold":""}`,children:Pe.multi_vib_shots}),V.jsx("td",{className:"p-3 font-mono",children:Pe.first_time}),V.jsx("td",{className:"p-3 font-mono",children:Pe.last_time}),V.jsx("td",{className:"p-3",children:Pe.duration_total}),V.jsx("td",{className:"p-3 text-center",children:V.jsx("button",{onClick:()=>X(Pe.vibro_id),title:o("diagnoseIssues"),className:"p-2 rounded-full text-accent-secondary hover:bg-accent-secondary/10 transition-colors",children:V.jsx(Ek,{size:18})})})]},Pe.vibro_id))})]})})]})]}),V.jsx("div",{className:"flex-shrink-0 p-4 border-t border-border-color flex justify-center bg-bg-primary rounded-b-lg",children:V.jsx("button",{onClick:e,className:"bg-accent-primary text-white font-bold py-2 px-8 rounded-md hover:opacity-90 transition-opacity",children:o("close")})})]}),V.jsx("style",{children:`
        @keyframes fade-in-scale { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .animate-fade-in-scale { animation: fade-in-scale 0.3s ease-out forwards; }
      `})]}),V.jsx(lY,{isOpen:z,onClose:()=>G(!1),details:n.general_summary.conflicted_shot_details,theme:i}),S&&V.jsx(sY,{isOpen:_,onClose:()=>E(!1),theme:i,vibratorId:S,records:I})]})};var lf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var cY=lf.exports,hk;function dY(){return hk||(hk=1,function(t,e){(function(n,r){r(e)})(cY,function(n){var r="1.9.4";function i(l){var g,C,T,F;for(C=1,T=arguments.length;C<T;C++){F=arguments[C];for(g in F)l[g]=F[g]}return l}var o=Object.create||function(){function l(){}return function(g){return l.prototype=g,new l}}();function a(l,g){var C=Array.prototype.slice;if(l.bind)return l.bind.apply(l,C.call(arguments,1));var T=C.call(arguments,2);return function(){return l.apply(g,T.length?T.concat(C.call(arguments)):arguments)}}var u=0;function f(l){return"_leaflet_id"in l||(l._leaflet_id=++u),l._leaflet_id}function h(l,g,C){var T,F,W,le;return le=function(){T=!1,F&&(W.apply(C,F),F=!1)},W=function(){T?F=arguments:(l.apply(C,arguments),setTimeout(le,g),T=!0)},W}function m(l,g,C){var T=g[1],F=g[0],W=T-F;return l===T&&C?l:((l-F)%W+W)%W+F}function _(){return!1}function E(l,g){if(g===!1)return l;var C=Math.pow(10,g===void 0?6:g);return Math.round(l*C)/C}function S(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function A(l){return S(l).split(/\s+/)}function I(l,g){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?o(l.options):{});for(var C in g)l.options[C]=g[C];return l.options}function N(l,g,C){var T=[];for(var F in l)T.push(encodeURIComponent(C?F.toUpperCase():F)+"="+encodeURIComponent(l[F]));return(!g||g.indexOf("?")===-1?"?":"&")+T.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function G(l,g){return l.replace(z,function(C,T){var F=g[T];if(F===void 0)throw new Error("No value provided for variable "+C);return typeof F=="function"&&(F=F(g)),F})}var Z=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function X(l,g){for(var C=0;C<l.length;C++)if(l[C]===g)return C;return-1}var te="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ne(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var se=0;function ke(l){var g=+new Date,C=Math.max(0,16-(g-se));return se=g+C,window.setTimeout(l,C)}var Le=window.requestAnimationFrame||ne("RequestAnimationFrame")||ke,Pe=window.cancelAnimationFrame||ne("CancelAnimationFrame")||ne("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function _e(l,g,C){if(C&&Le===ke)l.call(g);else return Le.call(window,a(l,g))}function Ne(l){l&&Pe.call(window,l)}var qe={__proto__:null,extend:i,create:o,bind:a,get lastId(){return u},stamp:f,throttle:h,wrapNum:m,falseFn:_,formatNum:E,trim:S,splitWords:A,setOptions:I,getParamString:N,template:G,isArray:Z,indexOf:X,emptyImageUrl:te,requestFn:Le,cancelFn:Pe,requestAnimFrame:_e,cancelAnimFrame:Ne};function Ke(){}Ke.extend=function(l){var g=function(){I(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},C=g.__super__=this.prototype,T=o(C);T.constructor=g,g.prototype=T;for(var F in this)Object.prototype.hasOwnProperty.call(this,F)&&F!=="prototype"&&F!=="__super__"&&(g[F]=this[F]);return l.statics&&i(g,l.statics),l.includes&&(ht(l.includes),i.apply(null,[T].concat(l.includes))),i(T,l),delete T.statics,delete T.includes,T.options&&(T.options=C.options?o(C.options):{},i(T.options,l.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){C.callInitHooks&&C.callInitHooks.call(this),this._initHooksCalled=!0;for(var W=0,le=T._initHooks.length;W<le;W++)T._initHooks[W].call(this)}},g},Ke.include=function(l){var g=this.prototype.options;return i(this.prototype,l),l.options&&(this.prototype.options=g,this.mergeOptions(l.options)),this},Ke.mergeOptions=function(l){return i(this.prototype.options,l),this},Ke.addInitHook=function(l){var g=Array.prototype.slice.call(arguments,1),C=typeof l=="function"?l:function(){this[l].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(C),this};function ht(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=Z(l)?l:[l];for(var g=0;g<l.length;g++)l[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Xe={on:function(l,g,C){if(typeof l=="object")for(var T in l)this._on(T,l[T],g);else{l=A(l);for(var F=0,W=l.length;F<W;F++)this._on(l[F],g,C)}return this},off:function(l,g,C){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var T in l)this._off(T,l[T],g);else{l=A(l);for(var F=arguments.length===1,W=0,le=l.length;W<le;W++)F?this._off(l[W]):this._off(l[W],g,C)}return this},_on:function(l,g,C,T){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(l,g,C)===!1){C===this&&(C=void 0);var F={fn:g,ctx:C};T&&(F.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(F)}},_off:function(l,g,C){var T,F,W;if(this._events&&(T=this._events[l],!!T)){if(arguments.length===1){if(this._firingCount)for(F=0,W=T.length;F<W;F++)T[F].fn=_;delete this._events[l];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var le=this._listens(l,g,C);if(le!==!1){var we=T[le];this._firingCount&&(we.fn=_,this._events[l]=T=T.slice()),T.splice(le,1)}}},fire:function(l,g,C){if(!this.listens(l,C))return this;var T=i({},g,{type:l,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var F=this._events[l];if(F){this._firingCount=this._firingCount+1||1;for(var W=0,le=F.length;W<le;W++){var we=F[W],Oe=we.fn;we.once&&this.off(l,Oe,we.ctx),Oe.call(we.ctx||this,T)}this._firingCount--}}return C&&this._propagateEvent(T),this},listens:function(l,g,C,T){typeof l!="string"&&console.warn('"string" type argument expected');var F=g;typeof g!="function"&&(T=!!g,F=void 0,C=void 0);var W=this._events&&this._events[l];if(W&&W.length&&this._listens(l,F,C)!==!1)return!0;if(T){for(var le in this._eventParents)if(this._eventParents[le].listens(l,g,C,T))return!0}return!1},_listens:function(l,g,C){if(!this._events)return!1;var T=this._events[l]||[];if(!g)return!!T.length;C===this&&(C=void 0);for(var F=0,W=T.length;F<W;F++)if(T[F].fn===g&&T[F].ctx===C)return F;return!1},once:function(l,g,C){if(typeof l=="object")for(var T in l)this._on(T,l[T],g,!0);else{l=A(l);for(var F=0,W=l.length;F<W;F++)this._on(l[F],g,C,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[f(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[f(l)],this},_propagateEvent:function(l){for(var g in this._eventParents)this._eventParents[g].fire(l.type,i({layer:l.target,propagatedFrom:l.target},l),!0)}};Xe.addEventListener=Xe.on,Xe.removeEventListener=Xe.clearAllEventListeners=Xe.off,Xe.addOneTimeEventListener=Xe.once,Xe.fireEvent=Xe.fire,Xe.hasEventListeners=Xe.listens;var it=Ke.extend(Xe);function Ie(l,g,C){this.x=C?Math.round(l):l,this.y=C?Math.round(g):g}var nt=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};Ie.prototype={clone:function(){return new Ie(this.x,this.y)},add:function(l){return this.clone()._add(xe(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(xe(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new Ie(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new Ie(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=nt(this.x),this.y=nt(this.y),this},distanceTo:function(l){l=xe(l);var g=l.x-this.x,C=l.y-this.y;return Math.sqrt(g*g+C*C)},equals:function(l){return l=xe(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=xe(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function xe(l,g,C){return l instanceof Ie?l:Z(l)?new Ie(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new Ie(l.x,l.y):new Ie(l,g,C)}function fe(l,g){if(l)for(var C=g?[l,g]:l,T=0,F=C.length;T<F;T++)this.extend(C[T])}fe.prototype={extend:function(l){var g,C;if(!l)return this;if(l instanceof Ie||typeof l[0]=="number"||"x"in l)g=C=xe(l);else if(l=ve(l),g=l.min,C=l.max,!g||!C)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=C.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(C.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(C.y,this.max.y)),this},getCenter:function(l){return xe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return xe(this.min.x,this.max.y)},getTopRight:function(){return xe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var g,C;return typeof l[0]=="number"||l instanceof Ie?l=xe(l):l=ve(l),l instanceof fe?(g=l.min,C=l.max):g=C=l,g.x>=this.min.x&&C.x<=this.max.x&&g.y>=this.min.y&&C.y<=this.max.y},intersects:function(l){l=ve(l);var g=this.min,C=this.max,T=l.min,F=l.max,W=F.x>=g.x&&T.x<=C.x,le=F.y>=g.y&&T.y<=C.y;return W&&le},overlaps:function(l){l=ve(l);var g=this.min,C=this.max,T=l.min,F=l.max,W=F.x>g.x&&T.x<C.x,le=F.y>g.y&&T.y<C.y;return W&&le},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var g=this.min,C=this.max,T=Math.abs(g.x-C.x)*l,F=Math.abs(g.y-C.y)*l;return ve(xe(g.x-T,g.y-F),xe(C.x+T,C.y+F))},equals:function(l){return l?(l=ve(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function ve(l,g){return!l||l instanceof fe?l:new fe(l,g)}function je(l,g){if(l)for(var C=g?[l,g]:l,T=0,F=C.length;T<F;T++)this.extend(C[T])}je.prototype={extend:function(l){var g=this._southWest,C=this._northEast,T,F;if(l instanceof Ge)T=l,F=l;else if(l instanceof je){if(T=l._southWest,F=l._northEast,!T||!F)return this}else return l?this.extend(Ue(l)||Ze(l)):this;return!g&&!C?(this._southWest=new Ge(T.lat,T.lng),this._northEast=new Ge(F.lat,F.lng)):(g.lat=Math.min(T.lat,g.lat),g.lng=Math.min(T.lng,g.lng),C.lat=Math.max(F.lat,C.lat),C.lng=Math.max(F.lng,C.lng)),this},pad:function(l){var g=this._southWest,C=this._northEast,T=Math.abs(g.lat-C.lat)*l,F=Math.abs(g.lng-C.lng)*l;return new je(new Ge(g.lat-T,g.lng-F),new Ge(C.lat+T,C.lng+F))},getCenter:function(){return new Ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof Ge||"lat"in l?l=Ue(l):l=Ze(l);var g=this._southWest,C=this._northEast,T,F;return l instanceof je?(T=l.getSouthWest(),F=l.getNorthEast()):T=F=l,T.lat>=g.lat&&F.lat<=C.lat&&T.lng>=g.lng&&F.lng<=C.lng},intersects:function(l){l=Ze(l);var g=this._southWest,C=this._northEast,T=l.getSouthWest(),F=l.getNorthEast(),W=F.lat>=g.lat&&T.lat<=C.lat,le=F.lng>=g.lng&&T.lng<=C.lng;return W&&le},overlaps:function(l){l=Ze(l);var g=this._southWest,C=this._northEast,T=l.getSouthWest(),F=l.getNorthEast(),W=F.lat>g.lat&&T.lat<C.lat,le=F.lng>g.lng&&T.lng<C.lng;return W&&le},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,g){return l?(l=Ze(l),this._southWest.equals(l.getSouthWest(),g)&&this._northEast.equals(l.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ze(l,g){return l instanceof je?l:new je(l,g)}function Ge(l,g,C){if(isNaN(l)||isNaN(g))throw new Error("Invalid LatLng object: ("+l+", "+g+")");this.lat=+l,this.lng=+g,C!==void 0&&(this.alt=+C)}Ge.prototype={equals:function(l,g){if(!l)return!1;l=Ue(l);var C=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return C<=(g===void 0?1e-9:g)},toString:function(l){return"LatLng("+E(this.lat,l)+", "+E(this.lng,l)+")"},distanceTo:function(l){return Dt.distance(this,Ue(l))},wrap:function(){return Dt.wrapLatLng(this)},toBounds:function(l){var g=180*l/40075017,C=g/Math.cos(Math.PI/180*this.lat);return Ze([this.lat-g,this.lng-C],[this.lat+g,this.lng+C])},clone:function(){return new Ge(this.lat,this.lng,this.alt)}};function Ue(l,g,C){return l instanceof Ge?l:Z(l)&&typeof l[0]!="object"?l.length===3?new Ge(l[0],l[1],l[2]):l.length===2?new Ge(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new Ge(l.lat,"lng"in l?l.lng:l.lon,l.alt):g===void 0?null:new Ge(l,g,C)}var Mt={latLngToPoint:function(l,g){var C=this.projection.project(l),T=this.scale(g);return this.transformation._transform(C,T)},pointToLatLng:function(l,g){var C=this.scale(g),T=this.transformation.untransform(l,C);return this.projection.unproject(T)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var g=this.projection.bounds,C=this.scale(l),T=this.transformation.transform(g.min,C),F=this.transformation.transform(g.max,C);return new fe(T,F)},infinite:!1,wrapLatLng:function(l){var g=this.wrapLng?m(l.lng,this.wrapLng,!0):l.lng,C=this.wrapLat?m(l.lat,this.wrapLat,!0):l.lat,T=l.alt;return new Ge(C,g,T)},wrapLatLngBounds:function(l){var g=l.getCenter(),C=this.wrapLatLng(g),T=g.lat-C.lat,F=g.lng-C.lng;if(T===0&&F===0)return l;var W=l.getSouthWest(),le=l.getNorthEast(),we=new Ge(W.lat-T,W.lng-F),Oe=new Ge(le.lat-T,le.lng-F);return new je(we,Oe)}},Dt=i({},Mt,{wrapLng:[-180,180],R:6371e3,distance:function(l,g){var C=Math.PI/180,T=l.lat*C,F=g.lat*C,W=Math.sin((g.lat-l.lat)*C/2),le=Math.sin((g.lng-l.lng)*C/2),we=W*W+Math.cos(T)*Math.cos(F)*le*le,Oe=2*Math.atan2(Math.sqrt(we),Math.sqrt(1-we));return this.R*Oe}}),$e=6378137,vt={R:$e,MAX_LATITUDE:85.0511287798,project:function(l){var g=Math.PI/180,C=this.MAX_LATITUDE,T=Math.max(Math.min(C,l.lat),-C),F=Math.sin(T*g);return new Ie(this.R*l.lng*g,this.R*Math.log((1+F)/(1-F))/2)},unproject:function(l){var g=180/Math.PI;return new Ge((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*g,l.x*g/this.R)},bounds:function(){var l=$e*Math.PI;return new fe([-l,-l],[l,l])}()};function Ct(l,g,C,T){if(Z(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=g,this._c=C,this._d=T}Ct.prototype={transform:function(l,g){return this._transform(l.clone(),g)},_transform:function(l,g){return g=g||1,l.x=g*(this._a*l.x+this._b),l.y=g*(this._c*l.y+this._d),l},untransform:function(l,g){return g=g||1,new Ie((l.x/g-this._b)/this._a,(l.y/g-this._d)/this._c)}};function He(l,g,C,T){return new Ct(l,g,C,T)}var gn=i({},Dt,{code:"EPSG:3857",projection:vt,transformation:function(){var l=.5/(Math.PI*vt.R);return He(l,.5,-l,.5)}()}),Jt=i({},gn,{code:"EPSG:900913"});function In(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function On(l,g){var C="",T,F,W,le,we,Oe;for(T=0,W=l.length;T<W;T++){for(we=l[T],F=0,le=we.length;F<le;F++)Oe=we[F],C+=(F?"L":"M")+Oe.x+" "+Oe.y;C+=g?yt.svg?"z":"x":""}return C||"M0 0"}var Qn=document.documentElement.style,$r="ActiveXObject"in window,ei=$r&&!document.addEventListener,Zi="msLaunchUri"in navigator&&!("documentMode"in document),vi=cr("webkit"),Zo=cr("android"),at=cr("android 2")||cr("android 3"),St=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xt=Zo&&cr("Google")&&St<537&&!("AudioNode"in window),xn=!!window.opera,$n=!Zi&&cr("chrome"),Dr=cr("gecko")&&!vi&&!xn&&!$r,ur=!$n&&cr("safari"),Vn=cr("phantom"),Rn="OTransition"in Qn,yo=navigator.platform.indexOf("Win")===0,Kl=$r&&"transition"in Qn,ts="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!at,xa="MozPerspective"in Qn,Zs=!window.L_DISABLE_3D&&(Kl||ts||xa)&&!Rn&&!Vn,Ki=typeof orientation<"u"||cr("mobile"),Yl=Ki&&vi,Jl=Ki&&ts,ns=!window.PointerEvent&&window.MSPointerEvent,Ko=!!(window.PointerEvent||ns),Yo="ontouchstart"in window||!!window.TouchEvent,ac=!window.L_NO_TOUCH&&(Yo||Ko),sc=Ki&&xn,Xl=Ki&&Dr,Ql=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,lc=function(){var l=!1;try{var g=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",_,g),window.removeEventListener("testPassiveEventSupport",_,g)}catch{}return l}(),eu=function(){return!!document.createElement("canvas").getContext}(),Ks=!!(document.createElementNS&&In("svg").createSVGRect),ba=!!Ks&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),tu=!Ks&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var g=l.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}}(),rs=navigator.platform.indexOf("Mac")===0,xd=navigator.platform.indexOf("Linux")===0;function cr(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var yt={ie:$r,ielt9:ei,edge:Zi,webkit:vi,android:Zo,android23:at,androidStock:Xt,opera:xn,chrome:$n,gecko:Dr,safari:ur,phantom:Vn,opera12:Rn,win:yo,ie3d:Kl,webkit3d:ts,gecko3d:xa,any3d:Zs,mobile:Ki,mobileWebkit:Yl,mobileWebkit3d:Jl,msPointer:ns,pointer:Ko,touch:ac,touchNative:Yo,mobileOpera:sc,mobileGecko:Xl,retina:Ql,passiveEvents:lc,canvas:eu,svg:Ks,vml:tu,inlineSvg:ba,mac:rs,linux:xd},is=yt.msPointer?"MSPointerDown":"pointerdown",Ys=yt.msPointer?"MSPointerMove":"pointermove",nu=yt.msPointer?"MSPointerUp":"pointerup",uc=yt.msPointer?"MSPointerCancel":"pointercancel",ru={touchstart:is,touchmove:Ys,touchend:nu,touchcancel:uc},vo={touchstart:En,touchmove:Js,touchend:Js,touchcancel:Js},Jo={},iu=!1;function bd(l,g,C){return g==="touchstart"&&ou(),vo[g]?(C=vo[g].bind(this,C),l.addEventListener(ru[g],C,!1),C):(console.warn("wrong event specified:",g),_)}function cc(l,g,C){if(!ru[g]){console.warn("wrong event specified:",g);return}l.removeEventListener(ru[g],C,!1)}function dc(l){Jo[l.pointerId]=l}function fc(l){Jo[l.pointerId]&&(Jo[l.pointerId]=l)}function os(l){delete Jo[l.pointerId]}function ou(){iu||(document.addEventListener(is,dc,!0),document.addEventListener(Ys,fc,!0),document.addEventListener(nu,os,!0),document.addEventListener(uc,os,!0),iu=!0)}function Js(l,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var C in Jo)g.touches.push(Jo[C]);g.changedTouches=[g],l(g)}}function En(l,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&kn(g),Js(l,g)}function wd(l){var g={},C,T;for(T in l)C=l[T],g[T]=C&&C.bind?C.bind(l):C;return l=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var au=200;function hc(l,g){l.addEventListener("dblclick",g);var C=0,T;function F(W){if(W.detail!==1){T=W.detail;return}if(!(W.pointerType==="mouse"||W.sourceCapabilities&&!W.sourceCapabilities.firesTouchEvents)){var le=Qo(W);if(!(le.some(function(Oe){return Oe instanceof HTMLLabelElement&&Oe.attributes.for})&&!le.some(function(Oe){return Oe instanceof HTMLInputElement||Oe instanceof HTMLSelectElement}))){var we=Date.now();we-C<=au?(T++,T===2&&g(wd(W))):T=1,C=we}}}return l.addEventListener("click",F),{dblclick:g,simDblclick:F}}function Xs(l,g){l.removeEventListener("dblclick",g.dblclick),l.removeEventListener("click",g.simDblclick)}var su=Ea(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),wa=Ea(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),as=wa==="webkitTransition"||wa==="OTransition"?wa+"End":"transitionend";function ti(l){return typeof l=="string"?document.getElementById(l):l}function _o(l,g){var C=l.style[g]||l.currentStyle&&l.currentStyle[g];if((!C||C==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(l,null);C=T?T[g]:null}return C==="auto"?null:C}function zt(l,g,C){var T=document.createElement(l);return T.className=g||"",C&&C.appendChild(T),T}function dn(l){var g=l.parentNode;g&&g.removeChild(l)}function ss(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function Ca(l){var g=l.parentNode;g&&g.lastChild!==l&&g.appendChild(l)}function _i(l){var g=l.parentNode;g&&g.firstChild!==l&&g.insertBefore(l,g.firstChild)}function La(l,g){if(l.classList!==void 0)return l.classList.contains(g);var C=Qs(l);return C.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(C)}function Ot(l,g){if(l.classList!==void 0)for(var C=A(g),T=0,F=C.length;T<F;T++)l.classList.add(C[T]);else if(!La(l,g)){var W=Qs(l);lu(l,(W?W+" ":"")+g)}}function fn(l,g){l.classList!==void 0?l.classList.remove(g):lu(l,S((" "+Qs(l)+" ").replace(" "+g+" "," ")))}function lu(l,g){l.className.baseVal===void 0?l.className=g:l.className.baseVal=g}function Qs(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function xr(l,g){"opacity"in l.style?l.style.opacity=g:"filter"in l.style&&pc(l,g)}function pc(l,g){var C=!1,T="DXImageTransform.Microsoft.Alpha";try{C=l.filters.item(T)}catch{if(g===1)return}g=Math.round(g*100),C?(C.Enabled=g!==100,C.Opacity=g):l.style.filter+=" progid:"+T+"(opacity="+g+")"}function Ea(l){for(var g=document.documentElement.style,C=0;C<l.length;C++)if(l[C]in g)return l[C];return!1}function ni(l,g,C){var T=g||new Ie(0,0);l.style[su]=(yt.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(C?" scale("+C+")":"")}function Tn(l,g){l._leaflet_pos=g,yt.any3d?ni(l,g):(l.style.left=g.x+"px",l.style.top=g.y+"px")}function Yi(l){return l._leaflet_pos||new Ie(0,0)}var Qt,ka,el;if("onselectstart"in document)Qt=function(){It(window,"selectstart",kn)},ka=function(){un(window,"selectstart",kn)};else{var xo=Ea(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qt=function(){if(xo){var l=document.documentElement.style;el=l[xo],l[xo]="none"}},ka=function(){xo&&(document.documentElement.style[xo]=el,el=void 0)}}function tl(){It(window,"dragstart",kn)}function nl(){un(window,"dragstart",kn)}var ls,us;function Ma(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(ri(),ls=l,us=l.style.outlineStyle,l.style.outlineStyle="none",It(window,"keydown",ri))}function ri(){ls&&(ls.style.outlineStyle=us,ls=void 0,us=void 0,un(window,"keydown",ri))}function Ji(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function xi(l){var g=l.getBoundingClientRect();return{x:g.width/l.offsetWidth||1,y:g.height/l.offsetHeight||1,boundingClientRect:g}}var cs={__proto__:null,TRANSFORM:su,TRANSITION:wa,TRANSITION_END:as,get:ti,getStyle:_o,create:zt,remove:dn,empty:ss,toFront:Ca,toBack:_i,hasClass:La,addClass:Ot,removeClass:fn,setClass:lu,getClass:Qs,setOpacity:xr,testProp:Ea,setTransform:ni,setPosition:Tn,getPosition:Yi,get disableTextSelection(){return Qt},get enableTextSelection(){return ka},disableImageDrag:tl,enableImageDrag:nl,preventOutline:Ma,restoreOutline:ri,getSizedParentNode:Ji,getScale:xi};function It(l,g,C,T){if(g&&typeof g=="object")for(var F in g)cu(l,F,g[F],C);else{g=A(g);for(var W=0,le=g.length;W<le;W++)cu(l,g[W],C,T)}return this}var Gn="_leaflet_events";function un(l,g,C,T){if(arguments.length===1)uu(l),delete l[Gn];else if(g&&typeof g=="object")for(var F in g)Xi(l,F,g[F],C);else if(g=A(g),arguments.length===2)uu(l,function(we){return X(g,we)!==-1});else for(var W=0,le=g.length;W<le;W++)Xi(l,g[W],C,T);return this}function uu(l,g){for(var C in l[Gn]){var T=C.split(/\d/)[0];(!g||g(T))&&Xi(l,T,null,null,C)}}var Xo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function cu(l,g,C,T){var F=g+f(C)+(T?"_"+f(T):"");if(l[Gn]&&l[Gn][F])return this;var W=function(we){return C.call(T||l,we||window.event)},le=W;!yt.touchNative&&yt.pointer&&g.indexOf("touch")===0?W=bd(l,g,W):yt.touch&&g==="dblclick"?W=hc(l,W):"addEventListener"in l?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?l.addEventListener(Xo[g]||g,W,yt.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(W=function(we){we=we||window.event,hs(l,we)&&le(we)},l.addEventListener(Xo[g],W,!1)):l.addEventListener(g,le,!1):l.attachEvent("on"+g,W),l[Gn]=l[Gn]||{},l[Gn][F]=W}function Xi(l,g,C,T,F){F=F||g+f(C)+(T?"_"+f(T):"");var W=l[Gn]&&l[Gn][F];if(!W)return this;!yt.touchNative&&yt.pointer&&g.indexOf("touch")===0?cc(l,g,W):yt.touch&&g==="dblclick"?Xs(l,W):"removeEventListener"in l?l.removeEventListener(Xo[g]||g,W,!1):l.detachEvent("on"+g,W),l[Gn][F]=null}function bi(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function rl(l){return cu(l,"wheel",bi),this}function ds(l){return It(l,"mousedown touchstart dblclick contextmenu",bi),l._leaflet_disable_click=!0,this}function kn(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function ii(l){return kn(l),bi(l),this}function Qo(l){if(l.composedPath)return l.composedPath();for(var g=[],C=l.target;C;)g.push(C),C=C.parentNode;return g}function fs(l,g){if(!g)return new Ie(l.clientX,l.clientY);var C=xi(g),T=C.boundingClientRect;return new Ie((l.clientX-T.left)/C.x-g.clientLeft,(l.clientY-T.top)/C.y-g.clientTop)}var Cd=yt.linux&&yt.chrome?window.devicePixelRatio:yt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function mc(l){return yt.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/Cd:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function hs(l,g){var C=g.relatedTarget;if(!C)return!0;try{for(;C&&C!==l;)C=C.parentNode}catch{return!1}return C!==l}var ea={__proto__:null,on:It,off:un,stopPropagation:bi,disableScrollPropagation:rl,disableClickPropagation:ds,preventDefault:kn,stop:ii,getPropagationPath:Qo,getMousePosition:fs,getWheelDelta:mc,isExternalTarget:hs,addListener:It,removeListener:un},il=it.extend({run:function(l,g,C,T){this.stop(),this._el=l,this._inProgress=!0,this._duration=C||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=Yi(l),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_e(this._animate,this),this._step()},_step:function(l){var g=+new Date-this._startTime,C=this._duration*1e3;g<C?this._runFrame(this._easeOut(g/C),l):(this._runFrame(1),this._complete())},_runFrame:function(l,g){var C=this._startPos.add(this._offset.multiplyBy(l));g&&C._round(),Tn(this._el,C),this.fire("step")},_complete:function(){Ne(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),Ht=it.extend({options:{crs:gn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,g){g=I(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(Ue(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=wa&&yt.any3d&&!yt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),It(this._proxy,as,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,g,C){if(g=g===void 0?this._zoom:this._limitZoom(g),l=this._limitCenter(Ue(l),g,this.options.maxBounds),C=C||{},this._stop(),this._loaded&&!C.reset&&C!==!0){C.animate!==void 0&&(C.zoom=i({animate:C.animate},C.zoom),C.pan=i({animate:C.animate,duration:C.duration},C.pan));var T=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,g,C.zoom):this._tryAnimatedPan(l,C.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(l,g,C.pan&&C.pan.noMoveStart),this},setZoom:function(l,g){return this._loaded?this.setView(this.getCenter(),l,{zoom:g}):(this._zoom=l,this)},zoomIn:function(l,g){return l=l||(yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,g)},zoomOut:function(l,g){return l=l||(yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,g)},setZoomAround:function(l,g,C){var T=this.getZoomScale(g),F=this.getSize().divideBy(2),W=l instanceof Ie?l:this.latLngToContainerPoint(l),le=W.subtract(F).multiplyBy(1-1/T),we=this.containerPointToLatLng(F.add(le));return this.setView(we,g,{zoom:C})},_getBoundsCenterZoom:function(l,g){g=g||{},l=l.getBounds?l.getBounds():Ze(l);var C=xe(g.paddingTopLeft||g.padding||[0,0]),T=xe(g.paddingBottomRight||g.padding||[0,0]),F=this.getBoundsZoom(l,!1,C.add(T));if(F=typeof g.maxZoom=="number"?Math.min(g.maxZoom,F):F,F===1/0)return{center:l.getCenter(),zoom:F};var W=T.subtract(C).divideBy(2),le=this.project(l.getSouthWest(),F),we=this.project(l.getNorthEast(),F),Oe=this.unproject(le.add(we).divideBy(2).add(W),F);return{center:Oe,zoom:F}},fitBounds:function(l,g){if(l=Ze(l),!l.isValid())throw new Error("Bounds are not valid.");var C=this._getBoundsCenterZoom(l,g);return this.setView(C.center,C.zoom,g)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,g){return this.setView(l,this._zoom,{pan:g})},panBy:function(l,g){if(l=xe(l).round(),g=g||{},!l.x&&!l.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new il,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){Ot(this._mapPane,"leaflet-pan-anim");var C=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,C,g.duration||.25,g.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,g,C){if(C=C||{},C.animate===!1||!yt.any3d)return this.setView(l,g,C);this._stop();var T=this.project(this.getCenter()),F=this.project(l),W=this.getSize(),le=this._zoom;l=Ue(l),g=g===void 0?le:g;var we=Math.max(W.x,W.y),Oe=we*this.getZoomScale(le,g),ze=F.distanceTo(T)||1,ot=1.42,Et=ot*ot;function Vt(tn){var aa=tn?-1:1,Td=tn?Oe:we,Ii=Oe*Oe-we*we+aa*Et*Et*ze*ze,sa=2*Td*Et*ze,Oi=Ii/sa,So=Math.sqrt(Oi*Oi+1)-Oi,_l=So<1e-9?-18:Math.log(So);return _l}function Kn(tn){return(Math.exp(tn)-Math.exp(-tn))/2}function zn(tn){return(Math.exp(tn)+Math.exp(-tn))/2}function fr(tn){return Kn(tn)/zn(tn)}var bn=Vt(0);function Pi(tn){return we*(zn(bn)/zn(bn+ot*tn))}function Ls(tn){return we*(zn(bn)*fr(bn+ot*tn)-Kn(bn))/Et}function ci(tn){return 1-Math.pow(1-tn,1.5)}var Eu=Date.now(),Ai=(Vt(1)-bn)/ot,Di=C.duration?1e3*C.duration:1e3*Ai*.8;function Fa(){var tn=(Date.now()-Eu)/Di,aa=ci(tn)*Ai;tn<=1?(this._flyToFrame=_e(Fa,this),this._move(this.unproject(T.add(F.subtract(T).multiplyBy(Ls(aa)/ze)),le),this.getScaleZoom(we/Pi(aa),le),{flyTo:!0})):this._move(l,g)._moveEnd(!0)}return this._moveStart(!0,C.noMoveStart),Fa.call(this),this},flyToBounds:function(l,g){var C=this._getBoundsCenterZoom(l,g);return this.flyTo(C.center,C.zoom,g)},setMaxBounds:function(l){return l=Ze(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var g=this.options.minZoom;return this.options.minZoom=l,this._loaded&&g!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var g=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&g!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,g){this._enforcingBounds=!0;var C=this.getCenter(),T=this._limitCenter(C,this._zoom,Ze(l));return C.equals(T)||this.panTo(T,g),this._enforcingBounds=!1,this},panInside:function(l,g){g=g||{};var C=xe(g.paddingTopLeft||g.padding||[0,0]),T=xe(g.paddingBottomRight||g.padding||[0,0]),F=this.project(this.getCenter()),W=this.project(l),le=this.getPixelBounds(),we=ve([le.min.add(C),le.max.subtract(T)]),Oe=we.getSize();if(!we.contains(W)){this._enforcingBounds=!0;var ze=W.subtract(we.getCenter()),ot=we.extend(W).getSize().subtract(Oe);F.x+=ze.x<0?-ot.x:ot.x,F.y+=ze.y<0?-ot.y:ot.y,this.panTo(this.unproject(F),g),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=i({animate:!1,pan:!0},l===!0?{animate:!0}:l);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var C=this.getSize(),T=g.divideBy(2).round(),F=C.divideBy(2).round(),W=T.subtract(F);return!W.x&&!W.y?this:(l.animate&&l.pan?this.panBy(W):(l.pan&&this._rawPanBy(W),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:C}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=i({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=a(this._handleGeolocationResponse,this),C=a(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,C,l):navigator.geolocation.getCurrentPosition(g,C,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var g=l.code,C=l.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+C+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var g=l.coords.latitude,C=l.coords.longitude,T=new Ge(g,C),F=T.toBounds(l.coords.accuracy*2),W=this._locateOptions;if(W.setView){var le=this.getBoundsZoom(F);this.setView(T,W.maxZoom?Math.min(le,W.maxZoom):le)}var we={latlng:T,bounds:F,timestamp:l.timestamp};for(var Oe in l.coords)typeof l.coords[Oe]=="number"&&(we[Oe]=l.coords[Oe]);this.fire("locationfound",we)}},addHandler:function(l,g){if(!g)return this;var C=this[l]=new g(this);return this._handlers.push(C),this.options[l]&&C.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),dn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ne(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)dn(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,g){var C="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),T=zt("div",C,g||this._mapPane);return l&&(this._panes[l]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),g=this.unproject(l.getBottomLeft()),C=this.unproject(l.getTopRight());return new je(g,C)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,g,C){l=Ze(l),C=xe(C||[0,0]);var T=this.getZoom()||0,F=this.getMinZoom(),W=this.getMaxZoom(),le=l.getNorthWest(),we=l.getSouthEast(),Oe=this.getSize().subtract(C),ze=ve(this.project(we,T),this.project(le,T)).getSize(),ot=yt.any3d?this.options.zoomSnap:1,Et=Oe.x/ze.x,Vt=Oe.y/ze.y,Kn=g?Math.max(Et,Vt):Math.min(Et,Vt);return T=this.getScaleZoom(Kn,T),ot&&(T=Math.round(T/(ot/100))*(ot/100),T=g?Math.ceil(T/ot)*ot:Math.floor(T/ot)*ot),Math.max(F,Math.min(W,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ie(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,g){var C=this._getTopLeftPoint(l,g);return new fe(C,C.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,g){var C=this.options.crs;return g=g===void 0?this._zoom:g,C.scale(l)/C.scale(g)},getScaleZoom:function(l,g){var C=this.options.crs;g=g===void 0?this._zoom:g;var T=C.zoom(l*C.scale(g));return isNaN(T)?1/0:T},project:function(l,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(Ue(l),g)},unproject:function(l,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(xe(l),g)},layerPointToLatLng:function(l){var g=xe(l).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(l){var g=this.project(Ue(l))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(Ue(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(Ze(l))},distance:function(l,g){return this.options.crs.distance(Ue(l),Ue(g))},containerPointToLayerPoint:function(l){return xe(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return xe(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var g=this.containerPointToLayerPoint(xe(l));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ue(l)))},mouseEventToContainerPoint:function(l){return fs(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var g=this._container=ti(l);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");It(g,"scroll",this._onScroll,this),this._containerId=f(g)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&yt.any3d,Ot(l,"leaflet-container"+(yt.touch?" leaflet-touch":"")+(yt.retina?" leaflet-retina":"")+(yt.ielt9?" leaflet-oldie":"")+(yt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=_o(l,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Tn(this._mapPane,new Ie(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ot(l.markerPane,"leaflet-zoom-hide"),Ot(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,g,C){Tn(this._mapPane,new Ie(0,0));var T=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var F=this._zoom!==g;this._moveStart(F,C)._move(l,g)._moveEnd(F),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(l,g){return l&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(l,g,C,T){g===void 0&&(g=this._zoom);var F=this._zoom!==g;return this._zoom=g,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),T?C&&C.pinch&&this.fire("zoom",C):((F||C&&C.pinch)&&this.fire("zoom",C),this.fire("move",C)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ne(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){Tn(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[f(this._container)]=this;var g=l?un:It;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),yt.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ne(this._resizeRequest),this._resizeRequest=_e(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,g){for(var C=[],T,F=g==="mouseout"||g==="mouseover",W=l.target||l.srcElement,le=!1;W;){if(T=this._targets[f(W)],T&&(g==="click"||g==="preclick")&&this._draggableMoved(T)){le=!0;break}if(T&&T.listens(g,!0)&&(F&&!hs(W,l)||(C.push(T),F))||W===this._container)break;W=W.parentNode}return!C.length&&!le&&!F&&this.listens(g,!0)&&(C=[this]),C},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var g=l.target||l.srcElement;if(!(!this._loaded||g._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(g))){var C=l.type;C==="mousedown"&&Ma(g),this._fireDOMEvent(l,C)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,g,C){if(l.type==="click"){var T=i({},l);T.type="preclick",this._fireDOMEvent(T,T.type,C)}var F=this._findEventTargets(l,g);if(C){for(var W=[],le=0;le<C.length;le++)C[le].listens(g,!0)&&W.push(C[le]);F=W.concat(F)}if(F.length){g==="contextmenu"&&kn(l);var we=F[0],Oe={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var ze=we.getLatLng&&(!we._radius||we._radius<=10);Oe.containerPoint=ze?this.latLngToContainerPoint(we.getLatLng()):this.mouseEventToContainerPoint(l),Oe.layerPoint=this.containerPointToLayerPoint(Oe.containerPoint),Oe.latlng=ze?we.getLatLng():this.layerPointToLatLng(Oe.layerPoint)}for(le=0;le<F.length;le++)if(F[le].fire(g,Oe,!0),Oe.originalEvent._stopped||F[le].options.bubblingMouseEvents===!1&&X(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,g=this._handlers.length;l<g;l++)this._handlers[l].disable()},whenReady:function(l,g){return this._loaded?l.call(g||this,{target:this}):this.on("load",l,g),this},_getMapPanePos:function(){return Yi(this._mapPane)||new Ie(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,g){var C=l&&g!==void 0?this._getNewPixelOrigin(l,g):this.getPixelOrigin();return C.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,g){var C=this.getSize()._divideBy(2);return this.project(l,g)._subtract(C)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,g,C){var T=this._getNewPixelOrigin(C,g);return this.project(l,g)._subtract(T)},_latLngBoundsToNewLayerBounds:function(l,g,C){var T=this._getNewPixelOrigin(C,g);return ve([this.project(l.getSouthWest(),g)._subtract(T),this.project(l.getNorthWest(),g)._subtract(T),this.project(l.getSouthEast(),g)._subtract(T),this.project(l.getNorthEast(),g)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,g,C){if(!C)return l;var T=this.project(l,g),F=this.getSize().divideBy(2),W=new fe(T.subtract(F),T.add(F)),le=this._getBoundsOffset(W,C,g);return Math.abs(le.x)<=1&&Math.abs(le.y)<=1?l:this.unproject(T.add(le),g)},_limitOffset:function(l,g){if(!g)return l;var C=this.getPixelBounds(),T=new fe(C.min.add(l),C.max.add(l));return l.add(this._getBoundsOffset(T,g))},_getBoundsOffset:function(l,g,C){var T=ve(this.project(g.getNorthEast(),C),this.project(g.getSouthWest(),C)),F=T.min.subtract(l.min),W=T.max.subtract(l.max),le=this._rebound(F.x,-W.x),we=this._rebound(F.y,-W.y);return new Ie(le,we)},_rebound:function(l,g){return l+g>0?Math.round(l-g)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(g))},_limitZoom:function(l){var g=this.getMinZoom(),C=this.getMaxZoom(),T=yt.any3d?this.options.zoomSnap:1;return T&&(l=Math.round(l/T)*T),Math.max(g,Math.min(C,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,g){var C=this._getCenterOffset(l)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(C)?!1:(this.panBy(C,g),!0)},_createAnimProxy:function(){var l=this._proxy=zt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(g){var C=su,T=this._proxy.style[C];ni(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),T===this._proxy.style[C]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){dn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),g=this.getZoom();ni(this._proxy,this.project(l,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,g,C){if(this._animatingZoom)return!0;if(C=C||{},!this._zoomAnimated||C.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(g),F=this._getCenterOffset(l)._divideBy(1-1/T);return C.animate!==!0&&!this.getSize().contains(F)?!1:(_e(function(){this._moveStart(!0,C.noMoveStart||!1)._animateZoom(l,g,!0)},this),!0)},_animateZoom:function(l,g,C,T){this._mapPane&&(C&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=g,Ot(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:g,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Qi(l,g){return new Ht(l,g)}var Bt=Ke.extend({options:{position:"topright"},initialize:function(l){I(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var g=this._map;return g&&g.removeControl(this),this.options.position=l,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var g=this._container=this.onAdd(l),C=this.getPosition(),T=l._controlCorners[C];return Ot(g,"leaflet-control"),C.indexOf("bottom")!==-1?T.insertBefore(g,T.firstChild):T.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(dn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),wi=function(l){return new Bt(l)};Ht.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},g="leaflet-",C=this._controlContainer=zt("div",g+"control-container",this._container);function T(F,W){var le=g+F+" "+g+W;l[F+W]=zt("div",le,C)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)dn(this._controlCorners[l]);dn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Sa=Bt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,g,C,T){return C<T?-1:T<C?1:0}},initialize:function(l,g,C){I(this,C),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in l)this._addLayer(l[T],T);for(T in g)this._addLayer(g[T],T,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return Bt.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,g){return this._addLayer(l,g),this._map?this._update():this},addOverlay:function(l,g){return this._addLayer(l,g,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var g=this._getLayer(f(l));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){Ot(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(Ot(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):fn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",g=this._container=zt("div",l),C=this.options.collapsed;g.setAttribute("aria-haspopup",!0),ds(g),rl(g);var T=this._section=zt("section",l+"-list");C&&(this._map.on("click",this.collapse,this),It(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var F=this._layersLink=zt("a",l+"-toggle",g);F.href="#",F.title="Layers",F.setAttribute("role","button"),It(F,{keydown:function(W){W.keyCode===13&&this._expandSafely()},click:function(W){kn(W),this._expandSafely()}},this),C||this.expand(),this._baseLayersList=zt("div",l+"-base",T),this._separator=zt("div",l+"-separator",T),this._overlaysList=zt("div",l+"-overlays",T),g.appendChild(T)},_getLayer:function(l){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&f(this._layers[g].layer)===l)return this._layers[g]},_addLayer:function(l,g,C){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:g,overlay:C}),this.options.sortLayers&&this._layers.sort(a(function(T,F){return this.options.sortFunction(T.layer,F.layer,T.name,F.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ss(this._baseLayersList),ss(this._overlaysList),this._layerControlInputs=[];var l,g,C,T,F=0;for(C=0;C<this._layers.length;C++)T=this._layers[C],this._addItem(T),g=g||T.overlay,l=l||!T.overlay,F+=T.overlay?0:1;return this.options.hideSingleBase&&(l=l&&F>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=g&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var g=this._getLayer(f(l.target)),C=g.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;C&&this._map.fire(C,g)},_createRadioElement:function(l,g){var C='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(g?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=C,T.firstChild},_addItem:function(l){var g=document.createElement("label"),C=this._map.hasLayer(l.layer),T;l.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=C):T=this._createRadioElement("leaflet-base-layers_"+f(this),C),this._layerControlInputs.push(T),T.layerId=f(l.layer),It(T,"click",this._onInputClick,this);var F=document.createElement("span");F.innerHTML=" "+l.name;var W=document.createElement("span");g.appendChild(W),W.appendChild(T),W.appendChild(F);var le=l.overlay?this._overlaysList:this._baseLayersList;return le.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,g,C,T=[],F=[];this._handlingClick=!0;for(var W=l.length-1;W>=0;W--)g=l[W],C=this._getLayer(g.layerId).layer,g.checked?T.push(C):g.checked||F.push(C);for(W=0;W<F.length;W++)this._map.hasLayer(F[W])&&this._map.removeLayer(F[W]);for(W=0;W<T.length;W++)this._map.hasLayer(T[W])||this._map.addLayer(T[W]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,g,C,T=this._map.getZoom(),F=l.length-1;F>=0;F--)g=l[F],C=this._getLayer(g.layerId).layer,g.disabled=C.options.minZoom!==void 0&&T<C.options.minZoom||C.options.maxZoom!==void 0&&T>C.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,It(l,"click",kn),this.expand();var g=this;setTimeout(function(){un(l,"click",kn),g._preventClick=!1})}}),ol=function(l,g,C){return new Sa(l,g,C)},ta=Bt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var g="leaflet-control-zoom",C=zt("div",g+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,g+"-in",C,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,g+"-out",C,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),C},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,g,C,T,F){var W=zt("a",C,T);return W.innerHTML=l,W.href="#",W.title=g,W.setAttribute("role","button"),W.setAttribute("aria-label",g),ds(W),It(W,"click",ii),It(W,"click",F,this),It(W,"click",this._refocusOnMap,this),W},_updateDisabled:function(){var l=this._map,g="leaflet-disabled";fn(this._zoomInButton,g),fn(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(Ot(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(Ot(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ht.mergeOptions({zoomControl:!0}),Ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ta,this.addControl(this.zoomControl))});var gc=function(l){return new ta(l)},er=Bt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var g="leaflet-control-scale",C=zt("div",g),T=this.options;return this._addScales(T,g+"-line",C),l.on(T.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),C},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,g,C){l.metric&&(this._mScale=zt("div",g,C)),l.imperial&&(this._iScale=zt("div",g,C))},_update:function(){var l=this._map,g=l.getSize().y/2,C=l.distance(l.containerPointToLatLng([0,g]),l.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(C)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var g=this._getRoundNum(l),C=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,C,g/l)},_updateImperial:function(l){var g=l*3.2808399,C,T,F;g>5280?(C=g/5280,T=this._getRoundNum(C),this._updateScale(this._iScale,T+" mi",T/C)):(F=this._getRoundNum(g),this._updateScale(this._iScale,F+" ft",F/g))},_updateScale:function(l,g,C){l.style.width=Math.round(this.options.maxWidth*C)+"px",l.innerHTML=g},_getRoundNum:function(l){var g=Math.pow(10,(Math.floor(l)+"").length-1),C=l/g;return C=C>=10?10:C>=5?5:C>=3?3:C>=2?2:1,g*C}}),eo=function(l){return new er(l)},du='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',br=Bt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(yt.inlineSvg?du+" ":"")+"Leaflet</a>"},initialize:function(l){I(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=zt("div","leaflet-control-attribution"),ds(this._container);for(var g in l._layers)l._layers[g].getAttribution&&this.addAttribution(l._layers[g].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var g in this._attributions)this._attributions[g]&&l.push(g);var C=[];this.options.prefix&&C.push(this.options.prefix),l.length&&C.push(l.join(", ")),this._container.innerHTML=C.join(' <span aria-hidden="true">|</span> ')}}});Ht.mergeOptions({attributionControl:!0}),Ht.addInitHook(function(){this.options.attributionControl&&new br().addTo(this)});var yc=function(l){return new br(l)};Bt.Layers=Sa,Bt.Zoom=ta,Bt.Scale=er,Bt.Attribution=br,wi.layers=ol,wi.zoom=gc,wi.scale=eo,wi.attribution=yc;var qn=Ke.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qn.addTo=function(l,g){return l.addHandler(g,this),this};var fu={Events:Xe},Ta=yt.touch?"touchstart mousedown":"mousedown",oi=it.extend({options:{clickTolerance:3},initialize:function(l,g,C,T){I(this,T),this._element=l,this._dragStartTarget=g||l,this._preventOutline=C},enable:function(){this._enabled||(It(this._dragStartTarget,Ta,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(oi._dragging===this&&this.finishDrag(!0),un(this._dragStartTarget,Ta,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!La(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){oi._dragging===this&&this.finishDrag();return}if(!(oi._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(oi._dragging=this,this._preventOutline&&Ma(this._element),tl(),Qt(),!this._moving)){this.fire("down");var g=l.touches?l.touches[0]:l,C=Ji(this._element);this._startPoint=new Ie(g.clientX,g.clientY),this._startPos=Yi(this._element),this._parentScale=xi(C);var T=l.type==="mousedown";It(document,T?"mousemove":"touchmove",this._onMove,this),It(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var g=l.touches&&l.touches.length===1?l.touches[0]:l,C=new Ie(g.clientX,g.clientY)._subtract(this._startPoint);!C.x&&!C.y||Math.abs(C.x)+Math.abs(C.y)<this.options.clickTolerance||(C.x/=this._parentScale.x,C.y/=this._parentScale.y,kn(l),this._moved||(this.fire("dragstart"),this._moved=!0,Ot(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ot(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(C),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),Tn(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){fn(document.body,"leaflet-dragging"),this._lastTarget&&(fn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),un(document,"mousemove touchmove",this._onMove,this),un(document,"mouseup touchend touchcancel",this._onUp,this),nl(),ka();var g=this._moved&&this._moving;this._moving=!1,oi._dragging=!1,g&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function hu(l,g,C){var T,F=[1,4,2,8],W,le,we,Oe,ze,ot,Et,Vt;for(W=0,ot=l.length;W<ot;W++)l[W]._code=wr(l[W],g);for(we=0;we<4;we++){for(Et=F[we],T=[],W=0,ot=l.length,le=ot-1;W<ot;le=W++)Oe=l[W],ze=l[le],Oe._code&Et?ze._code&Et||(Vt=wo(ze,Oe,Et,g,C),Vt._code=wr(Vt,g),T.push(Vt)):(ze._code&Et&&(Vt=wo(ze,Oe,Et,g,C),Vt._code=wr(Vt,g),T.push(Vt)),T.push(Oe));l=T}return l}function vc(l,g){var C,T,F,W,le,we,Oe,ze,ot;if(!l||l.length===0)throw new Error("latlngs not passed");Cr(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Et=Ue([0,0]),Vt=Ze(l),Kn=Vt.getNorthWest().distanceTo(Vt.getSouthWest())*Vt.getNorthEast().distanceTo(Vt.getNorthWest());Kn<1700&&(Et=pu(l));var zn=l.length,fr=[];for(C=0;C<zn;C++){var bn=Ue(l[C]);fr.push(g.project(Ue([bn.lat-Et.lat,bn.lng-Et.lng])))}for(we=Oe=ze=0,C=0,T=zn-1;C<zn;T=C++)F=fr[C],W=fr[T],le=F.y*W.x-W.y*F.x,Oe+=(F.x+W.x)*le,ze+=(F.y+W.y)*le,we+=le*3;we===0?ot=fr[0]:ot=[Oe/we,ze/we];var Pi=g.unproject(xe(ot));return Ue([Pi.lat+Et.lat,Pi.lng+Et.lng])}function pu(l){for(var g=0,C=0,T=0,F=0;F<l.length;F++){var W=Ue(l[F]);g+=W.lat,C+=W.lng,T++}return Ue([g/T,C/T])}var Ld={__proto__:null,clipPolygon:hu,polygonCenter:vc,centroid:pu};function al(l,g){if(!g||!l.length)return l.slice();var C=g*g;return l=_c(l,C),l=Hn(l,C),l}function mu(l,g,C){return Math.sqrt(ra(l,g,C,!0))}function Ed(l,g,C){return ra(l,g,C)}function Hn(l,g){var C=l.length,T=typeof Uint8Array<"u"?Uint8Array:Array,F=new T(C);F[0]=F[C-1]=1,tr(l,F,g,0,C-1);var W,le=[];for(W=0;W<C;W++)F[W]&&le.push(l[W]);return le}function tr(l,g,C,T,F){var W=0,le,we,Oe;for(we=T+1;we<=F-1;we++)Oe=ra(l[we],l[T],l[F],!0),Oe>W&&(le=we,W=Oe);W>C&&(g[le]=1,tr(l,g,C,T,le),tr(l,g,C,le,F))}function _c(l,g){for(var C=[l[0]],T=1,F=0,W=l.length;T<W;T++)kd(l[T],l[F])>g&&(C.push(l[T]),F=T);return F<W-1&&C.push(l[W-1]),C}var bo;function na(l,g,C,T,F){var W=T?bo:wr(l,C),le=wr(g,C),we,Oe,ze;for(bo=le;;){if(!(W|le))return[l,g];if(W&le)return!1;we=W||le,Oe=wo(l,g,we,C,F),ze=wr(Oe,C),we===W?(l=Oe,W=ze):(g=Oe,le=ze)}}function wo(l,g,C,T,F){var W=g.x-l.x,le=g.y-l.y,we=T.min,Oe=T.max,ze,ot;return C&8?(ze=l.x+W*(Oe.y-l.y)/le,ot=Oe.y):C&4?(ze=l.x+W*(we.y-l.y)/le,ot=we.y):C&2?(ze=Oe.x,ot=l.y+le*(Oe.x-l.x)/W):C&1&&(ze=we.x,ot=l.y+le*(we.x-l.x)/W),new Ie(ze,ot,F)}function wr(l,g){var C=0;return l.x<g.min.x?C|=1:l.x>g.max.x&&(C|=2),l.y<g.min.y?C|=4:l.y>g.max.y&&(C|=8),C}function kd(l,g){var C=g.x-l.x,T=g.y-l.y;return C*C+T*T}function ra(l,g,C,T){var F=g.x,W=g.y,le=C.x-F,we=C.y-W,Oe=le*le+we*we,ze;return Oe>0&&(ze=((l.x-F)*le+(l.y-W)*we)/Oe,ze>1?(F=C.x,W=C.y):ze>0&&(F+=le*ze,W+=we*ze)),le=l.x-F,we=l.y-W,T?le*le+we*we:new Ie(F,W)}function Cr(l){return!Z(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function Vr(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Cr(l)}function gu(l,g){var C,T,F,W,le,we,Oe,ze;if(!l||l.length===0)throw new Error("latlngs not passed");Cr(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var ot=Ue([0,0]),Et=Ze(l),Vt=Et.getNorthWest().distanceTo(Et.getSouthWest())*Et.getNorthEast().distanceTo(Et.getNorthWest());Vt<1700&&(ot=pu(l));var Kn=l.length,zn=[];for(C=0;C<Kn;C++){var fr=Ue(l[C]);zn.push(g.project(Ue([fr.lat-ot.lat,fr.lng-ot.lng])))}for(C=0,T=0;C<Kn-1;C++)T+=zn[C].distanceTo(zn[C+1])/2;if(T===0)ze=zn[0];else for(C=0,W=0;C<Kn-1;C++)if(le=zn[C],we=zn[C+1],F=le.distanceTo(we),W+=F,W>T){Oe=(W-T)/F,ze=[we.x-Oe*(we.x-le.x),we.y-Oe*(we.y-le.y)];break}var bn=g.unproject(xe(ze));return Ue([bn.lat+ot.lat,bn.lng+ot.lng])}var ps={__proto__:null,simplify:al,pointToSegmentDistance:mu,closestPointOnSegment:Ed,clipSegment:na,_getEdgeIntersection:wo,_getBitCode:wr,_sqClosestPointOnSegment:ra,isFlat:Cr,_flat:Vr,polylineCenter:gu},yu={project:function(l){return new Ie(l.lng,l.lat)},unproject:function(l){return new Ge(l.y,l.x)},bounds:new fe([-180,-90],[180,90])},Gr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new fe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var g=Math.PI/180,C=this.R,T=l.lat*g,F=this.R_MINOR/C,W=Math.sqrt(1-F*F),le=W*Math.sin(T),we=Math.tan(Math.PI/4-T/2)/Math.pow((1-le)/(1+le),W/2);return T=-C*Math.log(Math.max(we,1e-10)),new Ie(l.lng*g*C,T)},unproject:function(l){for(var g=180/Math.PI,C=this.R,T=this.R_MINOR/C,F=Math.sqrt(1-T*T),W=Math.exp(-l.y/C),le=Math.PI/2-2*Math.atan(W),we=0,Oe=.1,ze;we<15&&Math.abs(Oe)>1e-7;we++)ze=F*Math.sin(le),ze=Math.pow((1-ze)/(1+ze),F/2),Oe=Math.PI/2-2*Math.atan(W*ze)-le,le+=Oe;return new Ge(le*g,l.x*g/C)}},Ci={__proto__:null,LonLat:yu,Mercator:Gr,SphericalMercator:vt},sl=i({},Dt,{code:"EPSG:3395",projection:Gr,transformation:function(){var l=.5/(Math.PI*Gr.R);return He(l,.5,-l,.5)}()}),vu=i({},Dt,{code:"EPSG:4326",projection:yu,transformation:He(1/180,1,-1/180,.5)}),_u=i({},Mt,{projection:yu,transformation:He(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,g){var C=g.lng-l.lng,T=g.lat-l.lat;return Math.sqrt(C*C+T*T)},infinite:!0});Mt.Earth=Dt,Mt.EPSG3395=sl,Mt.EPSG3857=gn,Mt.EPSG900913=Jt,Mt.EPSG4326=vu,Mt.Simple=_u;var dr=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[f(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[f(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var g=l.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var C=this.getEvents();g.on(C,this),this.once("remove",function(){g.off(C,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Ht.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var g=f(l);return this._layers[g]?this:(this._layers[g]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var g=f(l);return this._layers[g]?(this._loaded&&l.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return f(l)in this._layers},eachLayer:function(l,g){for(var C in this._layers)l.call(g,this._layers[C]);return this},_addLayers:function(l){l=l?Z(l)?l:[l]:[];for(var g=0,C=l.length;g<C;g++)this.addLayer(l[g])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[f(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var g=f(l);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,g=-1/0,C=this._getZoomSpan();for(var T in this._zoomBoundLayers){var F=this._zoomBoundLayers[T].options;l=F.minZoom===void 0?l:Math.min(l,F.minZoom),g=F.maxZoom===void 0?g:Math.max(g,F.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=l===1/0?void 0:l,C!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Co=dr.extend({initialize:function(l,g){I(this,g),this._layers={};var C,T;if(l)for(C=0,T=l.length;C<T;C++)this.addLayer(l[C])},addLayer:function(l){var g=this.getLayerId(l);return this._layers[g]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var g=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(l){var g=typeof l=="number"?l:this.getLayerId(l);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var g=Array.prototype.slice.call(arguments,1),C,T;for(C in this._layers)T=this._layers[C],T[l]&&T[l].apply(T,g);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,g){for(var C in this._layers)l.call(g,this._layers[C]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return f(l)}}),ms=function(l,g){return new Co(l,g)},ai=Co.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),Co.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),Co.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new je;for(var g in this._layers){var C=this._layers[g];l.extend(C.getBounds?C.getBounds():C.getLatLng())}return l}}),xc=function(l,g){return new ai(l,g)},ia=Ke.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){I(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,g){var C=this._getIconUrl(l);if(!C){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(C,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(T,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(l,g){var C=this.options,T=C[g+"Size"];typeof T=="number"&&(T=[T,T]);var F=xe(T),W=xe(g==="shadow"&&C.shadowAnchor||C.iconAnchor||F&&F.divideBy(2,!0));l.className="leaflet-marker-"+g+" "+(C.className||""),W&&(l.style.marginLeft=-W.x+"px",l.style.marginTop=-W.y+"px"),F&&(l.style.width=F.x+"px",l.style.height=F.y+"px")},_createImg:function(l,g){return g=g||document.createElement("img"),g.src=l,g},_getIconUrl:function(l){return yt.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function bc(l){return new ia(l)}var Pa=ia.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof Pa.imagePath!="string"&&(Pa.imagePath=this._detectIconPath()),(this.options.imagePath||Pa.imagePath)+ia.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var g=function(C,T,F){var W=T.exec(C);return W&&W[F]};return l=g(l,/^url\((['"])?(.+)\1\)$/,2),l&&g(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=zt("div","leaflet-default-icon-path",document.body),g=_o(l,"background-image")||_o(l,"backgroundImage");if(document.body.removeChild(l),g=this._stripUrl(g),g)return g;var C=document.querySelector('link[href$="leaflet.css"]');return C?C.href.substring(0,C.href.length-11-1):""}}),gs=qn.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new oi(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ot(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var g=this._marker,C=g._map,T=this._marker.options.autoPanSpeed,F=this._marker.options.autoPanPadding,W=Yi(g._icon),le=C.getPixelBounds(),we=C.getPixelOrigin(),Oe=ve(le.min._subtract(we).add(F),le.max._subtract(we).subtract(F));if(!Oe.contains(W)){var ze=xe((Math.max(Oe.max.x,W.x)-Oe.max.x)/(le.max.x-Oe.max.x)-(Math.min(Oe.min.x,W.x)-Oe.min.x)/(le.min.x-Oe.min.x),(Math.max(Oe.max.y,W.y)-Oe.max.y)/(le.max.y-Oe.max.y)-(Math.min(Oe.min.y,W.y)-Oe.min.y)/(le.min.y-Oe.min.y)).multiplyBy(T);C.panBy(ze,{animate:!1}),this._draggable._newPos._add(ze),this._draggable._startPos._add(ze),Tn(g._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=_e(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(Ne(this._panRequest),this._panRequest=_e(this._adjustPan.bind(this,l)))},_onDrag:function(l){var g=this._marker,C=g._shadow,T=Yi(g._icon),F=g._map.layerPointToLatLng(T);C&&Tn(C,T),g._latlng=F,l.latlng=F,l.oldLatLng=this._oldLatLng,g.fire("move",l).fire("drag",l)},_onDragEnd:function(l){Ne(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),to=dr.extend({options:{icon:new Pa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,g){I(this,g),this._latlng=Ue(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var g=this._latlng;return this._latlng=Ue(l),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),C=l.icon.createIcon(this._icon),T=!1;C!==this._icon&&(this._icon&&this._removeIcon(),T=!0,l.title&&(C.title=l.title),C.tagName==="IMG"&&(C.alt=l.alt||"")),Ot(C,g),l.keyboard&&(C.tabIndex="0",C.setAttribute("role","button")),this._icon=C,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&It(C,"focus",this._panOnFocus,this);var F=l.icon.createShadow(this._shadow),W=!1;F!==this._shadow&&(this._removeShadow(),W=!0),F&&(Ot(F,g),F.alt=""),this._shadow=F,l.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),F&&W&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&un(this._icon,"focus",this._panOnFocus,this),dn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&dn(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&Tn(this._icon,l),this._shadow&&Tn(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(Ot(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),gs)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new gs(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&xr(this._icon,l),this._shadow&&xr(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var g=this.options.icon.options,C=g.iconSize?xe(g.iconSize):xe(0,0),T=g.iconAnchor?xe(g.iconAnchor):xe(0,0);l.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:C.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Md(l,g){return new to(l,g)}var no=dr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return I(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Li=no.extend({options:{fill:!0,radius:10},initialize:function(l,g){I(this,g),this._latlng=Ue(l),this._radius=this.options.radius},setLatLng:function(l){var g=this._latlng;return this._latlng=Ue(l),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var g=l&&l.radius||this._radius;return no.prototype.setStyle.call(this,l),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,g=this._radiusY||l,C=this._clickTolerance(),T=[l+C,g+C];this._pxBounds=new fe(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function xu(l,g){return new Li(l,g)}var ll=Li.extend({initialize:function(l,g,C){if(typeof g=="number"&&(g=i({},C,{radius:g})),I(this,g),this._latlng=Ue(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new je(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:no.prototype.setStyle,_project:function(){var l=this._latlng.lng,g=this._latlng.lat,C=this._map,T=C.options.crs;if(T.distance===Dt.distance){var F=Math.PI/180,W=this._mRadius/Dt.R/F,le=C.project([g+W,l]),we=C.project([g-W,l]),Oe=le.add(we).divideBy(2),ze=C.unproject(Oe).lat,ot=Math.acos((Math.cos(W*F)-Math.sin(g*F)*Math.sin(ze*F))/(Math.cos(g*F)*Math.cos(ze*F)))/F;(isNaN(ot)||ot===0)&&(ot=W/Math.cos(Math.PI/180*g)),this._point=Oe.subtract(C.getPixelOrigin()),this._radius=isNaN(ot)?0:Oe.x-C.project([ze,l-ot]).x,this._radiusY=Oe.y-le.y}else{var Et=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=C.latLngToLayerPoint(this._latlng),this._radius=this._point.x-C.latLngToLayerPoint(Et).x}this._updateBounds()}});function si(l,g,C){return new ll(l,g,C)}var Ir=no.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,g){I(this,g),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var g=1/0,C=null,T=ra,F,W,le=0,we=this._parts.length;le<we;le++)for(var Oe=this._parts[le],ze=1,ot=Oe.length;ze<ot;ze++){F=Oe[ze-1],W=Oe[ze];var Et=T(l,F,W,!0);Et<g&&(g=Et,C=T(l,F,W))}return C&&(C.distance=Math.sqrt(g)),C},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,g){return g=g||this._defaultShape(),l=Ue(l),g.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new je,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return Cr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var g=[],C=Cr(l),T=0,F=l.length;T<F;T++)C?(g[T]=Ue(l[T]),this._bounds.extend(g[T])):g[T]=this._convertLatLngs(l[T]);return g},_project:function(){var l=new fe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),g=new Ie(l,l);this._rawPxBounds&&(this._pxBounds=new fe([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(l,g,C){var T=l[0]instanceof Ge,F=l.length,W,le;if(T){for(le=[],W=0;W<F;W++)le[W]=this._map.latLngToLayerPoint(l[W]),C.extend(le[W]);g.push(le)}else for(W=0;W<F;W++)this._projectLatlngs(l[W],g,C)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,C,T,F,W,le,we,Oe;for(C=0,F=0,W=this._rings.length;C<W;C++)for(Oe=this._rings[C],T=0,le=Oe.length;T<le-1;T++)we=na(Oe[T],Oe[T+1],l,T,!0),we&&(g[F]=g[F]||[],g[F].push(we[0]),(we[1]!==Oe[T+1]||T===le-2)&&(g[F].push(we[1]),F++))}},_simplifyPoints:function(){for(var l=this._parts,g=this.options.smoothFactor,C=0,T=l.length;C<T;C++)l[C]=al(l[C],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,g){var C,T,F,W,le,we,Oe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(C=0,W=this._parts.length;C<W;C++)for(we=this._parts[C],T=0,le=we.length,F=le-1;T<le;F=T++)if(!(!g&&T===0)&&mu(l,we[F],we[T])<=Oe)return!0;return!1}});function Sd(l,g){return new Ir(l,g)}Ir._flat=Vr;var li=Ir.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var g=Ir.prototype._convertLatLngs.call(this,l),C=g.length;return C>=2&&g[0]instanceof Ge&&g[0].equals(g[C-1])&&g.pop(),g},_setLatLngs:function(l){Ir.prototype._setLatLngs.call(this,l),Cr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Cr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,g=this.options.weight,C=new Ie(g,g);if(l=new fe(l.min.subtract(C),l.max.add(C)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,F=this._rings.length,W;T<F;T++)W=hu(this._rings[T],l,!0),W.length&&this._parts.push(W)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var g=!1,C,T,F,W,le,we,Oe,ze;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(W=0,Oe=this._parts.length;W<Oe;W++)for(C=this._parts[W],le=0,ze=C.length,we=ze-1;le<ze;we=le++)T=C[le],F=C[we],T.y>l.y!=F.y>l.y&&l.x<(F.x-T.x)*(l.y-T.y)/(F.y-T.y)+T.x&&(g=!g);return g||Ir.prototype._containsPoint.call(this,l,!0)}});function ys(l,g){return new li(l,g)}var Ei=ai.extend({initialize:function(l,g){I(this,g),this._layers={},l&&this.addData(l)},addData:function(l){var g=Z(l)?l:l.features,C,T,F;if(g){for(C=0,T=g.length;C<T;C++)F=g[C],(F.geometries||F.geometry||F.features||F.coordinates)&&this.addData(F);return this}var W=this.options;if(W.filter&&!W.filter(l))return this;var le=Aa(l,W);return le?(le.feature=dl(l),le.defaultOptions=le.options,this.resetStyle(le),W.onEachFeature&&W.onEachFeature(l,le),this.addLayer(le)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=i({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(g){this._setLayerStyle(g,l)},this)},_setLayerStyle:function(l,g){l.setStyle&&(typeof g=="function"&&(g=g(l.feature)),l.setStyle(g))}});function Aa(l,g){var C=l.type==="Feature"?l.geometry:l,T=C?C.coordinates:null,F=[],W=g&&g.pointToLayer,le=g&&g.coordsToLatLng||vs,we,Oe,ze,ot;if(!T&&!C)return null;switch(C.type){case"Point":return we=le(T),ul(W,l,we,g);case"MultiPoint":for(ze=0,ot=T.length;ze<ot;ze++)we=le(T[ze]),F.push(ul(W,l,we,g));return new ai(F);case"LineString":case"MultiLineString":return Oe=_s(T,C.type==="LineString"?0:1,le),new Ir(Oe,g);case"Polygon":case"MultiPolygon":return Oe=_s(T,C.type==="Polygon"?1:2,le),new li(Oe,g);case"GeometryCollection":for(ze=0,ot=C.geometries.length;ze<ot;ze++){var Et=Aa({geometry:C.geometries[ze],type:"Feature",properties:l.properties},g);Et&&F.push(Et)}return new ai(F);case"FeatureCollection":for(ze=0,ot=C.features.length;ze<ot;ze++){var Vt=Aa(C.features[ze],g);Vt&&F.push(Vt)}return new ai(F);default:throw new Error("Invalid GeoJSON object.")}}function ul(l,g,C,T){return l?l(g,C):new to(C,T&&T.markersInheritOptions&&T)}function vs(l){return new Ge(l[1],l[0],l[2])}function _s(l,g,C){for(var T=[],F=0,W=l.length,le;F<W;F++)le=g?_s(l[F],g-1,C):(C||vs)(l[F]),T.push(le);return T}function xs(l,g){return l=Ue(l),l.alt!==void 0?[E(l.lng,g),E(l.lat,g),E(l.alt,g)]:[E(l.lng,g),E(l.lat,g)]}function cl(l,g,C,T){for(var F=[],W=0,le=l.length;W<le;W++)F.push(g?cl(l[W],Cr(l[W])?0:g-1,C,T):xs(l[W],T));return!g&&C&&F.length>0&&F.push(F[0].slice()),F}function Da(l,g){return l.feature?i({},l.feature,{geometry:g}):dl(g)}function dl(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var fl={toGeoJSON:function(l){return Da(this,{type:"Point",coordinates:xs(this.getLatLng(),l)})}};to.include(fl),ll.include(fl),Li.include(fl),Ir.include({toGeoJSON:function(l){var g=!Cr(this._latlngs),C=cl(this._latlngs,g?1:0,!1,l);return Da(this,{type:(g?"Multi":"")+"LineString",coordinates:C})}}),li.include({toGeoJSON:function(l){var g=!Cr(this._latlngs),C=g&&!Cr(this._latlngs[0]),T=cl(this._latlngs,C?2:g?1:0,!0,l);return g||(T=[T]),Da(this,{type:(C?"Multi":"")+"Polygon",coordinates:T})}}),Co.include({toMultiPoint:function(l){var g=[];return this.eachLayer(function(C){g.push(C.toGeoJSON(l).geometry.coordinates)}),Da(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(l){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(l);var C=g==="GeometryCollection",T=[];return this.eachLayer(function(F){if(F.toGeoJSON){var W=F.toGeoJSON(l);if(C)T.push(W.geometry);else{var le=dl(W);le.type==="FeatureCollection"?T.push.apply(T,le.features):T.push(le)}}}),C?Da(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function hl(l,g){return new Ei(l,g)}var qr=hl,ki=dr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,g,C){this._url=l,this._bounds=Ze(g),I(this,C)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ot(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){dn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&Ca(this._image),this},bringToBack:function(){return this._map&&_i(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=Ze(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",g=this._image=l?this._url:zt("img");if(Ot(g,"leaflet-image-layer"),this._zoomAnimated&&Ot(g,"leaflet-zoom-animated"),this.options.className&&Ot(g,this.options.className),g.onselectstart=_,g.onmousemove=_,g.onload=a(this.fire,this,"load"),g.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(l){var g=this._map.getZoomScale(l.zoom),C=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;ni(this._image,C,g)},_reset:function(){var l=this._image,g=new fe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),C=g.getSize();Tn(l,g.min),l.style.width=C.x+"px",l.style.height=C.y+"px"},_updateOpacity:function(){xr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),wc=function(l,g,C){return new ki(l,g,C)},Ia=ki.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",g=this._image=l?this._url:zt("video");if(Ot(g,"leaflet-image-layer"),this._zoomAnimated&&Ot(g,"leaflet-zoom-animated"),this.options.className&&Ot(g,this.options.className),g.onselectstart=_,g.onmousemove=_,g.onloadeddata=a(this.fire,this,"load"),l){for(var C=g.getElementsByTagName("source"),T=[],F=0;F<C.length;F++)T.push(C[F].src);this._url=C.length>0?T:[g.src];return}Z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var W=0;W<this._url.length;W++){var le=zt("source");le.src=this._url[W],g.appendChild(le)}}});function bu(l,g,C){return new Ia(l,g,C)}var wu=ki.extend({_initImage:function(){var l=this._image=this._url;Ot(l,"leaflet-image-layer"),this._zoomAnimated&&Ot(l,"leaflet-zoom-animated"),this.options.className&&Ot(l,this.options.className),l.onselectstart=_,l.onmousemove=_}});function Cu(l,g,C){return new wu(l,g,C)}var Mi=dr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,g){l&&(l instanceof Ge||Z(l))?(this._latlng=Ue(l),I(this,g)):(I(this,l),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&xr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&xr(this._container,1),this.bringToFront(),this.options.interactive&&(Ot(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(xr(this._container,0),this._removeTimeout=setTimeout(a(dn,void 0,this._container),200)):dn(this._container),this.options.interactive&&(fn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=Ue(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ca(this._container),this},bringToBack:function(){return this._map&&_i(this._container),this},_prepareOpen:function(l){var g=this._source;if(!g._map)return!1;if(g instanceof ai){g=null;var C=this._source._layers;for(var T in C)if(C[T]._map){g=C[T];break}if(!g)return!1;this._source=g}if(!l)if(g.getCenter)l=g.getCenter();else if(g.getLatLng)l=g.getLatLng();else if(g.getBounds)l=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")l.innerHTML=g;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),g=xe(this.options.offset),C=this._getAnchor();this._zoomAnimated?Tn(this._container,l.add(C)):g=g.add(l).add(C);var T=this._containerBottom=-g.y,F=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=T+"px",this._container.style.left=F+"px"}},_getAnchor:function(){return[0,0]}});Ht.include({_initOverlay:function(l,g,C,T){var F=g;return F instanceof l||(F=new l(T).setContent(g)),C&&F.setLatLng(C),F}}),dr.include({_initOverlay:function(l,g,C,T){var F=C;return F instanceof l?(I(F,T),F._source=this):(F=g&&!T?g:new l(T,this),F.setContent(C)),F}});var Lo=Mi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Mi.prototype.openOn.call(this,l)},onAdd:function(l){Mi.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof no||this._source.on("preclick",bi))},onRemove:function(l){Mi.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof no||this._source.off("preclick",bi))},getEvents:function(){var l=Mi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",g=this._container=zt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),C=this._wrapper=zt("div",l+"-content-wrapper",g);if(this._contentNode=zt("div",l+"-content",C),ds(g),rl(this._contentNode),It(g,"contextmenu",bi),this._tipContainer=zt("div",l+"-tip-container",g),this._tip=zt("div",l+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=zt("a",l+"-close-button",g);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',It(T,"click",function(F){kn(F),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,g=l.style;g.width="",g.whiteSpace="nowrap";var C=l.offsetWidth;C=Math.min(C,this.options.maxWidth),C=Math.max(C,this.options.minWidth),g.width=C+1+"px",g.whiteSpace="",g.height="";var T=l.offsetHeight,F=this.options.maxHeight,W="leaflet-popup-scrolled";F&&T>F?(g.height=F+"px",Ot(l,W)):fn(l,W),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),C=this._getAnchor();Tn(this._container,g.add(C))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,g=parseInt(_o(this._container,"marginBottom"),10)||0,C=this._container.offsetHeight+g,T=this._containerWidth,F=new Ie(this._containerLeft,-C-this._containerBottom);F._add(Yi(this._container));var W=l.layerPointToContainerPoint(F),le=xe(this.options.autoPanPadding),we=xe(this.options.autoPanPaddingTopLeft||le),Oe=xe(this.options.autoPanPaddingBottomRight||le),ze=l.getSize(),ot=0,Et=0;W.x+T+Oe.x>ze.x&&(ot=W.x+T-ze.x+Oe.x),W.x-ot-we.x<0&&(ot=W.x-we.x),W.y+C+Oe.y>ze.y&&(Et=W.y+C-ze.y+Oe.y),W.y-Et-we.y<0&&(Et=W.y-we.y),(ot||Et)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([ot,Et]))}},_getAnchor:function(){return xe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Oa=function(l,g){return new Lo(l,g)};Ht.mergeOptions({closePopupOnClick:!0}),Ht.include({openPopup:function(l,g,C){return this._initOverlay(Lo,l,g,C).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),dr.include({bindPopup:function(l,g){return this._popup=this._initOverlay(Lo,this._popup,l,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof ai||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){ii(l);var g=l.layer||l.target;if(this._popup._source===g&&!(g instanceof no)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=g,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var Ba=Mi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Mi.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Mi.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Mi.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",g=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=zt("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var g,C,T=this._map,F=this._container,W=T.latLngToContainerPoint(T.getCenter()),le=T.layerPointToContainerPoint(l),we=this.options.direction,Oe=F.offsetWidth,ze=F.offsetHeight,ot=xe(this.options.offset),Et=this._getAnchor();we==="top"?(g=Oe/2,C=ze):we==="bottom"?(g=Oe/2,C=0):we==="center"?(g=Oe/2,C=ze/2):we==="right"?(g=0,C=ze/2):we==="left"?(g=Oe,C=ze/2):le.x<W.x?(we="right",g=0,C=ze/2):(we="left",g=Oe+(ot.x+Et.x)*2,C=ze/2),l=l.subtract(xe(g,C,!0)).add(ot).add(Et),fn(F,"leaflet-tooltip-right"),fn(F,"leaflet-tooltip-left"),fn(F,"leaflet-tooltip-top"),fn(F,"leaflet-tooltip-bottom"),Ot(F,"leaflet-tooltip-"+we),Tn(F,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&xr(this._container,l)},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(g)},_getAnchor:function(){return xe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),bs=function(l,g){return new Ba(l,g)};Ht.include({openTooltip:function(l,g,C){return this._initOverlay(Ba,l,g,C).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),dr.include({bindTooltip:function(l,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ba,this._tooltip,l,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var g=l?"off":"on",C={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?C.add=this._openTooltip:(C.mouseover=this._openTooltip,C.mouseout=this.closeTooltip,C.click=this._openTooltip,this._map?this._addFocusListeners():C.add=this._addFocusListeners),this._tooltip.options.sticky&&(C.mousemove=this._moveTooltip),this[g](C),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof ai||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var g=typeof l.getElement=="function"&&l.getElement();g&&(It(g,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),It(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var g=typeof l.getElement=="function"&&l.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var g=l.latlng,C,T;this._tooltip.options.sticky&&l.originalEvent&&(C=this._map.mouseEventToContainerPoint(l.originalEvent),T=this._map.containerPointToLayerPoint(C),g=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(g)}});var pl=ia.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var g=l&&l.tagName==="DIV"?l:document.createElement("div"),C=this.options;if(C.html instanceof Element?(ss(g),g.appendChild(C.html)):g.innerHTML=C.html!==!1?C.html:"",C.bgPos){var T=xe(C.bgPos);g.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function Cc(l){return new pl(l)}ia.Default=Pa;var Eo=dr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:yt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){I(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),dn(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ca(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_i(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof Ie?l:new Ie(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var g=this.getPane().children,C=-l(-1/0,1/0),T=0,F=g.length,W;T<F;T++)W=g[T].style.zIndex,g[T]!==this._container&&W&&(C=l(C,+W));isFinite(C)&&(this.options.zIndex=C+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!yt.ielt9){xr(this._container,this.options.opacity);var l=+new Date,g=!1,C=!1;for(var T in this._tiles){var F=this._tiles[T];if(!(!F.current||!F.loaded)){var W=Math.min(1,(l-F.loaded)/200);xr(F.el,W),W<1?g=!0:(F.active?C=!0:this._onOpaqueTile(F),F.active=!0)}}C&&!this._noPrune&&this._pruneTiles(),g&&(Ne(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=zt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,g=this.options.maxZoom;if(l!==void 0){for(var C in this._levels)C=Number(C),this._levels[C].el.children.length||C===l?(this._levels[C].el.style.zIndex=g-Math.abs(l-C),this._onUpdateLevel(C)):(dn(this._levels[C].el),this._removeTilesAtZoom(C),this._onRemoveLevel(C),delete this._levels[C]);var T=this._levels[l],F=this._map;return T||(T=this._levels[l]={},T.el=zt("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=g,T.origin=F.project(F.unproject(F.getPixelOrigin()),l).round(),T.zoom=l,this._setZoomTransform(T,F.getCenter(),F.getZoom()),_(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var l,g,C=this._map.getZoom();if(C>this.options.maxZoom||C<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)g=this._tiles[l],g.retain=g.current;for(l in this._tiles)if(g=this._tiles[l],g.current&&!g.active){var T=g.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var g in this._tiles)this._tiles[g].coords.z===l&&this._removeTile(g)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)dn(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,g,C,T){var F=Math.floor(l/2),W=Math.floor(g/2),le=C-1,we=new Ie(+F,+W);we.z=+le;var Oe=this._tileCoordsToKey(we),ze=this._tiles[Oe];return ze&&ze.active?(ze.retain=!0,!0):(ze&&ze.loaded&&(ze.retain=!0),le>T?this._retainParent(F,W,le,T):!1)},_retainChildren:function(l,g,C,T){for(var F=2*l;F<2*l+2;F++)for(var W=2*g;W<2*g+2;W++){var le=new Ie(F,W);le.z=C+1;var we=this._tileCoordsToKey(le),Oe=this._tiles[we];if(Oe&&Oe.active){Oe.retain=!0;continue}else Oe&&Oe.loaded&&(Oe.retain=!0);C+1<T&&this._retainChildren(F,W,C+1,T)}},_resetView:function(l){var g=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var g=this.options;return g.minNativeZoom!==void 0&&l<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<l?g.maxNativeZoom:l},_setView:function(l,g,C,T){var F=Math.round(g);this.options.maxZoom!==void 0&&F>this.options.maxZoom||this.options.minZoom!==void 0&&F<this.options.minZoom?F=void 0:F=this._clampZoom(F);var W=this.options.updateWhenZooming&&F!==this._tileZoom;(!T||W)&&(this._tileZoom=F,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),F!==void 0&&this._update(l),C||this._pruneTiles(),this._noPrune=!!C),this._setZoomTransforms(l,g)},_setZoomTransforms:function(l,g){for(var C in this._levels)this._setZoomTransform(this._levels[C],l,g)},_setZoomTransform:function(l,g,C){var T=this._map.getZoomScale(C,l.zoom),F=l.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(g,C)).round();yt.any3d?ni(l.el,F,T):Tn(l.el,F)},_resetGrid:function(){var l=this._map,g=l.options.crs,C=this._tileSize=this.getTileSize(),T=this._tileZoom,F=this._map.getPixelWorldBounds(this._tileZoom);F&&(this._globalTileRange=this._pxBoundsToTileRange(F)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,g.wrapLng[0]],T).x/C.x),Math.ceil(l.project([0,g.wrapLng[1]],T).x/C.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([g.wrapLat[0],0],T).y/C.x),Math.ceil(l.project([g.wrapLat[1],0],T).y/C.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var g=this._map,C=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),T=g.getZoomScale(C,this._tileZoom),F=g.project(l,this._tileZoom).floor(),W=g.getSize().divideBy(T*2);return new fe(F.subtract(W),F.add(W))},_update:function(l){var g=this._map;if(g){var C=this._clampZoom(g.getZoom());if(l===void 0&&(l=g.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(l),F=this._pxBoundsToTileRange(T),W=F.getCenter(),le=[],we=this.options.keepBuffer,Oe=new fe(F.getBottomLeft().subtract([we,-we]),F.getTopRight().add([we,-we]));if(!(isFinite(F.min.x)&&isFinite(F.min.y)&&isFinite(F.max.x)&&isFinite(F.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ze in this._tiles){var ot=this._tiles[ze].coords;(ot.z!==this._tileZoom||!Oe.contains(new Ie(ot.x,ot.y)))&&(this._tiles[ze].current=!1)}if(Math.abs(C-this._tileZoom)>1){this._setView(l,C);return}for(var Et=F.min.y;Et<=F.max.y;Et++)for(var Vt=F.min.x;Vt<=F.max.x;Vt++){var Kn=new Ie(Vt,Et);if(Kn.z=this._tileZoom,!!this._isValidTile(Kn)){var zn=this._tiles[this._tileCoordsToKey(Kn)];zn?zn.current=!0:le.push(Kn)}}if(le.sort(function(bn,Pi){return bn.distanceTo(W)-Pi.distanceTo(W)}),le.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fr=document.createDocumentFragment();for(Vt=0;Vt<le.length;Vt++)this._addTile(le[Vt],fr);this._level.el.appendChild(fr)}}}},_isValidTile:function(l){var g=this._map.options.crs;if(!g.infinite){var C=this._globalTileRange;if(!g.wrapLng&&(l.x<C.min.x||l.x>C.max.x)||!g.wrapLat&&(l.y<C.min.y||l.y>C.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(l);return Ze(this.options.bounds).overlaps(T)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var g=this._map,C=this.getTileSize(),T=l.scaleBy(C),F=T.add(C),W=g.unproject(T,l.z),le=g.unproject(F,l.z);return[W,le]},_tileCoordsToBounds:function(l){var g=this._tileCoordsToNwSe(l),C=new je(g[0],g[1]);return this.options.noWrap||(C=this._map.wrapLatLngBounds(C)),C},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var g=l.split(":"),C=new Ie(+g[0],+g[1]);return C.z=+g[2],C},_removeTile:function(l){var g=this._tiles[l];g&&(dn(g.el),delete this._tiles[l],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){Ot(l,"leaflet-tile");var g=this.getTileSize();l.style.width=g.x+"px",l.style.height=g.y+"px",l.onselectstart=_,l.onmousemove=_,yt.ielt9&&this.options.opacity<1&&xr(l,this.options.opacity)},_addTile:function(l,g){var C=this._getTilePos(l),T=this._tileCoordsToKey(l),F=this.createTile(this._wrapCoords(l),a(this._tileReady,this,l));this._initTile(F),this.createTile.length<2&&_e(a(this._tileReady,this,l,null,F)),Tn(F,C),this._tiles[T]={el:F,coords:l,current:!0},g.appendChild(F),this.fire("tileloadstart",{tile:F,coords:l})},_tileReady:function(l,g,C){g&&this.fire("tileerror",{error:g,tile:C,coords:l});var T=this._tileCoordsToKey(l);C=this._tiles[T],C&&(C.loaded=+new Date,this._map._fadeAnimated?(xr(C.el,0),Ne(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this)):(C.active=!0,this._pruneTiles()),g||(Ot(C.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:C.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),yt.ielt9||!this._map._fadeAnimated?_e(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var g=new Ie(this._wrapX?m(l.x,this._wrapX):l.x,this._wrapY?m(l.y,this._wrapY):l.y);return g.z=l.z,g},_pxBoundsToTileRange:function(l){var g=this.getTileSize();return new fe(l.min.unscaleBy(g).floor(),l.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function Na(l){return new Eo(l)}var ko=Eo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,g){this._url=l,g=I(this,g),g.detectRetina&&yt.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,g){return this._url===l&&g===void 0&&(g=!0),this._url=l,g||this.redraw(),this},createTile:function(l,g){var C=document.createElement("img");return It(C,"load",a(this._tileOnLoad,this,g,C)),It(C,"error",a(this._tileOnError,this,g,C)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(C.referrerPolicy=this.options.referrerPolicy),C.alt="",C.src=this.getTileUrl(l),C},getTileUrl:function(l){var g={r:yt.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var C=this._globalTileRange.max.y-l.y;this.options.tms&&(g.y=C),g["-y"]=C}return G(this._url,i(g,this.options))},_tileOnLoad:function(l,g){yt.ielt9?setTimeout(a(l,this,null,g),0):l(null,g)},_tileOnError:function(l,g,C){var T=this.options.errorTileUrl;T&&g.getAttribute("src")!==T&&(g.src=T),l(C,g)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,g=this.options.maxZoom,C=this.options.zoomReverse,T=this.options.zoomOffset;return C&&(l=g-l),l+T},_getSubdomain:function(l){var g=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var l,g;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(g=this._tiles[l].el,g.onload=_,g.onerror=_,!g.complete)){g.src=te;var C=this._tiles[l].coords;dn(g),delete this._tiles[l],this.fire("tileabort",{tile:g,coords:C})}},_removeTile:function(l){var g=this._tiles[l];if(g)return g.el.setAttribute("src",te),Eo.prototype._removeTile.call(this,l)},_tileReady:function(l,g,C){if(!(!this._map||C&&C.getAttribute("src")===te))return Eo.prototype._tileReady.call(this,l,g,C)}});function ml(l,g){return new ko(l,g)}var oa=ko.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,g){this._url=l;var C=i({},this.defaultWmsParams);for(var T in g)T in this.options||(C[T]=g[T]);g=I(this,g);var F=g.detectRetina&&yt.retina?2:1,W=this.getTileSize();C.width=W.x*F,C.height=W.y*F,this.wmsParams=C},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,ko.prototype.onAdd.call(this,l)},getTileUrl:function(l){var g=this._tileCoordsToNwSe(l),C=this._crs,T=ve(C.project(g[0]),C.project(g[1])),F=T.min,W=T.max,le=(this._wmsVersion>=1.3&&this._crs===vu?[F.y,F.x,W.y,W.x]:[F.x,F.y,W.x,W.y]).join(","),we=ko.prototype.getTileUrl.call(this,l);return we+N(this.wmsParams,we,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+le},setParams:function(l,g){return i(this.wmsParams,l),g||this.redraw(),this}});function Lc(l,g){return new oa(l,g)}ko.WMS=oa,ml.wms=Lc;var Si=dr.extend({options:{padding:.1},initialize:function(l){I(this,l),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ot(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,g){var C=this._map.getZoomScale(g,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),F=this._map.project(this._center,g),W=T.multiplyBy(-C).add(F).subtract(this._map._getNewPixelOrigin(l,g));yt.any3d?ni(this._container,W,C):Tn(this._container,W)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,g=this._map.getSize(),C=this._map.containerPointToLayerPoint(g.multiplyBy(-l)).round();this._bounds=new fe(C,C.add(g.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),gl=Si.extend({options:{tolerance:0},getEvents:function(){var l=Si.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Si.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");It(l,"mousemove",this._onMouseMove,this),It(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),It(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){Ne(this._redrawRequest),delete this._ctx,dn(this._container),un(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var g in this._layers)l=this._layers[g],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Si.prototype._update.call(this);var l=this._bounds,g=this._container,C=l.getSize(),T=yt.retina?2:1;Tn(g,l.min),g.width=T*C.x,g.height=T*C.y,g.style.width=C.x+"px",g.style.height=C.y+"px",yt.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){Si.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[f(l)]=l;var g=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var g=l._order,C=g.next,T=g.prev;C?C.prev=T:this._drawLast=T,T?T.next=C:this._drawFirst=C,delete l._order,delete this._layers[f(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var g=l.options.dashArray.split(/[, ]+/),C=[],T,F;for(F=0;F<g.length;F++){if(T=Number(g[F]),isNaN(T))return;C.push(T)}l.options._dashArray=C}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||_e(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var g=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new fe,this._redrawBounds.extend(l._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(l._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var g=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,g=this._redrawBounds;if(this._ctx.save(),g){var C=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,C.x,C.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)l=T.layer,(!g||l._pxBounds&&l._pxBounds.intersects(g))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,g){if(this._drawing){var C,T,F,W,le=l._parts,we=le.length,Oe=this._ctx;if(we){for(Oe.beginPath(),C=0;C<we;C++){for(T=0,F=le[C].length;T<F;T++)W=le[C][T],Oe[T?"lineTo":"moveTo"](W.x,W.y);g&&Oe.closePath()}this._fillStroke(Oe,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var g=l._point,C=this._ctx,T=Math.max(Math.round(l._radius),1),F=(Math.max(Math.round(l._radiusY),1)||T)/T;F!==1&&(C.save(),C.scale(1,F)),C.beginPath(),C.arc(g.x,g.y/F,T,0,Math.PI*2,!1),F!==1&&C.restore(),this._fillStroke(C,l)}},_fillStroke:function(l,g){var C=g.options;C.fill&&(l.globalAlpha=C.fillOpacity,l.fillStyle=C.fillColor||C.color,l.fill(C.fillRule||"evenodd")),C.stroke&&C.weight!==0&&(l.setLineDash&&l.setLineDash(g.options&&g.options._dashArray||[]),l.globalAlpha=C.opacity,l.lineWidth=C.weight,l.strokeStyle=C.color,l.lineCap=C.lineCap,l.lineJoin=C.lineJoin,l.stroke())},_onClick:function(l){for(var g=this._map.mouseEventToLayerPoint(l),C,T,F=this._drawFirst;F;F=F.next)C=F.layer,C.options.interactive&&C._containsPoint(g)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(C))&&(T=C);this._fireEvent(T?[T]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,g)}},_handleMouseOut:function(l){var g=this._hoveredLayer;g&&(fn(this._container,"leaflet-interactive"),this._fireEvent([g],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,g){if(!this._mouseHoverThrottled){for(var C,T,F=this._drawFirst;F;F=F.next)C=F.layer,C.options.interactive&&C._containsPoint(g)&&(T=C);T!==this._hoveredLayer&&(this._handleMouseOut(l),T&&(Ot(this._container,"leaflet-interactive"),this._fireEvent([T],l,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,g,C){this._map._fireDOMEvent(g,C||g.type,l)},_bringToFront:function(l){var g=l._order;if(g){var C=g.next,T=g.prev;if(C)C.prev=T;else return;T?T.next=C:C&&(this._drawFirst=C),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(l)}},_bringToBack:function(l){var g=l._order;if(g){var C=g.next,T=g.prev;if(T)T.next=C;else return;C?C.prev=T:T&&(this._drawLast=T),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(l)}}});function ws(l){return yt.canvas?new gl(l):null}var Ra=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ec={_initContainer:function(){this._container=zt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Si.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var g=l._container=Ra("shape");Ot(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",l._path=Ra("path"),g.appendChild(l._path),this._updateStyle(l),this._layers[f(l)]=l},_addPath:function(l){var g=l._container;this._container.appendChild(g),l.options.interactive&&l.addInteractiveTarget(g)},_removePath:function(l){var g=l._container;dn(g),l.removeInteractiveTarget(g),delete this._layers[f(l)]},_updateStyle:function(l){var g=l._stroke,C=l._fill,T=l.options,F=l._container;F.stroked=!!T.stroke,F.filled=!!T.fill,T.stroke?(g||(g=l._stroke=Ra("stroke")),F.appendChild(g),g.weight=T.weight+"px",g.color=T.color,g.opacity=T.opacity,T.dashArray?g.dashStyle=Z(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=T.lineCap.replace("butt","flat"),g.joinstyle=T.lineJoin):g&&(F.removeChild(g),l._stroke=null),T.fill?(C||(C=l._fill=Ra("fill")),F.appendChild(C),C.color=T.fillColor||T.color,C.opacity=T.fillOpacity):C&&(F.removeChild(C),l._fill=null)},_updateCircle:function(l){var g=l._point.round(),C=Math.round(l._radius),T=Math.round(l._radiusY||C);this._setPath(l,l._empty()?"M0 0":"AL "+g.x+","+g.y+" "+C+","+T+" 0,"+65535*360)},_setPath:function(l,g){l._path.v=g},_bringToFront:function(l){Ca(l._container)},_bringToBack:function(l){_i(l._container)}},Or=yt.vml?Ra:In,Fn=Si.extend({_initContainer:function(){this._container=Or("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Or("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){dn(this._container),un(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Si.prototype._update.call(this);var l=this._bounds,g=l.getSize(),C=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,C.setAttribute("width",g.x),C.setAttribute("height",g.y)),Tn(C,l.min),C.setAttribute("viewBox",[l.min.x,l.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(l){var g=l._path=Or("path");l.options.className&&Ot(g,l.options.className),l.options.interactive&&Ot(g,"leaflet-interactive"),this._updateStyle(l),this._layers[f(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){dn(l._path),l.removeInteractiveTarget(l._path),delete this._layers[f(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var g=l._path,C=l.options;g&&(C.stroke?(g.setAttribute("stroke",C.color),g.setAttribute("stroke-opacity",C.opacity),g.setAttribute("stroke-width",C.weight),g.setAttribute("stroke-linecap",C.lineCap),g.setAttribute("stroke-linejoin",C.lineJoin),C.dashArray?g.setAttribute("stroke-dasharray",C.dashArray):g.removeAttribute("stroke-dasharray"),C.dashOffset?g.setAttribute("stroke-dashoffset",C.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),C.fill?(g.setAttribute("fill",C.fillColor||C.color),g.setAttribute("fill-opacity",C.fillOpacity),g.setAttribute("fill-rule",C.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(l,g){this._setPath(l,On(l._parts,g))},_updateCircle:function(l){var g=l._point,C=Math.max(Math.round(l._radius),1),T=Math.max(Math.round(l._radiusY),1)||C,F="a"+C+","+T+" 0 1,0 ",W=l._empty()?"M0 0":"M"+(g.x-C)+","+g.y+F+C*2+",0 "+F+-C*2+",0 ";this._setPath(l,W)},_setPath:function(l,g){l._path.setAttribute("d",g)},_bringToFront:function(l){Ca(l._path)},_bringToBack:function(l){_i(l._path)}});yt.vml&&Fn.include(Ec);function Wn(l){return yt.svg||yt.vml?new Fn(l):null}Ht.include({getRenderer:function(l){var g=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var g=this._paneRenderers[l];return g===void 0&&(g=this._createRenderer({pane:l}),this._paneRenderers[l]=g),g},_createRenderer:function(l){return this.options.preferCanvas&&ws(l)||Wn(l)}});var Lu=li.extend({initialize:function(l,g){li.prototype.initialize.call(this,this._boundsToLatLngs(l),g)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=Ze(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function ui(l,g){return new Lu(l,g)}Fn.create=Or,Fn.pointsToPath=On,Ei.geometryToLayer=Aa,Ei.coordsToLatLng=vs,Ei.coordsToLatLngs=_s,Ei.latLngToCoords=xs,Ei.latLngsToCoords=cl,Ei.getFeature=Da,Ei.asFeature=dl,Ht.mergeOptions({boxZoom:!0});var Tt=qn.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){It(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){un(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){dn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qt(),tl(),this._startPoint=this._map.mouseEventToContainerPoint(l),It(document,{contextmenu:ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=zt("div","leaflet-zoom-box",this._container),Ot(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var g=new fe(this._point,this._startPoint),C=g.getSize();Tn(this._box,g.min),this._box.style.width=C.x+"px",this._box.style.height=C.y+"px"},_finish:function(){this._moved&&(dn(this._box),fn(this._container,"leaflet-crosshair")),ka(),nl(),un(document,{contextmenu:ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var g=new je(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ht.addInitHook("addHandler","boxZoom",Tt),Ht.mergeOptions({doubleClickZoom:!0});var yl=qn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var g=this._map,C=g.getZoom(),T=g.options.zoomDelta,F=l.originalEvent.shiftKey?C-T:C+T;g.options.doubleClickZoom==="center"?g.setZoom(F):g.setZoomAround(l.containerPoint,F)}});Ht.addInitHook("addHandler","doubleClickZoom",yl),Ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Cs=qn.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new oi(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}Ot(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fn(this._map._container,"leaflet-grab"),fn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=Ze(this._map.options.maxBounds);this._offsetLimit=ve(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var g=this._lastTime=+new Date,C=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(C),this._times.push(g),this._prunePositions(g)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,g){return l-(l-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;l.x<g.min.x&&(l.x=this._viscousLimit(l.x,g.min.x)),l.y<g.min.y&&(l.y=this._viscousLimit(l.y,g.min.y)),l.x>g.max.x&&(l.x=this._viscousLimit(l.x,g.max.x)),l.y>g.max.y&&(l.y=this._viscousLimit(l.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,g=Math.round(l/2),C=this._initialWorldOffset,T=this._draggable._newPos.x,F=(T-g+C)%l+g-C,W=(T+g+C)%l-g-C,le=Math.abs(F+C)<Math.abs(W+C)?F:W;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=le},_onDragEnd:function(l){var g=this._map,C=g.options,T=!C.inertia||l.noInertia||this._times.length<2;if(g.fire("dragend",l),T)g.fire("moveend");else{this._prunePositions(+new Date);var F=this._lastPos.subtract(this._positions[0]),W=(this._lastTime-this._times[0])/1e3,le=C.easeLinearity,we=F.multiplyBy(le/W),Oe=we.distanceTo([0,0]),ze=Math.min(C.inertiaMaxSpeed,Oe),ot=we.multiplyBy(ze/Oe),Et=ze/(C.inertiaDeceleration*le),Vt=ot.multiplyBy(-Et/2).round();!Vt.x&&!Vt.y?g.fire("moveend"):(Vt=g._limitOffset(Vt,g.options.maxBounds),_e(function(){g.panBy(Vt,{duration:Et,easeLinearity:le,noMoveStart:!0,animate:!0})}))}}});Ht.addInitHook("addHandler","dragging",Cs),Ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ti=qn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),It(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),un(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,g=document.documentElement,C=l.scrollTop||g.scrollTop,T=l.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(T,C)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var g=this._panKeys={},C=this.keyCodes,T,F;for(T=0,F=C.left.length;T<F;T++)g[C.left[T]]=[-1*l,0];for(T=0,F=C.right.length;T<F;T++)g[C.right[T]]=[l,0];for(T=0,F=C.down.length;T<F;T++)g[C.down[T]]=[0,l];for(T=0,F=C.up.length;T<F;T++)g[C.up[T]]=[0,-1*l]},_setZoomDelta:function(l){var g=this._zoomKeys={},C=this.keyCodes,T,F;for(T=0,F=C.zoomIn.length;T<F;T++)g[C.zoomIn[T]]=l;for(T=0,F=C.zoomOut.length;T<F;T++)g[C.zoomOut[T]]=-l},_addHooks:function(){It(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){un(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var g=l.keyCode,C=this._map,T;if(g in this._panKeys){if(!C._panAnim||!C._panAnim._inProgress)if(T=this._panKeys[g],l.shiftKey&&(T=xe(T).multiplyBy(3)),C.options.maxBounds&&(T=C._limitOffset(xe(T),C.options.maxBounds)),C.options.worldCopyJump){var F=C.wrapLatLng(C.unproject(C.project(C.getCenter()).add(T)));C.panTo(F)}else C.panBy(T)}else if(g in this._zoomKeys)C.setZoom(C.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&C._popup&&C._popup.options.closeOnEscapeKey)C.closePopup();else return;ii(l)}}});Ht.addInitHook("addHandler","keyboard",Ti),Ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Nt=qn.extend({addHooks:function(){It(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){un(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var g=mc(l),C=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var T=Math.max(C-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),T),ii(l)},_performZoom:function(){var l=this._map,g=l.getZoom(),C=this._map.options.zoomSnap||0;l._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),F=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,W=C?Math.ceil(F/C)*C:F,le=l._limitZoom(g+(this._delta>0?W:-W))-g;this._delta=0,this._startTime=null,le&&(l.options.scrollWheelZoom==="center"?l.setZoom(g+le):l.setZoomAround(this._lastMousePos,g+le))}});Ht.addInitHook("addHandler","scrollWheelZoom",Nt);var vl=600;Ht.mergeOptions({tapHold:yt.touchNative&&yt.safari&&yt.mobile,tapTolerance:15});var nr=qn.extend({addHooks:function(){It(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){un(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var g=l.touches[0];this._startPos=this._newPos=new Ie(g.clientX,g.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(It(document,"touchend",kn),It(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),vl),It(document,"touchend touchcancel contextmenu",this._cancel,this),It(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){un(document,"touchend",kn),un(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),un(document,"touchend touchcancel contextmenu",this._cancel,this),un(document,"touchmove",this._onMove,this)},_onMove:function(l){var g=l.touches[0];this._newPos=new Ie(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,g){var C=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});C._simulated=!0,g.target.dispatchEvent(C)}});Ht.addInitHook("addHandler","tapHold",nr),Ht.mergeOptions({touchZoom:yt.touch,bounceAtZoomLimits:!0});var Zn=qn.extend({addHooks:function(){Ot(this._map._container,"leaflet-touch-zoom"),It(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fn(this._map._container,"leaflet-touch-zoom"),un(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var g=this._map;if(!(!l.touches||l.touches.length!==2||g._animatingZoom||this._zooming)){var C=g.mouseEventToContainerPoint(l.touches[0]),T=g.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(C.add(T)._divideBy(2))),this._startDist=C.distanceTo(T),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),It(document,"touchmove",this._onTouchMove,this),It(document,"touchend touchcancel",this._onTouchEnd,this),kn(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var g=this._map,C=g.mouseEventToContainerPoint(l.touches[0]),T=g.mouseEventToContainerPoint(l.touches[1]),F=C.distanceTo(T)/this._startDist;if(this._zoom=g.getScaleZoom(F,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&F<1||this._zoom>g.getMaxZoom()&&F>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,F===1)return}else{var W=C._add(T)._divideBy(2)._subtract(this._centerPoint);if(F===1&&W.x===0&&W.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(W),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),Ne(this._animRequest);var le=a(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_e(le,this,!0),kn(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ne(this._animRequest),un(document,"touchmove",this._onTouchMove,this),un(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ht.addInitHook("addHandler","touchZoom",Zn),Ht.BoxZoom=Tt,Ht.DoubleClickZoom=yl,Ht.Drag=Cs,Ht.Keyboard=Ti,Ht.ScrollWheelZoom=Nt,Ht.TapHold=nr,Ht.TouchZoom=Zn,n.Bounds=fe,n.Browser=yt,n.CRS=Mt,n.Canvas=gl,n.Circle=ll,n.CircleMarker=Li,n.Class=Ke,n.Control=Bt,n.DivIcon=pl,n.DivOverlay=Mi,n.DomEvent=ea,n.DomUtil=cs,n.Draggable=oi,n.Evented=it,n.FeatureGroup=ai,n.GeoJSON=Ei,n.GridLayer=Eo,n.Handler=qn,n.Icon=ia,n.ImageOverlay=ki,n.LatLng=Ge,n.LatLngBounds=je,n.Layer=dr,n.LayerGroup=Co,n.LineUtil=ps,n.Map=Ht,n.Marker=to,n.Mixin=fu,n.Path=no,n.Point=Ie,n.PolyUtil=Ld,n.Polygon=li,n.Polyline=Ir,n.Popup=Lo,n.PosAnimation=il,n.Projection=Ci,n.Rectangle=Lu,n.Renderer=Si,n.SVG=Fn,n.SVGOverlay=wu,n.TileLayer=ko,n.Tooltip=Ba,n.Transformation=Ct,n.Util=qe,n.VideoOverlay=Ia,n.bind=a,n.bounds=ve,n.canvas=ws,n.circle=si,n.circleMarker=xu,n.control=wi,n.divIcon=Cc,n.extend=i,n.featureGroup=xc,n.geoJSON=hl,n.geoJson=qr,n.gridLayer=Na,n.icon=bc,n.imageOverlay=wc,n.latLng=Ue,n.latLngBounds=Ze,n.layerGroup=ms,n.map=Qi,n.marker=Md,n.point=xe,n.polygon=ys,n.polyline=Sd,n.popup=Oa,n.rectangle=ui,n.setOptions=I,n.stamp=f,n.svg=Wn,n.svgOverlay=Cu,n.tileLayer=ml,n.tooltip=bs,n.transformation=He,n.version=r,n.videoOverlay=bu;var Mo=window.L;n.noConflict=function(){return window.L=Mo,this},window.L=n})}(lf,lf.exports)),lf.exports}var zo=dY();const Pn=Go(zo),ux=mA({__proto__:null,default:Pn},[zo]);var uf={exports:{}},fY=uf.exports,pk;function hY(){return pk||(pk=1,function(t,e){(function(n,r){r(e)})(fY,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var a=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,a?this._withAnimation:this._noAnimation),this._markerCluster=a?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var a=o,u=this._zoom;if(o.__parent)for(;a.__parent._zoom>=u;)a=a.__parent;return this._currentShownBounds.contains(a.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,a):this._animationAddLayerNonAnimated(o,a)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):(o.getLatLng?this._map?o.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())):(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o})):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o})),this)},addLayers:function(o,a){if(!L.Util.isArray(o))return this.addLayer(o);var u,f=this._featureGroup,h=this._nonPointGroup,m=this.options.chunkedLoading,_=this.options.chunkInterval,E=this.options.chunkProgress,S=o.length,A=0,I=!0;if(this._map){var N=new Date().getTime(),z=L.bind(function(){var Z=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();A<S;A++){if(m&&A%200==0){var X=new Date().getTime()-Z;if(_<X)break}if((u=o[A])instanceof L.LayerGroup)I&&(o=o.slice(),I=!1),this._extractNonGroupLayers(u,o),S=o.length;else if(u.getLatLng){if(!this.hasLayer(u)&&(this._addLayer(u,this._maxZoom),a||this.fire("layeradd",{layer:u}),u.__parent&&u.__parent.getChildCount()===2)){var te=u.__parent.getAllChildMarkers(),ne=te[0]===u?te[1]:te[0];f.removeLayer(ne)}}else h.addLayer(u),a||this.fire("layeradd",{layer:u})}E&&E(A,S,new Date().getTime()-N),A===S?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(z,this.options.chunkDelay)},this);z()}else for(var G=this._needsClustering;A<S;A++)(u=o[A])instanceof L.LayerGroup?(I&&(o=o.slice(),I=!1),this._extractNonGroupLayers(u,o),S=o.length):u.getLatLng?this.hasLayer(u)||G.push(u):h.addLayer(u);return this},removeLayers:function(o){var a,u,f=o.length,h=this._featureGroup,m=this._nonPointGroup,_=!0;if(!this._map){for(a=0;a<f;a++)(u=o[a])instanceof L.LayerGroup?(_&&(o=o.slice(),_=!1),this._extractNonGroupLayers(u,o),f=o.length):(this._arraySplice(this._needsClustering,u),m.removeLayer(u),this.hasLayer(u)&&this._needsRemoving.push({layer:u,latlng:u._latlng}),this.fire("layerremove",{layer:u}));return this}if(this._unspiderfy){this._unspiderfy();var E=o.slice(),S=f;for(a=0;a<S;a++)(u=E[a])instanceof L.LayerGroup?(this._extractNonGroupLayers(u,E),S=E.length):this._unspiderfyLayer(u)}for(a=0;a<f;a++)(u=o[a])instanceof L.LayerGroup?(_&&(o=o.slice(),_=!1),this._extractNonGroupLayers(u,o),f=o.length):u.__parent?(this._removeLayer(u,!0,!0),this.fire("layerremove",{layer:u}),h.hasLayer(u)&&(h.removeLayer(u),u.clusterShow&&u.clusterShow())):(m.removeLayer(u),this.fire("layerremove",{layer:u}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var a=this._needsClustering.length-1;0<=a;a--)o.extend(this._needsClustering[a].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,a){var u,f,h,m=this._needsClustering.slice(),_=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(m),f=m.length-1;0<=f;f--){for(u=!0,h=_.length-1;0<=h;h--)if(_[h].layer===m[f]){u=!1;break}u&&o.call(a,m[f])}this._nonPointGroup.eachLayer(o,a)},getLayers:function(){var o=[];return this.eachLayer(function(a){o.push(a)}),o},getLayer:function(o){var a=null;return o=parseInt(o,10),this.eachLayer(function(u){L.stamp(u)===o&&(a=u)}),a},hasLayer:function(o){if(!o)return!1;var a,u=this._needsClustering;for(a=u.length-1;0<=a;a--)if(u[a]===o)return!0;for(a=(u=this._needsRemoving).length-1;0<=a;a--)if(u[a].layer===o)return!1;return!(!o.__parent||o.__parent._group!==this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,a){var u=this._map;typeof a!="function"&&(a=function(){});var f=function(){!u.hasLayer(o)&&!u.hasLayer(o.__parent)||this._inZoomAnimation||(this._map.off("moveend",f,this),this.off("animationend",f,this),u.hasLayer(o)?a():o.__parent._icon&&(this.once("spiderfied",a,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?a():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",f,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",f,this),this.on("animationend",f,this),o.__parent.zoomToBounds())},onAdd:function(o){var a,u,f;if(this._map=o,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,a=0,u=this._needsRemoving.length;a<u;a++)(f=this._needsRemoving[a]).newlatlng=f.layer._latlng,f.layer._latlng=f.latlng;for(a=0,u=this._needsRemoving.length;a<u;a++)f=this._needsRemoving[a],this._removeLayer(f.layer,!0),f.layer._latlng=f.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),u=this._needsClustering,this._needsClustering=[],this.addLayers(u,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var a=o;a&&!a._icon;)a=a.__parent;return a||null},_arraySplice:function(o,a){for(var u=o.length-1;0<=u;u--)if(o[u]===a)return o.splice(u,1),!0},_removeFromGridUnclustered:function(o,a){for(var u=this._map,f=this._gridUnclustered,h=Math.floor(this._map.getMinZoom());h<=a&&f[a].removeObject(o,u.project(o.getLatLng(),a));a--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var a=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),a&&o.target.openPopup()}},_moveChild:function(o,a,u){o._latlng=a,this.removeLayer(o),o._latlng=u,this.addLayer(o)},_childMarkerDragEnd:function(o){var a=o.target.__dragStart;delete o.target.__dragStart,a&&this._moveChild(o.target,a,o.target._latlng)},_removeLayer:function(o,a,u){var f=this._gridClusters,h=this._gridUnclustered,m=this._featureGroup,_=this._map,E=Math.floor(this._map.getMinZoom());a&&this._removeFromGridUnclustered(o,this._maxZoom);var S,A=o.__parent,I=A._markers;for(this._arraySplice(I,o);A&&(A._childCount--,A._boundsNeedUpdate=!0,!(A._zoom<E));)a&&A._childCount<=1?(S=A._markers[0]===o?A._markers[1]:A._markers[0],f[A._zoom].removeObject(A,_.project(A._cLatLng,A._zoom)),h[A._zoom].addObject(S,_.project(S.getLatLng(),A._zoom)),this._arraySplice(A.__parent._childClusters,A),A.__parent._markers.push(S),S.__parent=A.__parent,A._icon&&(m.removeLayer(A),u||m.addLayer(S))):A._iconNeedsUpdate=!0,A=A.__parent;delete o.__parent},_isOrIsParent:function(o,a){for(;a;){if(o===a)return!0;a=a.parentNode}return!1},fire:function(o,a,u){if(a&&a.layer instanceof L.MarkerCluster){if(a.originalEvent&&this._isOrIsParent(a.layer._icon,a.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,a,u)},listens:function(o,a){return L.FeatureGroup.prototype.listens.call(this,o,a)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,a)},_defaultIconCreateFunction:function(o){var a=o.getChildCount(),u=" marker-cluster-";return u+=a<10?"small":a<100?"medium":"large",new L.DivIcon({html:"<div><span>"+a+"</span></div>",className:"marker-cluster"+u,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,a=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,f=this.options.zoomToBoundsOnClick,h=this.options.spiderfyOnEveryZoom;(a||f||h)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var a=o.layer,u=a;if(o.type!=="clusterkeypress"||!o.originalEvent||o.originalEvent.keyCode===13){for(;u._childClusters.length===1;)u=u._childClusters[0];u._zoom===this._maxZoom&&u._childCount===a._childCount&&this.options.spiderfyOnMaxZoom?a.spiderfy():this.options.zoomToBoundsOnClick&&a.zoomToBounds(),this.options.spiderfyOnEveryZoom&&a.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var a=this._map;this._inZoomAnimation||(this._shownPolygon&&a.removeLayer(this._shownPolygon),2<o.layer.getChildCount()&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),a.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,a=this.options.showCoverageOnHover,u=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom,h=this._map;(o||u||f)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),a&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),h.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),a=Math.floor(this._map.getMinZoom()),u=this.options.maxClusterRadius,f=u;typeof u!="function"&&(f=function(){return u}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var h=o;a<=h;h--)this._gridClusters[h]=new L.DistanceGrid(f(h)),this._gridUnclustered[h]=new L.DistanceGrid(f(h));this._topClusterLevel=new this._markerCluster(this,a-1)},_addLayer:function(o,a){var u,f,h=this._gridClusters,m=this._gridUnclustered,_=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);_<=a;a--){u=this._map.project(o.getLatLng(),a);var E=h[a].getNearObject(u);if(E)return E._addChild(o),void(o.__parent=E);if(E=m[a].getNearObject(u)){var S=E.__parent;S&&this._removeLayer(E,!1);var A=new this._markerCluster(this,a,E,o);h[a].addObject(A,this._map.project(A._cLatLng,a)),E.__parent=A;var I=o.__parent=A;for(f=a-1;f>S._zoom;f--)I=new this._markerCluster(this,f,I),h[f].addObject(I,this._map.project(E.getLatLng(),f));return S._addChild(I),void this._removeFromGridUnclustered(E,a)}m[a].addObject(o,u)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(o){var a=this._maxLat;return a!==void 0&&(o.getNorth()>=a&&(o._northEast.lat=1/0),o.getSouth()<=-a&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,a){if(a===o)this._featureGroup.addLayer(o);else if(a._childCount===2){a._addToMap();var u=a.getAllChildMarkers();this._featureGroup.removeLayer(u[0]),this._featureGroup.removeLayer(u[1])}else a._updateIcon()},_extractNonGroupLayers:function(o,a){var u,f=o.getLayers(),h=0;for(a=a||[];h<f.length;h++)(u=f[h])instanceof L.LayerGroup?this._extractNonGroupLayers(u,a):a.push(u);return a},_overrideMarkerIcon:function(o){return o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,a){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,a){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,a){this._animationAddLayerNonAnimated(o,a)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,a){var u,f=this._getExpandedVisibleBounds(),h=this._featureGroup,m=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(f,o,m,function(_){var E,S=_._latlng,A=_._markers;for(f.contains(S)||(S=null),_._isSingleParent()&&o+1===a?(h.removeLayer(_),_._recursivelyAddChildrenToMap(null,a,f)):(_.clusterHide(),_._recursivelyAddChildrenToMap(S,a,f)),u=A.length-1;0<=u;u--)E=A[u],f.contains(E._latlng)||h.removeLayer(E)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(f,a),h.eachLayer(function(_){_ instanceof L.MarkerCluster||!_._icon||_.clusterShow()}),this._topClusterLevel._recursively(f,o,a,function(_){_._recursivelyRestoreChildPositions(a)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(f,o,m,function(_){h.removeLayer(_),_.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,a){this._animationZoomOutSingle(this._topClusterLevel,o-1,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,a){var u=this,f=this._featureGroup;f.addLayer(o),a!==o&&(2<a._childCount?(a._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(a.getLatLng())),o.clusterHide(),this._enqueue(function(){f.removeLayer(o),o.clusterShow(),u._animationEnd()})):(this._forceLayout(),u._animationStart(),u._animationZoomOutSingle(a,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,a,u){var f=this._getExpandedVisibleBounds(),h=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(f,h,a+1,u);var m=this;this._forceLayout(),o._recursivelyBecomeVisible(f,u),this._enqueue(function(){if(o._childCount===1){var _=o._markers[0];this._ignoreMove=!0,_.setLatLng(_.getLatLng()),this._ignoreMove=!1,_.clusterShow&&_.clusterShow()}else o._recursively(f,u,h,function(E){E._recursivelyRemoveChildrenFromMap(f,h,a+1)});m._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,a,u,f){L.Marker.prototype.initialize.call(this,u?u._cLatLng||u.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=a,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,u&&this._addChild(u),f&&this._addChild(f)},getAllChildMarkers:function(o,a){o=o||[];for(var u=this._childClusters.length-1;0<=u;u--)this._childClusters[u].getAllChildMarkers(o,a);for(var f=this._markers.length-1;0<=f;f--)a&&this._markers[f].__dragStart||o.push(this._markers[f]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var a,u=this._childClusters.slice(),f=this._group._map,h=f.getBoundsZoom(this._bounds),m=this._zoom+1,_=f.getZoom();0<u.length&&m<h;){m++;var E=[];for(a=0;a<u.length;a++)E=E.concat(u[a]._childClusters);u=E}m<h?this._group._map.setView(this._latlng,m):h<=_?this._group._map.setView(this._latlng,_+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,a){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(a||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(a||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o,a,u,f,h=this._markers,m=this._childClusters,_=0,E=0,S=this._childCount;if(S!==0){for(this._resetBounds(),o=0;o<h.length;o++)u=h[o]._latlng,this._bounds.extend(u),_+=u.lat,E+=u.lng;for(o=0;o<m.length;o++)(a=m[o])._boundsNeedUpdate&&a._recalculateBounds(),this._bounds.extend(a._bounds),u=a._wLatLng,f=a._childCount,_+=u.lat*f,E+=u.lng*f;this._latlng=this._wLatLng=new L.LatLng(_/S,E/S),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,a,u){this._recursively(o,this._group._map.getMinZoom(),u-1,function(f){var h,m,_=f._markers;for(h=_.length-1;0<=h;h--)(m=_[h])._icon&&(m._setPos(a),m.clusterHide())},function(f){var h,m,_=f._childClusters;for(h=_.length-1;0<=h;h--)(m=_[h])._icon&&(m._setPos(a),m.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,a,u,f){this._recursively(o,f,a,function(h){h._recursivelyAnimateChildrenIn(o,h._group._map.latLngToLayerPoint(h.getLatLng()).round(),u),h._isSingleParent()&&u-1===f?(h.clusterShow(),h._recursivelyRemoveChildrenFromMap(o,a,u)):h.clusterHide(),h._addToMap()})},_recursivelyBecomeVisible:function(o,a){this._recursively(o,this._group._map.getMinZoom(),a,null,function(u){u.clusterShow()})},_recursivelyAddChildrenToMap:function(o,a,u){this._recursively(u,this._group._map.getMinZoom()-1,a,function(f){if(a!==f._zoom)for(var h=f._markers.length-1;0<=h;h--){var m=f._markers[h];u.contains(m._latlng)&&(o&&(m._backupLatlng=m.getLatLng(),m.setLatLng(o),m.clusterHide&&m.clusterHide()),f._group._featureGroup.addLayer(m))}},function(f){f._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var a=this._markers.length-1;0<=a;a--){var u=this._markers[a];u._backupLatlng&&(u.setLatLng(u._backupLatlng),delete u._backupLatlng)}if(o-1===this._zoom)for(var f=this._childClusters.length-1;0<=f;f--)this._childClusters[f]._restorePosition();else for(var h=this._childClusters.length-1;0<=h;h--)this._childClusters[h]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,a,u,f){var h,m;this._recursively(o,a-1,u-1,function(_){for(m=_._markers.length-1;0<=m;m--)h=_._markers[m],f&&f.contains(h._latlng)||(_._group._featureGroup.removeLayer(h),h.clusterShow&&h.clusterShow())},function(_){for(m=_._childClusters.length-1;0<=m;m--)h=_._childClusters[m],f&&f.contains(h._latlng)||(_._group._featureGroup.removeLayer(h),h.clusterShow&&h.clusterShow())})},_recursively:function(o,a,u,f,h){var m,_,E=this._childClusters,S=this._zoom;if(a<=S&&(f&&f(this),h&&S===u&&h(this)),S<a||S<u)for(m=E.length-1;0<=m;m--)(_=E[m])._boundsNeedUpdate&&_._recalculateBounds(),o.intersects(_._bounds)&&_._recursively(o,a,u,f,h)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,a){var u=this._getCoord(a.x),f=this._getCoord(a.y),h=this._grid,m=h[f]=h[f]||{},_=m[u]=m[u]||[],E=L.Util.stamp(o);this._objectPoint[E]=a,_.push(o)},updateObject:function(o,a){this.removeObject(o),this.addObject(o,a)},removeObject:function(o,a){var u,f,h=this._getCoord(a.x),m=this._getCoord(a.y),_=this._grid,E=_[m]=_[m]||{},S=E[h]=E[h]||[];for(delete this._objectPoint[L.Util.stamp(o)],u=0,f=S.length;u<f;u++)if(S[u]===o)return S.splice(u,1),f===1&&delete E[h],!0},eachObject:function(o,a){var u,f,h,m,_,E,S=this._grid;for(u in S)for(f in _=S[u])for(h=0,m=(E=_[f]).length;h<m;h++)o.call(a,E[h])&&(h--,m--)},getNearObject:function(o){var a,u,f,h,m,_,E,S,A=this._getCoord(o.x),I=this._getCoord(o.y),N=this._objectPoint,z=this._sqCellSize,G=null;for(a=I-1;a<=I+1;a++)if(h=this._grid[a]){for(u=A-1;u<=A+1;u++)if(m=h[u])for(f=0,_=m.length;f<_;f++)E=m[f],((S=this._sqDist(N[L.Util.stamp(E)],o))<z||S<=z&&G===null)&&(z=S,G=E)}return G},_getCoord:function(o){var a=Math.floor(o/this._cellSize);return isFinite(a)?a:o},_sqDist:function(o,a){var u=a.x-o.x,f=a.y-o.y;return u*u+f*f}},L.QuickHull={getDistant:function(o,a){var u=a[1].lat-a[0].lat;return(a[0].lng-a[1].lng)*(o.lat-a[0].lat)+u*(o.lng-a[0].lng)},findMostDistantPointFromBaseLine:function(o,a){var u,f,h,m=0,_=null,E=[];for(u=a.length-1;0<=u;u--)f=a[u],0<(h=this.getDistant(f,o))&&(E.push(f),m<h&&(m=h,_=f));return{maxPoint:_,newPoints:E}},buildConvexHull:function(o,a){var u=[],f=this.findMostDistantPointFromBaseLine(o,a);return f.maxPoint?u=(u=u.concat(this.buildConvexHull([o[0],f.maxPoint],f.newPoints))).concat(this.buildConvexHull([f.maxPoint,o[1]],f.newPoints)):[o[0]]},getConvexHull:function(o){var a,u=!1,f=!1,h=!1,m=!1,_=null,E=null,S=null,A=null,I=null,N=null;for(a=o.length-1;0<=a;a--){var z=o[a];(u===!1||z.lat>u)&&(u=(_=z).lat),(f===!1||z.lat<f)&&(f=(E=z).lat),(h===!1||z.lng>h)&&(h=(S=z).lng),(m===!1||z.lng<m)&&(m=(A=z).lng)}return I=f!==u?(N=E,_):(N=A,S),[].concat(this.buildConvexHull([N,I],o),this.buildConvexHull([I,N],o))}},L.MarkerCluster.include({getConvexHull:function(){var o,a,u=this.getAllChildMarkers(),f=[];for(a=u.length-1;0<=a;a--)o=u[a].getLatLng(),f.push(o);return L.QuickHull.getConvexHull(f)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var o,a=this.getAllChildMarkers(null,!0),u=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),o=(this._group._spiderfied=this)._group.options.spiderfyShapePositions?this._group.options.spiderfyShapePositions(a.length,u):a.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(a.length,u):(u.y+=10,this._generatePointsCircle(a.length,u)),this._animationSpiderfy(a,o)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,a){var u,f,h=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o)/this._2PI,m=this._2PI/o,_=[];for(h=Math.max(h,35),_.length=o,u=0;u<o;u++)f=this._circleStartAngle+u*m,_[u]=new L.Point(a.x+h*Math.cos(f),a.y+h*Math.sin(f))._round();return _},_generatePointsSpiral:function(o,a){var u,f=this._group.options.spiderfyDistanceMultiplier,h=f*this._spiralLengthStart,m=f*this._spiralFootSeparation,_=f*this._spiralLengthFactor*this._2PI,E=0,S=[];for(u=S.length=o;0<=u;u--)u<o&&(S[u]=new L.Point(a.x+h*Math.cos(E),a.y+h*Math.sin(E))._round()),h+=_/(E+=m/h+5e-4*u);return S},_noanimationUnspiderfy:function(){var o,a,u=this._group,f=u._map,h=u._featureGroup,m=this.getAllChildMarkers(null,!0);for(u._ignoreMove=!0,this.setOpacity(1),a=m.length-1;0<=a;a--)o=m[a],h.removeLayer(o),o._preSpiderfyLatlng&&(o.setLatLng(o._preSpiderfyLatlng),delete o._preSpiderfyLatlng),o.setZIndexOffset&&o.setZIndexOffset(0),o._spiderLeg&&(f.removeLayer(o._spiderLeg),delete o._spiderLeg);u.fire("unspiderfied",{cluster:this,markers:m}),u._ignoreMove=!1,u._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,a){var u,f,h,m,_=this._group,E=_._map,S=_._featureGroup,A=this._group.options.spiderLegPolylineOptions;for(_._ignoreMove=!0,u=0;u<o.length;u++)m=E.layerPointToLatLng(a[u]),f=o[u],h=new L.Polyline([this._latlng,m],A),E.addLayer(h),f._spiderLeg=h,f._preSpiderfyLatlng=f._latlng,f.setLatLng(m),f.setZIndexOffset&&f.setZIndexOffset(1e6),S.addLayer(f);this.setOpacity(.3),_._ignoreMove=!1,_.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,a){var u,f,h,m,_,E,S=this,A=this._group,I=A._map,N=A._featureGroup,z=this._latlng,G=I.latLngToLayerPoint(z),Z=L.Path.SVG,X=L.extend({},this._group.options.spiderLegPolylineOptions),te=X.opacity;for(te===void 0&&(te=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),Z?(X.opacity=0,X.className=(X.className||"")+" leaflet-cluster-spider-leg"):X.opacity=te,A._ignoreMove=!0,u=0;u<o.length;u++)f=o[u],E=I.layerPointToLatLng(a[u]),h=new L.Polyline([z,E],X),I.addLayer(h),f._spiderLeg=h,Z&&(_=(m=h._path).getTotalLength()+.1,m.style.strokeDasharray=_,m.style.strokeDashoffset=_),f.setZIndexOffset&&f.setZIndexOffset(1e6),f.clusterHide&&f.clusterHide(),N.addLayer(f),f._setPos&&f._setPos(G);for(A._forceLayout(),A._animationStart(),u=o.length-1;0<=u;u--)E=I.layerPointToLatLng(a[u]),(f=o[u])._preSpiderfyLatlng=f._latlng,f.setLatLng(E),f.clusterShow&&f.clusterShow(),Z&&((m=(h=f._spiderLeg)._path).style.strokeDashoffset=0,h.setStyle({opacity:te}));this.setOpacity(.3),A._ignoreMove=!1,setTimeout(function(){A._animationEnd(),A.fire("spiderfied",{cluster:S,markers:o})},200)},_animationUnspiderfy:function(o){var a,u,f,h,m,_,E=this,S=this._group,A=S._map,I=S._featureGroup,N=o?A._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):A.latLngToLayerPoint(this._latlng),z=this.getAllChildMarkers(null,!0),G=L.Path.SVG;for(S._ignoreMove=!0,S._animationStart(),this.setOpacity(1),u=z.length-1;0<=u;u--)(a=z[u])._preSpiderfyLatlng&&(a.closePopup(),a.setLatLng(a._preSpiderfyLatlng),delete a._preSpiderfyLatlng,_=!0,a._setPos&&(a._setPos(N),_=!1),a.clusterHide&&(a.clusterHide(),_=!1),_&&I.removeLayer(a),G&&(m=(h=(f=a._spiderLeg)._path).getTotalLength()+.1,h.style.strokeDashoffset=m,f.setStyle({opacity:0})));S._ignoreMove=!1,setTimeout(function(){var Z=0;for(u=z.length-1;0<=u;u--)(a=z[u])._spiderLeg&&Z++;for(u=z.length-1;0<=u;u--)(a=z[u])._spiderLeg&&(a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),1<Z&&I.removeLayer(a),A.removeLayer(a._spiderLeg),delete a._spiderLeg);S._animationEnd(),S.fire("unspiderfied",{cluster:E,markers:z})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var a,u;for(a in o)for(u=o[a].__parent;u;)u._iconNeedsUpdate=!0,u=u.__parent},_refreshSingleMarkerModeMarkers:function(o){var a,u;for(a in o)u=o[a],this.hasLayer(u)&&u.setIcon(this._overrideMarkerIcon(u))}}),L.Marker.include({refreshIconOptions:function(o,a){var u=this.options.icon;return L.setOptions(u,o),this.setIcon(u),a&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=i,Object.defineProperty(n,"__esModule",{value:!0})})}(uf,uf.exports)),uf.exports}hY();(function(t,e,n){function r(i,o){for(;(i=i.parentElement)&&!i.classList.contains(o););return i}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(i,o){this._map=i,this._container=i._container,this._overlayPane=i._panes.overlayPane,this._popupPane=i._panes.popupPane,o&&o.shapeOptions&&(o.shapeOptions=L.Util.extend({},this.options.shapeOptions,o.shapeOptions)),L.setOptions(this,o);var a=L.version.split(".");parseInt(a[0],10)===1&&parseInt(a[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(L.DomUtil.disableTextSelection(),i.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(i){L.setOptions(this,i)},_fireCreatedEvent:function(i){this._map.fire(L.Draw.Event.CREATED,{layer:i,layerType:this.type})},_cancelDrawing:function(i){i.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(i,o){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,o&&o.drawError&&(o.drawError=L.Util.extend({},this.options.drawError,o.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,i,o)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var i=this._markers.pop(),o=this._poly,a=o.getLatLngs(),u=a.splice(-1,1)[0];this._poly.setLatLngs(a),this._markerGroup.removeLayer(i),o.getLatLngs().length<2&&this._map.removeLayer(o),this._vertexChanged(u,!1)}},addVertex:function(i){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(i))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(i)),this._poly.addLatLng(i),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(i,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var i=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),o=this._poly.newLatLngIntersects(i[i.length-1]);if(!this.options.allowIntersection&&o||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(i){var o=this._map.mouseEventToLayerPoint(i.originalEvent),a=this._map.layerPointToLatLng(o);this._currentLatLng=a,this._updateTooltip(a),this._updateGuide(o),this._mouseMarker.setLatLng(a),L.DomEvent.preventDefault(i.originalEvent)},_vertexChanged:function(i,o){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(i,o),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(i){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(i),this._clickHandled=!0,this._disableNewMarkers();var o=i.originalEvent,a=o.clientX,u=o.clientY;this._startPoint.call(this,a,u)}},_startPoint:function(i,o){this._mouseDownOrigin=L.point(i,o)},_onMouseUp:function(i){var o=i.originalEvent,a=o.clientX,u=o.clientY;this._endPoint.call(this,a,u,i),this._clickHandled=null},_endPoint:function(i,o,a){if(this._mouseDownOrigin){var u=L.point(i,o).distanceTo(this._mouseDownOrigin),f=this._calculateFinishDistance(a.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(a.latlng),this._finishShape()):f<10&&L.Browser.touch?this._finishShape():Math.abs(u)<9*(t.devicePixelRatio||1)&&this.addVertex(a.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(i){var o,a,u=i.originalEvent;!u.touches||!u.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(o=u.touches[0].clientX,a=u.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,o,a),this._endPoint.call(this,o,a,i),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(i){var o;if(this._markers.length>0){var a;if(this.type===L.Draw.Polyline.TYPE)a=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;a=this._markers[0]}var u=this._map.latLngToContainerPoint(a.getLatLng()),f=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),h=this._map.latLngToContainerPoint(f.getLatLng());o=u.distanceTo(h)}else o=1/0;return o},_updateFinishHandler:function(){var i=this._markers.length;i>1&&this._markers[i-1].on("click",this._finishShape,this),i>2&&this._markers[i-2].off("click",this._finishShape,this)},_createMarker:function(i){var o=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(o),o},_updateGuide:function(i){var o=this._markers?this._markers.length:0;o>0&&(i=i||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[o-1].getLatLng()),i))},_updateTooltip:function(i){var o=this._getTooltipText();i&&this._tooltip.updatePosition(i),this._errorShown||this._tooltip.updateContent(o)},_drawGuide:function(i,o){var a,u,f,h=Math.floor(Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2))),m=this.options.guidelineDistance,_=this.options.maxGuideLineLength,E=h>_?h-_:m;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));E<h;E+=this.options.guidelineDistance)a=E/h,u={x:Math.floor(i.x*(1-a)+a*o.x),y:Math.floor(i.y*(1-a)+a*o.y)},f=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),f.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(f,u)},_updateGuideColor:function(i){if(this._guidesContainer)for(var o=0,a=this._guidesContainer.childNodes.length;o<a;o++)this._guidesContainer.childNodes[o].style.backgroundColor=i},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var i,o,a=this.options.showLength;return this._markers.length===0?i={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(o=a?this._getMeasurementString():"",i=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:o}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:o}),i},_updateRunningMeasure:function(i,o){var a,u,f=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(a=f-(o?2:1),u=L.GeometryUtil.isVersion07x()?i.distanceTo(this._markers[a].getLatLng())*(this.options.factor||1):this._map.distance(i,this._markers[a].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=u*(o?1:-1))},_getMeasurementString:function(){var i,o=this._currentLatLng,a=this._markers[this._markers.length-1].getLatLng();return i=L.GeometryUtil.isVersion07x()?a&&o&&o.distanceTo?this._measurementRunningTotal+o.distanceTo(a)*(this.options.factor||1):this._measurementRunningTotal||0:a&&o?this._measurementRunningTotal+this._map.distance(o,a)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(i,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var i=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(i,o){L.Draw.Polyline.prototype.initialize.call(this,i,o),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var i=this._markers.length;i===1&&this._markers[0].on("click",this._finishShape,this),i>2&&(this._markers[i-1].on("dblclick",this._finishShape,this),i>3&&this._markers[i-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var i,o;return this._markers.length===0?i=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(i=L.drawLocal.draw.handlers.polygon.tooltip.cont,o=this._getMeasurementString()):(i=L.drawLocal.draw.handlers.polygon.tooltip.end,o=this._getMeasurementString()),{text:i,subtext:o}},_getMeasurementString:function(){var i=this._area,o="";return i||this.options.showLength?(this.options.showLength&&(o=L.Draw.Polyline.prototype._getMeasurementString.call(this)),i&&(o+="<br>"+L.GeometryUtil.readableArea(i,this.options.metric,this.options.precision)),o):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(i,o){var a;!this.options.allowIntersection&&this.options.showArea&&(a=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(a)),L.Draw.Polyline.prototype._vertexChanged.call(this,i,o)},_cleanUpShape:function(){var i=this._markers.length;i>0&&(this._markers[0].off("click",this._finishShape,this),i>2&&this._markers[i-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(i,o){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,i,o)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(i){this._isDrawing=!0,this._startLatLng=i.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(i.originalEvent)},_onMouseMove:function(i){var o=i.latlng;this._tooltip.updatePosition(o),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(o))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(i,o){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,o)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(i){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!r(i.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(i){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,i)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,i),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_getTooltipText:function(){var i,o,a,u=L.Draw.SimpleShape.prototype._getTooltipText.call(this),f=this._shape,h=this.options.showArea;return f&&(i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),o=L.GeometryUtil.geodesicArea(i),a=h?L.GeometryUtil.readableArea(o,this.options.metric):""),{text:u.text,subtext:a}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(i,o){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,o)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(i){var o=i.latlng;this._tooltip.updatePosition(o),this._mouseMarker.setLatLng(o),this._marker?(o=this._mouseMarker.getLatLng(),this._marker.setLatLng(o)):(this._marker=this._createMarker(o),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(i){return new L.Marker(i,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(i){this._onMouseMove(i),this._onClick()},_fireCreatedEvent:function(){var i=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(i,o){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,o)},_fireCreatedEvent:function(){var i=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)},_createMarker:function(i){return new L.CircleMarker(i,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(i,o){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,o)},_drawShape:function(i){if(L.GeometryUtil.isVersion07x())var o=this._startLatLng.distanceTo(i);else var o=this._map.distance(this._startLatLng,i);this._shape?this._shape.setRadius(o):(this._shape=new L.Circle(this._startLatLng,o,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_onMouseMove:function(i){var o,a=i.latlng,u=this.options.showRadius,f=this.options.metric;if(this._tooltip.updatePosition(a),this._isDrawing){this._drawShape(a),o=this._shape.getRadius().toFixed(1);var h="";u&&(h=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(o,f,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:h})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(i,o){this._marker=i,L.setOptions(this,o)},addHooks:function(){var i=this._marker;i.dragging.enable(),i.on("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},removeHooks:function(){var i=this._marker;i.dragging.disable(),i.off("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},_onDragEnd:function(i){var o=i.target;o.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:o})},_toggleMarkerHighlight:function(){var i=this._marker._icon;i&&(i.style.display="none",L.DomUtil.hasClass(i,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,-4)):(L.DomUtil.addClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,4)),i.style.display="")},_offsetMarker:function(i,o){var a=parseInt(i.style.marginTop,10)-o,u=parseInt(i.style.marginLeft,10)-o;i.style.marginTop=a+"px",i.style.marginLeft=u+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(i){this.latlngs=[i._latlngs],i._holes&&(this.latlngs=this.latlngs.concat(i._holes)),this._poly=i,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(i){for(var o=0;o<this._verticesHandlers.length;o++)i(this._verticesHandlers[o])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(i){i.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(i){i.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(i){i.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var i=0;i<this.latlngs.length;i++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[i],this._poly.options.poly))},_updateLatLngs:function(i){this.latlngs=[i.layer._latlngs],i.layer._holes&&(this.latlngs=this.latlngs.concat(i.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(i,o,a){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=i,a&&a.drawError&&(a.drawError=L.Util.extend({},this.options.drawError,a.drawError)),this._latlngs=o,L.setOptions(this,a)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var i=this._poly,o=i._path;i instanceof L.Polygon||(i.options.fill=!1,i.options.editing&&(i.options.editing.fill=!1)),o&&i.options.editing&&i.options.editing.className&&(i.options.original.className&&i.options.original.className.split(" ").forEach(function(a){L.DomUtil.removeClass(o,a)}),i.options.editing.className.split(" ").forEach(function(a){L.DomUtil.addClass(o,a)})),i.setStyle(i.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var i=this._poly,o=i._path;o&&i.options.editing&&i.options.editing.className&&(i.options.editing.className.split(" ").forEach(function(a){L.DomUtil.removeClass(o,a)}),i.options.original.className&&i.options.original.className.split(" ").forEach(function(a){L.DomUtil.addClass(o,a)})),i.setStyle(i.options.original),i._map&&(i._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var i,o,a,u,f=this._defaultShape();for(i=0,a=f.length;i<a;i++)u=this._createMarker(f[i],i),u.on("click",this._onMarkerClick,this),u.on("contextmenu",this._onContextMenu,this),this._markers.push(u);var h,m;for(i=0,o=a-1;i<a;o=i++)(i!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(h=this._markers[o],m=this._markers[i],this._createMiddleMarker(h,m),this._updatePrevNext(h,m))},_createMarker:function(i,o){var a=new L.Marker.Touch(i,{draggable:!0,icon:this.options.icon});return a._origLatLng=i,a._index=o,a.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(a),a},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var i=this._defaultShape(),o=[].splice.apply(i,arguments);return this._poly._convertLatLngs(i,!0),this._poly.redraw(),o},_removeMarker:function(i){var o=i._index;this._markerGroup.removeLayer(i),this._markers.splice(o,1),this._spliceLatLngs(o,1),this._updateIndexes(o,-1),i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(i){var o=i.target,a=this._poly,u=L.LatLngUtil.cloneLatLng(o._origLatLng);if(L.extend(o._origLatLng,o._latlng),a.options.poly){var f=a._map._editTooltip;if(!a.options.poly.allowIntersection&&a.intersects()){L.extend(o._origLatLng,u),o.setLatLng(u);var h=a.options.color;a.setStyle({color:this.options.drawError.color}),f&&f.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){a.setStyle({color:h}),f&&f.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}o._middleLeft&&o._middleLeft.setLatLng(this._getMiddleLatLng(o._prev,o)),o._middleRight&&o._middleRight.setLatLng(this._getMiddleLatLng(o,o._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var m=this._poly.getLatLngs();this._poly._convertLatLngs(m,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(i){var o=L.Polygon&&this._poly instanceof L.Polygon?4:3,a=i.target;this._defaultShape().length<o||(this._removeMarker(a),this._updatePrevNext(a._prev,a._next),a._middleLeft&&this._markerGroup.removeLayer(a._middleLeft),a._middleRight&&this._markerGroup.removeLayer(a._middleRight),a._prev&&a._next?this._createMiddleMarker(a._prev,a._next):a._prev?a._next||(a._prev._middleRight=null):a._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(i){var o=i.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:o,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(i){var o=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),a=this._map.layerPointToLatLng(o),u=i.target;L.extend(u._origLatLng,a),u._middleLeft&&u._middleLeft.setLatLng(this._getMiddleLatLng(u._prev,u)),u._middleRight&&u._middleRight.setLatLng(this._getMiddleLatLng(u,u._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(i,o){this._markerGroup.eachLayer(function(a){a._index>i&&(a._index+=o)})},_createMiddleMarker:function(i,o){var a,u,f,h=this._getMiddleLatLng(i,o),m=this._createMarker(h);m.setOpacity(.6),i._middleRight=o._middleLeft=m,u=function(){m.off("touchmove",u,this);var _=o._index;m._index=_,m.off("click",a,this).on("click",this._onMarkerClick,this),h.lat=m.getLatLng().lat,h.lng=m.getLatLng().lng,this._spliceLatLngs(_,0,h),this._markers.splice(_,0,m),m.setOpacity(1),this._updateIndexes(_,1),o._index++,this._updatePrevNext(i,m),this._updatePrevNext(m,o),this._poly.fire("editstart")},f=function(){m.off("dragstart",u,this),m.off("dragend",f,this),m.off("touchmove",u,this),this._createMiddleMarker(i,m),this._createMiddleMarker(m,o)},a=function(){u.call(this),f.call(this),this._fireEdit()},m.on("click",a,this).on("dragstart",u,this).on("dragend",f,this).on("touchmove",u,this),this._markerGroup.addLayer(m)},_updatePrevNext:function(i,o){i&&(i._next=o),o&&(o._prev=i)},_getMiddleLatLng:function(i,o){var a=this._poly._map,u=a.project(i.getLatLng()),f=a.project(o.getLatLng());return a.unproject(u._add(f)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(i,o){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=i,L.Util.setOptions(this,o)},addHooks:function(){var i=this._shape;this._shape._map&&(this._map=this._shape._map,i.setStyle(i.options.editing),i._map&&(this._map=i._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var i=this._shape;if(i.setStyle(i.options.original),i._map){this._unbindMarker(this._moveMarker);for(var o=0,a=this._resizeMarkers.length;o<a;o++)this._unbindMarker(this._resizeMarkers[o]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(i,o){var a=new L.Marker.Touch(i,{draggable:!0,icon:o,zIndexOffset:10});return this._bindMarker(a),this._markerGroup.addLayer(a),a},_bindMarker:function(i){i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(i){i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(i){i.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(i){var o=i.target,a=o.getLatLng();o===this._moveMarker?this._move(a):this._resize(a),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(i){i.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(i){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i),typeof this._getCorners=="function"){var o=this._getCorners(),a=i.target,u=a._cornerIndex;a.setOpacity(0),this._oppositeCorner=o[(u+2)%4],this._toggleCornerMarkers(0,u)}this._shape.fire("editstart")},_onTouchMove:function(i){var o=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),a=this._map.layerPointToLatLng(o);return i.target===this._moveMarker?this._move(a):this._resize(a),this._shape.redraw(),!1},_onTouchEnd:function(i){i.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getBounds(),o=i.getCenter();this._moveMarker=this._createMarker(o,this.options.moveIcon)},_createResizeMarker:function(){var i=this._getCorners();this._resizeMarkers=[];for(var o=0,a=i.length;o<a;o++)this._resizeMarkers.push(this._createMarker(i[o],this.options.resizeIcon)),this._resizeMarkers[o]._cornerIndex=o},_onMarkerDragStart:function(i){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i);var o=this._getCorners(),a=i.target,u=a._cornerIndex;this._oppositeCorner=o[(u+2)%4],this._toggleCornerMarkers(0,u)},_onMarkerDragEnd:function(i){var o,a,u=i.target;u===this._moveMarker&&(o=this._shape.getBounds(),a=o.getCenter(),u.setLatLng(a)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,i)},_move:function(i){for(var o,a=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),u=this._shape.getBounds(),f=u.getCenter(),h=[],m=0,_=a.length;m<_;m++)o=[a[m].lat-f.lat,a[m].lng-f.lng],h.push([i.lat+o[0],i.lng+o[1]]);this._shape.setLatLngs(h),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(i){var o;this._shape.setBounds(L.latLngBounds(i,this._oppositeCorner)),o=this._shape.getBounds(),this._moveMarker.setLatLng(o.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var i=this._shape.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_toggleCornerMarkers:function(i){for(var o=0,a=this._resizeMarkers.length;o<a;o++)this._resizeMarkers[o].setOpacity(i)},_repositionCornerMarkers:function(){for(var i=this._getCorners(),o=0,a=this._resizeMarkers.length;o<a;o++)this._resizeMarkers[o].setLatLng(i[o])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getLatLng();this._moveMarker=this._createMarker(i,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(i){if(this._resizeMarkers.length){var o=this._getResizeMarkerPoint(i);this._resizeMarkers[0].setLatLng(o)}this._shape.setLatLng(i),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var i=this._shape.getLatLng(),o=this._getResizeMarkerPoint(i);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(o,this.options.resizeIcon))},_getResizeMarkerPoint:function(i){var o=this._shape._radius*Math.cos(Math.PI/4),a=this._map.project(i);return this._map.unproject([a.x+o,a.y-o])},_resize:function(i){var o=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=o.distanceTo(i):radius=this._map.distance(o,i),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(i,o){var a={};if(i.touches!==void 0){if(!i.touches.length)return;a=i.touches[0]}else if(i.pointerType!=="touch"||(a=i,!this._filterClick(i)))return;var u=this._map.mouseEventToContainerPoint(a),f=this._map.mouseEventToLayerPoint(a),h=this._map.layerPointToLatLng(f);this._map.fire(o,{latlng:h,layerPoint:f,containerPoint:u,pageX:a.pageX,pageY:a.pageY,originalEvent:i})},_filterClick:function(i){var o=i.timeStamp||i.originalEvent.timeStamp,a=L.DomEvent._lastClick&&o-L.DomEvent._lastClick;return a&&a>100&&a<500||i.target._simulatedClick&&!i._simulated?(L.DomEvent.stop(i),!1):(L.DomEvent._lastClick=o,!0)},_onTouchStart:function(i){this._map._loaded&&this._touchEvent(i,"touchstart")},_onTouchEnd:function(i){this._map._loaded&&this._touchEvent(i,"touchend")},_onTouchCancel:function(i){if(this._map._loaded){var o="touchcancel";this._detectIE()&&(o="pointercancel"),this._touchEvent(i,o)}},_onTouchLeave:function(i){this._map._loaded&&this._touchEvent(i,"touchleave")},_onTouchMove:function(i){this._map._loaded&&this._touchEvent(i,"touchmove")},_detectIE:function(){var i=t.navigator.userAgent,o=i.indexOf("MSIE ");if(o>0)return parseInt(i.substring(o+5,i.indexOf(".",o)),10);if(i.indexOf("Trident/")>0){var a=i.indexOf("rv:");return parseInt(i.substring(a+3,i.indexOf(".",a)),10)}var u=i.indexOf("Edge/");return u>0&&parseInt(i.substring(u+5,i.indexOf(".",u)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var i=this._icon,o=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?o.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):o.concat(["touchcancel"]),L.DomUtil.addClass(i,"leaflet-clickable"),L.DomEvent.on(i,"click",this._onMouseClick,this),L.DomEvent.on(i,"keypress",this._onKeyPress,this);for(var a=0;a<o.length;a++)L.DomEvent.on(i,o[a],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var i=t.navigator.userAgent,o=i.indexOf("MSIE ");if(o>0)return parseInt(i.substring(o+5,i.indexOf(".",o)),10);if(i.indexOf("Trident/")>0){var a=i.indexOf("rv:");return parseInt(i.substring(a+3,i.indexOf(".",a)),10)}var u=i.indexOf("Edge/");return u>0&&parseInt(i.substring(u+5,i.indexOf(".",u)),10)}}),L.LatLngUtil={cloneLatLngs:function(i){for(var o=[],a=0,u=i.length;a<u;a++)Array.isArray(i[a])?o.push(L.LatLngUtil.cloneLatLngs(i[a])):o.push(this.cloneLatLng(i[a]));return o},cloneLatLng:function(i){return L.latLng(i.lat,i.lng)}},function(){var i={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(o){var a,u,f=o.length,h=0,m=Math.PI/180;if(f>2){for(var _=0;_<f;_++)a=o[_],u=o[(_+1)%f],h+=(u.lng-a.lng)*m*(2+Math.sin(a.lat*m)+Math.sin(u.lat*m));h=6378137*h*6378137/2}return Math.abs(h)},formattedNumber:function(o,a){var u=parseFloat(o).toFixed(a),f=L.drawLocal.format&&L.drawLocal.format.numeric,h=f&&f.delimiters,m=h&&h.thousands,_=h&&h.decimal;if(m||_){var E=u.split(".");u=m?E[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+m):E[0],_=_||".",E.length>1&&(u=u+_+E[1])}return u},readableArea:function(o,a,m){var f,h,m=L.Util.extend({},i,m);return a?(h=["ha","m"],type=typeof a,type==="string"?h=[a]:type!=="boolean"&&(h=a),f=o>=1e6&&h.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*o,m.km)+" km":o>=1e4&&h.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*o,m.ha)+" ha":L.GeometryUtil.formattedNumber(o,m.m)+" m"):(o/=.836127,f=o>=3097600?L.GeometryUtil.formattedNumber(o/3097600,m.mi)+" mi":o>=4840?L.GeometryUtil.formattedNumber(o/4840,m.ac)+" acres":L.GeometryUtil.formattedNumber(o,m.yd)+" yd"),f},readableDistance:function(o,a,u,f,_){var m,_=L.Util.extend({},i,_);switch(a?typeof a=="string"?a:"metric":u?"feet":f?"nauticalMile":"yards"){case"metric":m=o>1e3?L.GeometryUtil.formattedNumber(o/1e3,_.km)+" km":L.GeometryUtil.formattedNumber(o,_.m)+" m";break;case"feet":o*=3.28083,m=L.GeometryUtil.formattedNumber(o,_.ft)+" ft";break;case"nauticalMile":o*=.53996,m=L.GeometryUtil.formattedNumber(o/1e3,_.nm)+" nm";break;case"yards":default:o*=1.09361,m=o>1760?L.GeometryUtil.formattedNumber(o/1760,_.mi)+" miles":L.GeometryUtil.formattedNumber(o,_.yd)+" yd"}return m},isVersion07x:function(){var o=L.version.split(".");return parseInt(o[0],10)===0&&parseInt(o[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(i,o,a,u){return this._checkCounterclockwise(i,a,u)!==this._checkCounterclockwise(o,a,u)&&this._checkCounterclockwise(i,o,a)!==this._checkCounterclockwise(i,o,u)},_checkCounterclockwise:function(i,o,a){return(a.y-i.y)*(o.x-i.x)>(o.y-i.y)*(a.x-i.x)}}),L.Polyline.include({intersects:function(){var i,o,a,u=this._getProjectedPoints(),f=u?u.length:0;if(this._tooFewPointsForIntersection())return!1;for(i=f-1;i>=3;i--)if(o=u[i-1],a=u[i],this._lineSegmentsIntersectsRange(o,a,i-2))return!0;return!1},newLatLngIntersects:function(i,o){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(i),o)},newPointIntersects:function(i,o){var a=this._getProjectedPoints(),u=a?a.length:0,f=a?a[u-1]:null,h=u-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(f,i,h,o?1:0)},_tooFewPointsForIntersection:function(i){var o=this._getProjectedPoints(),a=o?o.length:0;return a+=i||0,!o||a<=3},_lineSegmentsIntersectsRange:function(i,o,a,u){var f,h,m=this._getProjectedPoints();u=u||0;for(var _=a;_>u;_--)if(f=m[_-1],h=m[_],L.LineUtil.segmentsIntersect(i,o,f,h))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var i=[],o=this._defaultShape(),a=0;a<o.length;a++)i.push(this._map.latLngToLayerPoint(o[a]));return i}}),L.Polygon.include({intersects:function(){var i,o,a,u,f=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(i=f.length,o=f[0],a=f[i-1],u=i-2,this._lineSegmentsIntersectsRange(a,o,u,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(i){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,i);var o;this._toolbars={},L.DrawToolbar&&this.options.draw&&(o=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=o,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(o=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=o,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(i){var o,a=L.DomUtil.create("div","leaflet-draw"),u=!1;for(var f in this._toolbars)this._toolbars.hasOwnProperty(f)&&(o=this._toolbars[f].addToolbar(i))&&(u||(L.DomUtil.hasClass(o,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(o.childNodes[0],"leaflet-draw-toolbar-top"),u=!0),a.appendChild(o));return a},onRemove:function(){for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&this._toolbars[i].removeToolbar()},setDrawingOptions:function(i){for(var o in this._toolbars)this._toolbars[o]instanceof L.DrawToolbar&&this._toolbars[o].setOptions(i)},_toolbarEnabled:function(i){var o=i.target;for(var a in this._toolbars)this._toolbars[a]!==o&&this._toolbars[a].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(i){L.setOptions(this,i),this._modes={},this._actionButtons=[],this._activeMode=null;var o=L.version.split(".");parseInt(o[0],10)===1&&parseInt(o[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(i){var o,a=L.DomUtil.create("div","leaflet-draw-section"),u=0,f=this._toolbarClass||"",h=this.getModeHandlers(i);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=i,o=0;o<h.length;o++)h[o].enabled&&this._initModeHandler(h[o].handler,this._toolbarContainer,u++,f,h[o].title);if(u)return this._lastButtonIndex=--u,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),a.appendChild(this._toolbarContainer),a.appendChild(this._actionsContainer),a},removeToolbar:function(){for(var i in this._modes)this._modes.hasOwnProperty(i)&&(this._disposeButton(this._modes[i].button,this._modes[i].handler.enable,this._modes[i].handler),this._modes[i].handler.disable(),this._modes[i].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var o=0,a=this._actionButtons.length;o<a;o++)this._disposeButton(this._actionButtons[o].button,this._actionButtons[o].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(i,o,a,u,f){var h=i.type;this._modes[h]={},this._modes[h].handler=i,this._modes[h].button=this._createButton({type:h,title:f,className:u+"-"+h,container:o,callback:this._modes[h].handler.enable,context:this._modes[h].handler}),this._modes[h].buttonIndex=a,this._modes[h].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(i){var o=L.DomUtil.create("a",i.className||"",i.container),a=L.DomUtil.create("span","sr-only",i.container);o.href="#",o.appendChild(a),i.title&&(o.title=i.title,a.innerHTML=i.title),i.text&&(o.innerHTML=i.text,a.innerHTML=i.text);var u=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(o,"click",L.DomEvent.stopPropagation).on(o,"mousedown",L.DomEvent.stopPropagation).on(o,"dblclick",L.DomEvent.stopPropagation).on(o,"touchstart",L.DomEvent.stopPropagation).on(o,"click",L.DomEvent.preventDefault).on(o,u,i.callback,i.context),o},_disposeButton:function(i,o){var a=this._detectIOS()?"touchstart":"click";L.DomEvent.off(i,"click",L.DomEvent.stopPropagation).off(i,"mousedown",L.DomEvent.stopPropagation).off(i,"dblclick",L.DomEvent.stopPropagation).off(i,"touchstart",L.DomEvent.stopPropagation).off(i,"click",L.DomEvent.preventDefault).off(i,a,o)},_handlerActivated:function(i){this.disable(),this._activeMode=this._modes[i.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(i){var o,a,u,f,h=this._actionsContainer,m=this.getActions(i),_=m.length;for(a=0,u=this._actionButtons.length;a<u;a++)this._disposeButton(this._actionButtons[a].button,this._actionButtons[a].callback);for(this._actionButtons=[];h.firstChild;)h.removeChild(h.firstChild);for(var E=0;E<_;E++)"enabled"in m[E]&&!m[E].enabled||(o=L.DomUtil.create("li","",h),f=this._createButton({title:m[E].title,text:m[E].text,container:o,callback:m[E].callback,context:m[E].context}),this._actionButtons.push({button:f,callback:m[E].callback}))},_showActionsToolbar:function(){var i=this._activeMode.buttonIndex,o=this._lastButtonIndex,a=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=a+"px",i===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),i===o&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(i){this._map=i,this._popupPane=i._panes.popupPane,this._visible=!1,this._container=i.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(i){return this._container?(i.subtext=i.subtext||"",i.subtext.length!==0||this._singleLineLabel?i.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(i.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+i.subtext+"</span><br />":"")+"<span>"+i.text+"</span>",i.text||i.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(i){var o=this._map.latLngToLayerPoint(i),a=this._container;return this._container&&(this._visible&&(a.style.visibility="inherit"),L.DomUtil.setPosition(a,o)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(i){for(var o in this.options)this.options.hasOwnProperty(o)&&i[o]&&(i[o]=L.extend({},this.options[o],i[o]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,i)},getModeHandlers:function(i){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(i,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(i,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(i,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(i,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(i,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(i,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(i){return[{enabled:i.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:i.completeShape,context:i},{enabled:i.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:i.deleteLastVertex,context:i},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(i){L.setOptions(this,i);for(var o in this._modes)this._modes.hasOwnProperty(o)&&i.hasOwnProperty(o)&&this._modes[o].handler.setOptions(i[o])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(i){i.edit&&(i.edit.selectedPathOptions===void 0&&(i.edit.selectedPathOptions=this.options.edit.selectedPathOptions),i.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,i.edit.selectedPathOptions)),i.remove&&(i.remove=L.extend({},this.options.remove,i.remove)),i.poly&&(i.poly=L.extend({},this.options.poly,i.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,i),this._selectedFeatureCount=0},getModeHandlers:function(i){var o=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(i,{featureGroup:o,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(i,{featureGroup:o}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(i){var o=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return i.removeAllLayers&&o.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),o},addToolbar:function(i){var o=L.Toolbar.prototype.addToolbar.call(this,i);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),o},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var i,o=this.options.featureGroup,a=o.getLayers().length!==0;this.options.edit&&(i=this._modes[L.EditToolbar.Edit.TYPE].button,a?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",a?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(i=this._modes[L.EditToolbar.Delete.TYPE].button,a?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",a?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(i,o){if(L.Handler.prototype.initialize.call(this,i),L.setOptions(this,o),this._featureGroup=o.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var a=L.version.split(".");parseInt(a[0],10)===1&&parseInt(a[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),i._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(i){this._revertLayer(i)},this)},save:function(){var i=new L.LayerGroup;this._featureGroup.eachLayer(function(o){o.edited&&(i.addLayer(o),o.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:i})},_backupLayer:function(i){var o=L.Util.stamp(i);this._uneditedLayerProps[o]||(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?this._uneditedLayerProps[o]={latlngs:L.LatLngUtil.cloneLatLngs(i.getLatLngs())}:i instanceof L.Circle?this._uneditedLayerProps[o]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng()),radius:i.getRadius()}:(i instanceof L.Marker||i instanceof L.CircleMarker)&&(this._uneditedLayerProps[o]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(i){var o=L.Util.stamp(i);i.edited=!1,this._uneditedLayerProps.hasOwnProperty(o)&&(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?i.setLatLngs(this._uneditedLayerProps[o].latlngs):i instanceof L.Circle?(i.setLatLng(this._uneditedLayerProps[o].latlng),i.setRadius(this._uneditedLayerProps[o].radius)):(i instanceof L.Marker||i instanceof L.CircleMarker)&&i.setLatLng(this._uneditedLayerProps[o].latlng),i.fire("revert-edited",{layer:i}))},_enableLayerEdit:function(i){var o,a,u=i.layer||i.target||i;this._backupLayer(u),this.options.poly&&(a=L.Util.extend({},this.options.poly),u.options.poly=a),this.options.selectedPathOptions&&(o=L.Util.extend({},this.options.selectedPathOptions),o.maintainColor&&(o.color=u.options.color,o.fillColor=u.options.fillColor),u.options.original=L.extend({},u.options),u.options.editing=o),u instanceof L.Marker?(u.editing&&u.editing.enable(),u.dragging.enable(),u.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):u.editing.enable()},_disableLayerEdit:function(i){var o=i.layer||i.target||i;o.edited=!1,o.editing&&o.editing.disable(),delete o.options.editing,delete o.options.original,this._selectedPathOptions&&(o instanceof L.Marker?this._toggleMarkerHighlight(o):(o.setStyle(o.options.previousOptions),delete o.options.previousOptions)),o instanceof L.Marker?(o.dragging.disable(),o.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):o.editing.disable()},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_onMarkerDragEnd:function(i){var o=i.target;o.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:o})},_onTouchMove:function(i){var o=i.originalEvent.changedTouches[0],a=this._map.mouseEventToLayerPoint(o),u=this._map.layerPointToLatLng(a);i.target.setLatLng(u)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(i,o){if(L.Handler.prototype.initialize.call(this,i),L.Util.setOptions(this,o),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var a=L.version.split(".");parseInt(a[0],10)===1&&parseInt(a[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(i){this._deletableLayers.addLayer(i),i.fire("revert-deleted",{layer:i})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(i){this._removeLayer({layer:i})},this),this.save()},_enableLayerDelete:function(i){(i.layer||i.target||i).on("click",this._removeLayer,this)},_disableLayerDelete:function(i){var o=i.layer||i.target||i;o.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(o)},_removeLayer:function(i){var o=i.layer||i.target||i;this._deletableLayers.removeLayer(o),this._deletedLayers.addLayer(o),o.fire("deleted")},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uu.apply(this,arguments)}function pY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Rp(t,e)}function Rp(t,e){return Rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Rp(t,e)}function mY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y_(t,e,n){return y_=mY()?Reflect.construct.bind():function(r,i,o){var a=[null];a.push.apply(a,i);var u=new(Function.bind.apply(r,a));return o&&Rp(u,o.prototype),u},y_.apply(null,arguments)}function Rs(t,e,n,r){e===void 0&&(e=""),r===void 0&&(r={});var i=document.createElement(t);return e&&(i.className=e),Object.keys(r).forEach(function(o){if(typeof r[o]=="function"){var a=o.indexOf("on")===0?o.substr(2).toLowerCase():o;i.addEventListener(a,r[o])}else o==="html"?i.innerHTML=r[o]:o==="text"?i.innerText=r[o]:i.setAttribute(o,r[o])}),n&&n.appendChild(i),i}function nf(t){t.preventDefault(),t.stopPropagation()}var Gh=function(){return[].slice.call(arguments).filter(Boolean).join(" ").trim()};function $u(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach(function(n){t.classList.contains(n)||t.classList.add(n)})}function qa(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach(function(n){t.classList.contains(n)&&t.classList.remove(n)})}var Fp,zp=13,v_=40,M4=38,gY=[zp,27,v_,M4,37,39],yY=function(){function t(n){var r=this,i=n.handleSubmit,o=n.searchLabel,a=n.classNames,u=a===void 0?{}:a;this.container=void 0,this.form=void 0,this.input=void 0,this.handleSubmit=void 0,this.hasError=!1,this.container=Rs("div",Gh("geosearch",u.container)),this.form=Rs("form",["",u.form].join(" "),this.container,{autocomplete:"none",onClick:nf,onDblClick:nf,touchStart:nf,touchEnd:nf}),this.input=Rs("input",["glass",u.input].join(" "),this.form,{type:"text",placeholder:o||"search",onInput:this.onInput,onKeyUp:function(f){return r.onKeyUp(f)},onKeyPress:function(f){return r.onKeyPress(f)},onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(){r.input.focus(),r.input.dispatchEvent(new Event("focus"))}}),this.handleSubmit=i}var e=t.prototype;return e.onFocus=function(){$u(this.form,"active")},e.onBlur=function(){qa(this.form,"active")},e.onSubmit=function(n){try{var r=this;return nf(n),qa(i=r.container,"error"),$u(i,"pending"),Promise.resolve(r.handleSubmit({query:r.input.value})).then(function(){qa(r.container,"pending")})}catch(o){return Promise.reject(o)}var i},e.onInput=function(){this.hasError&&(qa(this.container,"error"),this.hasError=!1)},e.onKeyUp=function(n){n.keyCode===27&&(qa(this.container,["pending","active"]),this.input.value="",document.body.focus(),document.body.blur())},e.onKeyPress=function(n){n.keyCode===zp&&this.onSubmit(n)},e.setQuery=function(n){this.input.value=n},t}(),vY=function(){function t(n){var r=this,i=n.handleClick,o=n.classNames,a=o===void 0?{}:o,u=n.notFoundMessage;this.handleClick=void 0,this.selected=-1,this.results=[],this.container=void 0,this.resultItem=void 0,this.notFoundMessage=void 0,this.onClick=function(f){if(typeof r.handleClick=="function"){var h=f.target;if(h&&r.container.contains(h)&&h.hasAttribute("data-key")){var m=Number(h.getAttribute("data-key"));r.handleClick({result:r.results[m]})}}},this.handleClick=i,this.notFoundMessage=u?Rs("div",Gh(a.notfound),void 0,{html:u}):void 0,this.container=Rs("div",Gh("results",a.resultlist)),this.container.addEventListener("click",this.onClick,!0),this.resultItem=Rs("div",Gh(a.item))}var e=t.prototype;return e.render=function(n,r){var i=this;n===void 0&&(n=[]),this.clear(),n.forEach(function(o,a){var u=i.resultItem.cloneNode(!0);u.setAttribute("data-key",""+a),u.innerHTML=r({result:o}),i.container.appendChild(u)}),n.length>0?($u(this.container.parentElement,"open"),$u(this.container,"active")):this.notFoundMessage&&(this.container.appendChild(this.notFoundMessage),$u(this.container.parentElement,"open")),this.results=n},e.select=function(n){return Array.from(this.container.children).forEach(function(r,i){return i===n?$u(r,"active"):qa(r,"active")}),this.selected=n,this.results[n]},e.count=function(){return this.results?this.results.length:0},e.clear=function(){for(this.selected=-1;this.container.lastChild;)this.container.removeChild(this.container.lastChild);qa(this.container.parentElement,"open"),qa(this.container,"active")},t}(),Xy={position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(t){return""+t.result.label},resultFormat:function(t){return""+t.result.label},marker:{icon:ux&&zo.Icon?new zo.Icon.Default:void 0,draggable:!1},maxMarkers:1,maxSuggestions:5,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",clearSearchLabel:"Clear search",notFoundMessage:"",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:"",resultlist:"",item:"",notfound:"leaflet-bar-notfound"},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1,updateMap:!0,resetButton:""},S4="Leaflet must be loaded before instantiating the GeoSearch control",_Y={options:Uu({},Xy),classNames:Uu({},Xy.classNames),initialize:function(t){var e,n,r,i,o=this;if(!ux)throw new Error(S4);if(!t.provider)throw new Error("Provider is missing from options");this.options=Uu({},Xy,t),this.classNames=Uu({},this.classNames,t.classNames),this.markers=new zo.FeatureGroup,this.classNames.container+=" leaflet-geosearch-"+this.options.style,this.searchElement=new yY({searchLabel:this.options.searchLabel,classNames:{container:this.classNames.container,form:this.classNames.form,input:this.classNames.input},handleSubmit:function(a){return o.onSubmit(a)}}),this.button=Rs("a",this.classNames.button,this.searchElement.container,{title:this.options.searchLabel,href:"#",onClick:function(a){return o.onClick(a)}}),zo.DomEvent.disableClickPropagation(this.button),this.resetButton=Rs("button",this.classNames.resetButton,this.searchElement.form,{text:this.options.resetButton,"aria-label":this.options.clearSearchLabel,onClick:function(){o.searchElement.input.value===""?o.close():o.clearResults(null,!0)}}),zo.DomEvent.disableClickPropagation(this.resetButton),this.options.autoComplete&&(this.resultList=new vY({handleClick:function(a){var u=a.result;o.searchElement.input.value=u.label,o.onSubmit({query:u.label,data:u})},classNames:{resultlist:this.classNames.resultlist,item:this.classNames.item,notfound:this.classNames.notfound},notFoundMessage:this.options.notFoundMessage}),this.searchElement.form.appendChild(this.resultList.container),this.searchElement.input.addEventListener("keyup",(e=function(a){return o.autoSearch(a)},(n=this.options.autoCompleteDelay)===void 0&&(n=250),r===void 0&&(r=!1),function(){var a=[].slice.call(arguments);i&&clearTimeout(i),i=setTimeout(function(){i=null,r||e.apply(void 0,a)},n),r&&!i&&e.apply(void 0,a)}),!0),this.searchElement.input.addEventListener("keydown",function(a){return o.selectResult(a)},!0),this.searchElement.input.addEventListener("keydown",function(a){return o.clearResults(a,!0)},!0)),this.searchElement.form.addEventListener("click",function(a){a.preventDefault()},!1)},onAdd:function(t){var e=this.options,n=e.showMarker,r=e.style;if(this.map=t,n&&this.markers.addTo(t),r==="bar"){var i=t.getContainer().querySelector(".leaflet-control-container");this.container=Rs("div","leaflet-control-geosearch leaflet-geosearch-bar"),this.container.appendChild(this.searchElement.form),i.appendChild(this.container)}return zo.DomEvent.disableClickPropagation(this.searchElement.form),this.searchElement.container},onRemove:function(){var t;return(t=this.container)==null||t.remove(),this},open:function(){var t=this.searchElement,e=t.input;$u(t.container,"active"),e.focus()},close:function(){qa(this.searchElement.container,"active"),this.clearResults()},onClick:function(t){t.preventDefault(),t.stopPropagation(),this.searchElement.container.classList.contains("active")?this.close():this.open()},selectResult:function(t){if([zp,v_,M4].indexOf(t.keyCode)!==-1)if(t.preventDefault(),t.keyCode!==zp){var e=this.resultList.count()-1;if(!(e<0)){var n=this.resultList.selected,r=t.keyCode===v_?n+1:n-1,i=this.resultList.select(r<0?e:r>e?0:r);this.searchElement.input.value=i.label}}else{var o=this.resultList.select(this.resultList.selected);this.onSubmit({query:this.searchElement.input.value,data:o})}},clearResults:function(t,e){if(e===void 0&&(e=!1),!t||t.keyCode===27){var n=this.options,r=n.autoComplete;!e&&n.keepResult||(this.searchElement.input.value="",this.markers.clearLayers()),r&&this.resultList.clear()}},autoSearch:function(t){try{var e=this;if(gY.indexOf(t.keyCode)>-1)return Promise.resolve();var n=t.target.value,r=e.options.provider,i=function(){if(n.length)return Promise.resolve(r.search({query:n})).then(function(o){o=o.slice(0,e.options.maxSuggestions),e.resultList.render(o,e.options.resultFormat)});e.resultList.clear()}();return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(o){return Promise.reject(o)}},onSubmit:function(t){try{var e=this;return e.resultList.clear(),Promise.resolve(e.options.provider.search(t)).then(function(n){n&&n.length>0&&e.showResult(n[0],t)})}catch(n){return Promise.reject(n)}},showResult:function(t,e){var n=this.options,r=n.autoClose,i=n.updateMap,o=this.markers.getLayers();o.length>=this.options.maxMarkers&&this.markers.removeLayer(o[0]);var a=this.addMarker(t,e);i&&this.centerMap(t),this.map.fireEvent("geosearch/showlocation",{location:t,marker:a}),r&&this.closeResults()},closeResults:function(){var t=this.searchElement.container;t.classList.contains("active")&&qa(t,"active"),this.clearResults()},addMarker:function(t,e){var n=this,r=this.options,i=r.marker,o=r.showPopup,a=r.popupFormat,u=new zo.Marker([t.y,t.x],i),f=t.label;return typeof a=="function"&&(f=a({query:e,result:t})),u.bindPopup(f),this.markers.addLayer(u),o&&u.openPopup(),i.draggable&&u.on("dragend",function(h){n.map.fireEvent("geosearch/marker/dragend",{location:u.getLatLng(),event:h})}),u},centerMap:function(t){var e=this.options,n=e.retainZoomLevel,r=e.animateZoom,i=t.bounds?new zo.LatLngBounds(t.bounds):new zo.LatLng(t.y,t.x).toBounds(10),o=i.isValid()?i:this.markers.getBounds();!n&&i.isValid()&&!t.bounds||n||!i.isValid()?this.map.setView(o.getCenter(),this.getZoom(),{animate:r}):this.map.fitBounds(o,{animate:r})},getZoom:function(){var t=this.options,e=t.zoomLevel;return t.retainZoomLevel?this.map.getZoom():e}};function xY(){if(!ux)throw new Error(S4);var t=zo.Control.extend(_Y);return y_(t,[].slice.call(arguments))}(function(t){t[t.SEARCH=0]="SEARCH",t[t.REVERSE=1]="REVERSE"})(Fp||(Fp={}));var bY=function(){function t(n){n===void 0&&(n={}),this.options=void 0,this.options=n}var e=t.prototype;return e.getParamString=function(n){n===void 0&&(n={});var r=Uu({},this.options.params,n);return Object.keys(r).map(function(i){return encodeURIComponent(i)+"="+encodeURIComponent(r[i])}).join("&")},e.getUrl=function(n,r){return n+"?"+this.getParamString(r)},e.search=function(n){try{var r=this,i=r.endpoint({query:n.query,type:Fp.SEARCH});return Promise.resolve(fetch(i)).then(function(o){return Promise.resolve(o.json()).then(function(a){return r.parse({data:a})})})}catch(o){return Promise.reject(o)}},t}();var mk;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(mk||(mk={}));var wY=function(t){function e(r){var i;r===void 0&&(r={}),(i=t.call(this,r)||this).searchUrl=void 0,i.reverseUrl=void 0;var o="https://nominatim.openstreetmap.org";return i.searchUrl=r.searchUrl||o+"/search",i.reverseUrl=r.reverseUrl||o+"/reverse",i}pY(e,t);var n=e.prototype;return n.endpoint=function(r){var i=r.query,o=r.type,a=typeof i=="string"?{q:i}:i;return a.format="json",this.getUrl(o===Fp.REVERSE?this.reverseUrl:this.searchUrl,a)},n.parse=function(r){return(Array.isArray(r.data)?r.data:[r.data]).map(function(i){return{x:Number(i.lon),y:Number(i.lat),label:i.display_name,bounds:[[parseFloat(i.boundingbox[0]),parseFloat(i.boundingbox[2])],[parseFloat(i.boundingbox[1]),parseFloat(i.boundingbox[3])]],raw:i}})},e}(bY),gk=.9996,Ul=.00669438,CY=Math.pow(Ul,2),LY=Math.pow(Ul,3),Qy=Ul/(1-Ul),yk=Math.sqrt(1-Ul),_d=(1-yk)/(1+yk),EY=Math.pow(_d,2),T4=Math.pow(_d,3),P4=Math.pow(_d,4),A4=Math.pow(_d,5),kY=1-Ul/4-3*CY/64-5*LY/256,MY=3/2*_d-27/32*T4+269/512*A4,SY=21/16*EY-55/32*P4,TY=151/96*T4-417/128*A4,PY=1097/512*P4,vk=6378137,AY="CDEFGHJKLMNPQRSTUVWXX";function DY(t,e,n,r,i,o){if(o=o!==void 0?o:!0,!r&&i===void 0)throw new Error("either zoneLetter or northern needs to be set");if(r&&i!==void 0)throw new Error("set either zoneLetter or northern, but not both");if(o){if(t<1e5||1e6<=t)throw new RangeError("easting out of range (must be between 100 000 m and 999 999 m)");if(e<0||e>1e7)throw new RangeError("northing out of range (must be between 0 m and 10 000 000 m)")}if(r){if(r=r.toUpperCase(),r.length!==1||AY.indexOf(r)===-1)throw new RangeError("zone letter out of range (must be between C and X)");i=r>="N"}var a=t-5e5,u=e;i||(u-=1e7);var f=u/gk,h=f/(vk*kY),m=h+MY*Math.sin(2*h)+SY*Math.sin(4*h)+TY*Math.sin(6*h)+PY*Math.sin(8*h),_=Math.sin(m),E=Math.pow(_,2),S=Math.cos(m),A=Math.tan(m),I=Math.pow(A,2),N=Math.pow(A,4),z=1-Ul*E,G=Math.sqrt(z),Z=vk/G,X=(1-Ul)/z,te=_d*S*S,ne=te*te,se=a/(Z*gk),ke=Math.pow(se,2),Le=Math.pow(se,3),Pe=Math.pow(se,4),_e=Math.pow(se,5),Ne=Math.pow(se,6),qe=m-A/X*(ke/2-Pe/24*(5+3*I+10*te-4*ne-9*Qy))+Ne/720*(61+90*I+298*te+45*N-252*Qy-3*ne),Ke=(se-Le/6*(1+2*I+te)+_e/120*(5-2*te+28*I-3*ne+8*Qy+24*N))/S;return{latitude:_k(qe),longitude:_k(Ke)+IY(n)}}function IY(t){return(t-1)*6-180+3}function _k(t){return t/Math.PI*180}var xk={},bk;function OY(){return bk||(bk=1,(()=>{var Bd,Ac;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,a=(d,p)=>()=>(p||d((p={exports:{}}).exports,p),p.exports),u=(d,p,v,x)=>{if(p&&typeof p=="object"||typeof p=="function")for(let M of r(p))!o.call(d,M)&&M!==v&&e(d,M,{get:()=>p[M],enumerable:!(x=n(p,M))||x.enumerable});return d},f=(d,p,v)=>(v=d!=null?t(i(d)):{},u(p||!d||!d.__esModule?e(v,"default",{value:d,enumerable:!0}):v,d)),h=a((d,p)=>{function v(){this.__data__=[],this.size=0}p.exports=v}),m=a((d,p)=>{function v(x,M){return x===M||x!==x&&M!==M}p.exports=v}),_=a((d,p)=>{var v=m();function x(M,P){for(var B=M.length;B--;)if(v(M[B][0],P))return B;return-1}p.exports=x}),E=a((d,p)=>{var v=_(),x=Array.prototype,M=x.splice;function P(B){var R=this.__data__,j=v(R,B);if(j<0)return!1;var q=R.length-1;return j==q?R.pop():M.call(R,j,1),--this.size,!0}p.exports=P}),S=a((d,p)=>{var v=_();function x(M){var P=this.__data__,B=v(P,M);return B<0?void 0:P[B][1]}p.exports=x}),A=a((d,p)=>{var v=_();function x(M){return v(this.__data__,M)>-1}p.exports=x}),I=a((d,p)=>{var v=_();function x(M,P){var B=this.__data__,R=v(B,M);return R<0?(++this.size,B.push([M,P])):B[R][1]=P,this}p.exports=x}),N=a((d,p)=>{var v=h(),x=E(),M=S(),P=A(),B=I();function R(j){var q=-1,oe=j==null?0:j.length;for(this.clear();++q<oe;){var re=j[q];this.set(re[0],re[1])}}R.prototype.clear=v,R.prototype.delete=x,R.prototype.get=M,R.prototype.has=P,R.prototype.set=B,p.exports=R}),z=a((d,p)=>{var v=N();function x(){this.__data__=new v,this.size=0}p.exports=x}),G=a((d,p)=>{function v(x){var M=this.__data__,P=M.delete(x);return this.size=M.size,P}p.exports=v}),Z=a((d,p)=>{function v(x){return this.__data__.get(x)}p.exports=v}),X=a((d,p)=>{function v(x){return this.__data__.has(x)}p.exports=v}),te=a((d,p)=>{var v=typeof xh=="object"&&xh&&xh.Object===Object&&xh;p.exports=v}),ne=a((d,p)=>{var v=te(),x=typeof self=="object"&&self&&self.Object===Object&&self,M=v||x||Function("return this")();p.exports=M}),se=a((d,p)=>{var v=ne(),x=v.Symbol;p.exports=x}),ke=a((d,p)=>{var v=se(),x=Object.prototype,M=x.hasOwnProperty,P=x.toString,B=v?v.toStringTag:void 0;function R(j){var q=M.call(j,B),oe=j[B];try{j[B]=void 0;var re=!0}catch{}var Ee=P.call(j);return re&&(q?j[B]=oe:delete j[B]),Ee}p.exports=R}),Le=a((d,p)=>{var v=Object.prototype,x=v.toString;function M(P){return x.call(P)}p.exports=M}),Pe=a((d,p)=>{var v=se(),x=ke(),M=Le(),P="[object Null]",B="[object Undefined]",R=v?v.toStringTag:void 0;function j(q){return q==null?q===void 0?B:P:R&&R in Object(q)?x(q):M(q)}p.exports=j}),_e=a((d,p)=>{function v(x){var M=typeof x;return x!=null&&(M=="object"||M=="function")}p.exports=v}),Ne=a((d,p)=>{var v=Pe(),x=_e(),M="[object AsyncFunction]",P="[object Function]",B="[object GeneratorFunction]",R="[object Proxy]";function j(q){if(!x(q))return!1;var oe=v(q);return oe==P||oe==B||oe==M||oe==R}p.exports=j}),qe=a((d,p)=>{var v=ne(),x=v["__core-js_shared__"];p.exports=x}),Ke=a((d,p)=>{var v=qe(),x=function(){var P=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}();function M(P){return!!x&&x in P}p.exports=M}),ht=a((d,p)=>{var v=Function.prototype,x=v.toString;function M(P){if(P!=null){try{return x.call(P)}catch{}try{return P+""}catch{}}return""}p.exports=M}),Xe=a((d,p)=>{var v=Ne(),x=Ke(),M=_e(),P=ht(),B=/[\\^$.*+?()[\]{}|]/g,R=/^\[object .+?Constructor\]$/,j=Function.prototype,q=Object.prototype,oe=j.toString,re=q.hasOwnProperty,Ee=RegExp("^"+oe.call(re).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ae(Ve){if(!M(Ve)||x(Ve))return!1;var tt=v(Ve)?Ee:R;return tt.test(P(Ve))}p.exports=Ae}),it=a((d,p)=>{function v(x,M){return x==null?void 0:x[M]}p.exports=v}),Ie=a((d,p)=>{var v=Xe(),x=it();function M(P,B){var R=x(P,B);return v(R)?R:void 0}p.exports=M}),nt=a((d,p)=>{var v=Ie(),x=ne(),M=v(x,"Map");p.exports=M}),xe=a((d,p)=>{var v=Ie(),x=v(Object,"create");p.exports=x}),fe=a((d,p)=>{var v=xe();function x(){this.__data__=v?v(null):{},this.size=0}p.exports=x}),ve=a((d,p)=>{function v(x){var M=this.has(x)&&delete this.__data__[x];return this.size-=M?1:0,M}p.exports=v}),je=a((d,p)=>{var v=xe(),x="__lodash_hash_undefined__",M=Object.prototype,P=M.hasOwnProperty;function B(R){var j=this.__data__;if(v){var q=j[R];return q===x?void 0:q}return P.call(j,R)?j[R]:void 0}p.exports=B}),Ze=a((d,p)=>{var v=xe(),x=Object.prototype,M=x.hasOwnProperty;function P(B){var R=this.__data__;return v?R[B]!==void 0:M.call(R,B)}p.exports=P}),Ge=a((d,p)=>{var v=xe(),x="__lodash_hash_undefined__";function M(P,B){var R=this.__data__;return this.size+=this.has(P)?0:1,R[P]=v&&B===void 0?x:B,this}p.exports=M}),Ue=a((d,p)=>{var v=fe(),x=ve(),M=je(),P=Ze(),B=Ge();function R(j){var q=-1,oe=j==null?0:j.length;for(this.clear();++q<oe;){var re=j[q];this.set(re[0],re[1])}}R.prototype.clear=v,R.prototype.delete=x,R.prototype.get=M,R.prototype.has=P,R.prototype.set=B,p.exports=R}),Mt=a((d,p)=>{var v=Ue(),x=N(),M=nt();function P(){this.size=0,this.__data__={hash:new v,map:new(M||x),string:new v}}p.exports=P}),Dt=a((d,p)=>{function v(x){var M=typeof x;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?x!=="__proto__":x===null}p.exports=v}),$e=a((d,p)=>{var v=Dt();function x(M,P){var B=M.__data__;return v(P)?B[typeof P=="string"?"string":"hash"]:B.map}p.exports=x}),vt=a((d,p)=>{var v=$e();function x(M){var P=v(this,M).delete(M);return this.size-=P?1:0,P}p.exports=x}),Ct=a((d,p)=>{var v=$e();function x(M){return v(this,M).get(M)}p.exports=x}),He=a((d,p)=>{var v=$e();function x(M){return v(this,M).has(M)}p.exports=x}),gn=a((d,p)=>{var v=$e();function x(M,P){var B=v(this,M),R=B.size;return B.set(M,P),this.size+=B.size==R?0:1,this}p.exports=x}),Jt=a((d,p)=>{var v=Mt(),x=vt(),M=Ct(),P=He(),B=gn();function R(j){var q=-1,oe=j==null?0:j.length;for(this.clear();++q<oe;){var re=j[q];this.set(re[0],re[1])}}R.prototype.clear=v,R.prototype.delete=x,R.prototype.get=M,R.prototype.has=P,R.prototype.set=B,p.exports=R}),In=a((d,p)=>{var v=N(),x=nt(),M=Jt(),P=200;function B(R,j){var q=this.__data__;if(q instanceof v){var oe=q.__data__;if(!x||oe.length<P-1)return oe.push([R,j]),this.size=++q.size,this;q=this.__data__=new M(oe)}return q.set(R,j),this.size=q.size,this}p.exports=B}),On=a((d,p)=>{var v=N(),x=z(),M=G(),P=Z(),B=X(),R=In();function j(q){var oe=this.__data__=new v(q);this.size=oe.size}j.prototype.clear=x,j.prototype.delete=M,j.prototype.get=P,j.prototype.has=B,j.prototype.set=R,p.exports=j}),Qn=a((d,p)=>{var v=Ie(),x=function(){try{var M=v(Object,"defineProperty");return M({},"",{}),M}catch{}}();p.exports=x}),$r=a((d,p)=>{var v=Qn();function x(M,P,B){P=="__proto__"&&v?v(M,P,{configurable:!0,enumerable:!0,value:B,writable:!0}):M[P]=B}p.exports=x}),ei=a((d,p)=>{var v=$r(),x=m();function M(P,B,R){(R!==void 0&&!x(P[B],R)||R===void 0&&!(B in P))&&v(P,B,R)}p.exports=M}),Zi=a((d,p)=>{function v(x){return function(M,P,B){for(var R=-1,j=Object(M),q=B(M),oe=q.length;oe--;){var re=q[x?oe:++R];if(P(j[re],re,j)===!1)break}return M}}p.exports=v}),vi=a((d,p)=>{var v=Zi(),x=v();p.exports=x}),Zo=a((d,p)=>{var v=ne(),x=typeof d=="object"&&d&&!d.nodeType&&d,M=x&&typeof p=="object"&&p&&!p.nodeType&&p,P=M&&M.exports===x,B=P?v.Buffer:void 0,R=B?B.allocUnsafe:void 0;function j(q,oe){if(oe)return q.slice();var re=q.length,Ee=R?R(re):new q.constructor(re);return q.copy(Ee),Ee}p.exports=j}),at=a((d,p)=>{var v=ne(),x=v.Uint8Array;p.exports=x}),St=a((d,p)=>{var v=at();function x(M){var P=new M.constructor(M.byteLength);return new v(P).set(new v(M)),P}p.exports=x}),Xt=a((d,p)=>{var v=St();function x(M,P){var B=P?v(M.buffer):M.buffer;return new M.constructor(B,M.byteOffset,M.length)}p.exports=x}),xn=a((d,p)=>{function v(x,M){var P=-1,B=x.length;for(M||(M=Array(B));++P<B;)M[P]=x[P];return M}p.exports=v}),$n=a((d,p)=>{var v=_e(),x=Object.create,M=function(){function P(){}return function(B){if(!v(B))return{};if(x)return x(B);P.prototype=B;var R=new P;return P.prototype=void 0,R}}();p.exports=M}),Dr=a((d,p)=>{function v(x,M){return function(P){return x(M(P))}}p.exports=v}),ur=a((d,p)=>{var v=Dr(),x=v(Object.getPrototypeOf,Object);p.exports=x}),Vn=a((d,p)=>{var v=Object.prototype;function x(M){var P=M&&M.constructor,B=typeof P=="function"&&P.prototype||v;return M===B}p.exports=x}),Rn=a((d,p)=>{var v=$n(),x=ur(),M=Vn();function P(B){return typeof B.constructor=="function"&&!M(B)?v(x(B)):{}}p.exports=P}),yo=a((d,p)=>{function v(x){return x!=null&&typeof x=="object"}p.exports=v}),Kl=a((d,p)=>{var v=Pe(),x=yo(),M="[object Arguments]";function P(B){return x(B)&&v(B)==M}p.exports=P}),ts=a((d,p)=>{var v=Kl(),x=yo(),M=Object.prototype,P=M.hasOwnProperty,B=M.propertyIsEnumerable,R=v(function(){return arguments}())?v:function(j){return x(j)&&P.call(j,"callee")&&!B.call(j,"callee")};p.exports=R}),xa=a((d,p)=>{var v=Array.isArray;p.exports=v}),Zs=a((d,p)=>{var v=9007199254740991;function x(M){return typeof M=="number"&&M>-1&&M%1==0&&M<=v}p.exports=x}),Ki=a((d,p)=>{var v=Ne(),x=Zs();function M(P){return P!=null&&x(P.length)&&!v(P)}p.exports=M}),Yl=a((d,p)=>{var v=Ki(),x=yo();function M(P){return x(P)&&v(P)}p.exports=M}),Jl=a((d,p)=>{function v(){return!1}p.exports=v}),ns=a((d,p)=>{var v=ne(),x=Jl(),M=typeof d=="object"&&d&&!d.nodeType&&d,P=M&&typeof p=="object"&&p&&!p.nodeType&&p,B=P&&P.exports===M,R=B?v.Buffer:void 0,j=R?R.isBuffer:void 0,q=j||x;p.exports=q}),Ko=a((d,p)=>{var v=Pe(),x=ur(),M=yo(),P="[object Object]",B=Function.prototype,R=Object.prototype,j=B.toString,q=R.hasOwnProperty,oe=j.call(Object);function re(Ee){if(!M(Ee)||v(Ee)!=P)return!1;var Ae=x(Ee);if(Ae===null)return!0;var Ve=q.call(Ae,"constructor")&&Ae.constructor;return typeof Ve=="function"&&Ve instanceof Ve&&j.call(Ve)==oe}p.exports=re}),Yo=a((d,p)=>{var v=Pe(),x=Zs(),M=yo(),P="[object Arguments]",B="[object Array]",R="[object Boolean]",j="[object Date]",q="[object Error]",oe="[object Function]",re="[object Map]",Ee="[object Number]",Ae="[object Object]",Ve="[object RegExp]",tt="[object Set]",lt="[object String]",Wt="[object WeakMap]",ie="[object ArrayBuffer]",ue="[object DataView]",me="[object Float32Array]",Se="[object Float64Array]",ye="[object Int8Array]",Te="[object Int16Array]",U="[object Int32Array]",K="[object Uint8Array]",J="[object Uint8ClampedArray]",Y="[object Uint16Array]",ee="[object Uint32Array]",Q={};Q[me]=Q[Se]=Q[ye]=Q[Te]=Q[U]=Q[K]=Q[J]=Q[Y]=Q[ee]=!0,Q[P]=Q[B]=Q[ie]=Q[R]=Q[ue]=Q[j]=Q[q]=Q[oe]=Q[re]=Q[Ee]=Q[Ae]=Q[Ve]=Q[tt]=Q[lt]=Q[Wt]=!1;function ce(de){return M(de)&&x(de.length)&&!!Q[v(de)]}p.exports=ce}),ac=a((d,p)=>{function v(x){return function(M){return x(M)}}p.exports=v}),sc=a((d,p)=>{var v=te(),x=typeof d=="object"&&d&&!d.nodeType&&d,M=x&&typeof p=="object"&&p&&!p.nodeType&&p,P=M&&M.exports===x,B=P&&v.process,R=function(){try{var j=M&&M.require&&M.require("util").types;return j||B&&B.binding&&B.binding("util")}catch{}}();p.exports=R}),Xl=a((d,p)=>{var v=Yo(),x=ac(),M=sc(),P=M&&M.isTypedArray,B=P?x(P):v;p.exports=B}),Ql=a((d,p)=>{function v(x,M){if(!(M==="constructor"&&typeof x[M]=="function")&&M!="__proto__")return x[M]}p.exports=v}),lc=a((d,p)=>{var v=$r(),x=m(),M=Object.prototype,P=M.hasOwnProperty;function B(R,j,q){var oe=R[j];(!(P.call(R,j)&&x(oe,q))||q===void 0&&!(j in R))&&v(R,j,q)}p.exports=B}),eu=a((d,p)=>{var v=lc(),x=$r();function M(P,B,R,j){var q=!R;R||(R={});for(var oe=-1,re=B.length;++oe<re;){var Ee=B[oe],Ae=j?j(R[Ee],P[Ee],Ee,R,P):void 0;Ae===void 0&&(Ae=P[Ee]),q?x(R,Ee,Ae):v(R,Ee,Ae)}return R}p.exports=M}),Ks=a((d,p)=>{function v(x,M){for(var P=-1,B=Array(x);++P<x;)B[P]=M(P);return B}p.exports=v}),ba=a((d,p)=>{var v=9007199254740991,x=/^(?:0|[1-9]\d*)$/;function M(P,B){var R=typeof P;return B=B??v,!!B&&(R=="number"||R!="symbol"&&x.test(P))&&P>-1&&P%1==0&&P<B}p.exports=M}),tu=a((d,p)=>{var v=Ks(),x=ts(),M=xa(),P=ns(),B=ba(),R=Xl(),j=Object.prototype,q=j.hasOwnProperty;function oe(re,Ee){var Ae=M(re),Ve=!Ae&&x(re),tt=!Ae&&!Ve&&P(re),lt=!Ae&&!Ve&&!tt&&R(re),Wt=Ae||Ve||tt||lt,ie=Wt?v(re.length,String):[],ue=ie.length;for(var me in re)(Ee||q.call(re,me))&&!(Wt&&(me=="length"||tt&&(me=="offset"||me=="parent")||lt&&(me=="buffer"||me=="byteLength"||me=="byteOffset")||B(me,ue)))&&ie.push(me);return ie}p.exports=oe}),rs=a((d,p)=>{function v(x){var M=[];if(x!=null)for(var P in Object(x))M.push(P);return M}p.exports=v}),xd=a((d,p)=>{var v=_e(),x=Vn(),M=rs(),P=Object.prototype,B=P.hasOwnProperty;function R(j){if(!v(j))return M(j);var q=x(j),oe=[];for(var re in j)re=="constructor"&&(q||!B.call(j,re))||oe.push(re);return oe}p.exports=R}),cr=a((d,p)=>{var v=tu(),x=xd(),M=Ki();function P(B){return M(B)?v(B,!0):x(B)}p.exports=P}),yt=a((d,p)=>{var v=eu(),x=cr();function M(P){return v(P,x(P))}p.exports=M}),is=a((d,p)=>{var v=ei(),x=Zo(),M=Xt(),P=xn(),B=Rn(),R=ts(),j=xa(),q=Yl(),oe=ns(),re=Ne(),Ee=_e(),Ae=Ko(),Ve=Xl(),tt=Ql(),lt=yt();function Wt(ie,ue,me,Se,ye,Te,U){var K=tt(ie,me),J=tt(ue,me),Y=U.get(J);if(Y){v(ie,me,Y);return}var ee=Te?Te(K,J,me+"",ie,ue,U):void 0,Q=ee===void 0;if(Q){var ce=j(J),de=!ce&&oe(J),pe=!ce&&!de&&Ve(J);ee=J,ce||de||pe?j(K)?ee=K:q(K)?ee=P(K):de?(Q=!1,ee=x(J,!0)):pe?(Q=!1,ee=M(J,!0)):ee=[]:Ae(J)||R(J)?(ee=K,R(K)?ee=lt(K):(!Ee(K)||re(K))&&(ee=B(J))):Q=!1}Q&&(U.set(J,ee),ye(ee,J,Se,Te,U),U.delete(J)),v(ie,me,ee)}p.exports=Wt}),Ys=a((d,p)=>{var v=On(),x=ei(),M=vi(),P=is(),B=_e(),R=cr(),j=Ql();function q(oe,re,Ee,Ae,Ve){oe!==re&&M(re,function(tt,lt){if(Ve||(Ve=new v),B(tt))P(oe,re,lt,Ee,q,Ae,Ve);else{var Wt=Ae?Ae(j(oe,lt),tt,lt+"",oe,re,Ve):void 0;Wt===void 0&&(Wt=tt),x(oe,lt,Wt)}},R)}p.exports=q}),nu=a((d,p)=>{function v(x){return x}p.exports=v}),uc=a((d,p)=>{function v(x,M,P){switch(P.length){case 0:return x.call(M);case 1:return x.call(M,P[0]);case 2:return x.call(M,P[0],P[1]);case 3:return x.call(M,P[0],P[1],P[2])}return x.apply(M,P)}p.exports=v}),ru=a((d,p)=>{var v=uc(),x=Math.max;function M(P,B,R){return B=x(B===void 0?P.length-1:B,0),function(){for(var j=arguments,q=-1,oe=x(j.length-B,0),re=Array(oe);++q<oe;)re[q]=j[B+q];q=-1;for(var Ee=Array(B+1);++q<B;)Ee[q]=j[q];return Ee[B]=R(re),v(P,this,Ee)}}p.exports=M}),vo=a((d,p)=>{function v(x){return function(){return x}}p.exports=v}),Jo=a((d,p)=>{var v=vo(),x=Qn(),M=nu(),P=x?function(B,R){return x(B,"toString",{configurable:!0,enumerable:!1,value:v(R),writable:!0})}:M;p.exports=P}),iu=a((d,p)=>{var v=800,x=16,M=Date.now;function P(B){var R=0,j=0;return function(){var q=M(),oe=x-(q-j);if(j=q,oe>0){if(++R>=v)return arguments[0]}else R=0;return B.apply(void 0,arguments)}}p.exports=P}),bd=a((d,p)=>{var v=Jo(),x=iu(),M=x(v);p.exports=M}),cc=a((d,p)=>{var v=nu(),x=ru(),M=bd();function P(B,R){return M(x(B,R,v),B+"")}p.exports=P}),dc=a((d,p)=>{var v=m(),x=Ki(),M=ba(),P=_e();function B(R,j,q){if(!P(q))return!1;var oe=typeof j;return(oe=="number"?x(q)&&M(j,q.length):oe=="string"&&j in q)?v(q[j],R):!1}p.exports=B}),fc=a((d,p)=>{var v=cc(),x=dc();function M(P){return v(function(B,R){var j=-1,q=R.length,oe=q>1?R[q-1]:void 0,re=q>2?R[2]:void 0;for(oe=P.length>3&&typeof oe=="function"?(q--,oe):void 0,re&&x(R[0],R[1],re)&&(oe=q<3?void 0:oe,q=1),B=Object(B);++j<q;){var Ee=R[j];Ee&&P(B,Ee,j,oe)}return B})}p.exports=M}),os=a((d,p)=>{var v=Ys(),x=fc(),M=x(function(P,B,R){v(P,B,R)});p.exports=M}),ou=a((d,p)=>{var v=Pe(),x=yo(),M="[object Symbol]";function P(B){return typeof B=="symbol"||x(B)&&v(B)==M}p.exports=P}),Js=a((d,p)=>{var v=xa(),x=ou(),M=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/;function B(R,j){if(v(R))return!1;var q=typeof R;return q=="number"||q=="symbol"||q=="boolean"||R==null||x(R)?!0:P.test(R)||!M.test(R)||j!=null&&R in Object(j)}p.exports=B}),En=a((d,p)=>{var v=Jt(),x="Expected a function";function M(P,B){if(typeof P!="function"||B!=null&&typeof B!="function")throw new TypeError(x);var R=function(){var j=arguments,q=B?B.apply(this,j):j[0],oe=R.cache;if(oe.has(q))return oe.get(q);var re=P.apply(this,j);return R.cache=oe.set(q,re)||oe,re};return R.cache=new(M.Cache||v),R}M.Cache=v,p.exports=M}),wd=a((d,p)=>{var v=En(),x=500;function M(P){var B=v(P,function(j){return R.size===x&&R.clear(),j}),R=B.cache;return B}p.exports=M}),au=a((d,p)=>{var v=wd(),x=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,M=/\\(\\)?/g,P=v(function(B){var R=[];return B.charCodeAt(0)===46&&R.push(""),B.replace(x,function(j,q,oe,re){R.push(oe?re.replace(M,"$1"):q||j)}),R});p.exports=P}),hc=a((d,p)=>{function v(x,M){for(var P=-1,B=x==null?0:x.length,R=Array(B);++P<B;)R[P]=M(x[P],P,x);return R}p.exports=v}),Xs=a((d,p)=>{var v=se(),x=hc(),M=xa(),P=ou(),B=v?v.prototype:void 0,R=B?B.toString:void 0;function j(q){if(typeof q=="string")return q;if(M(q))return x(q,j)+"";if(P(q))return R?R.call(q):"";var oe=q+"";return oe=="0"&&1/q==-1/0?"-0":oe}p.exports=j}),su=a((d,p)=>{var v=Xs();function x(M){return M==null?"":v(M)}p.exports=x}),wa=a((d,p)=>{var v=xa(),x=Js(),M=au(),P=su();function B(R,j){return v(R)?R:x(R,j)?[R]:M(P(R))}p.exports=B}),as=a((d,p)=>{var v=ou();function x(M){if(typeof M=="string"||v(M))return M;var P=M+"";return P=="0"&&1/M==-1/0?"-0":P}p.exports=x}),ti=a((d,p)=>{var v=wa(),x=as();function M(P,B){B=v(B,P);for(var R=0,j=B.length;P!=null&&R<j;)P=P[x(B[R++])];return R&&R==j?P:void 0}p.exports=M}),_o=a((d,p)=>{var v=ti();function x(M,P,B){var R=M==null?void 0:v(M,P);return R===void 0?B:R}p.exports=x}),zt=a((d,p)=>{(function(v,x){typeof d=="object"&&typeof p<"u"?p.exports=x():(v=v||self).RBush=x()})(d,function(){function v(ie,ue,me,Se,ye){(function Te(U,K,J,Y,ee){for(;Y>J;){if(Y-J>600){var Q=Y-J+1,ce=K-J+1,de=Math.log(Q),pe=.5*Math.exp(2*de/3),be=.5*Math.sqrt(de*pe*(Q-pe)/Q)*(ce-Q/2<0?-1:1),Ce=Math.max(J,Math.floor(K-ce*pe/Q+be)),Fe=Math.min(Y,Math.floor(K+(Q-ce)*pe/Q+be));Te(U,K,Ce,Fe,ee)}var rt=U[K],ct=J,xt=Y;for(x(U,J,K),ee(U[Y],rt)>0&&x(U,J,Y);ct<xt;){for(x(U,ct,xt),ct++,xt--;ee(U[ct],rt)<0;)ct++;for(;ee(U[xt],rt)>0;)xt--}ee(U[J],rt)===0?x(U,J,xt):x(U,++xt,Y),xt<=K&&(J=xt+1),K<=xt&&(Y=xt-1)}})(ie,ue,me||0,Se||ie.length-1,ye||M)}function x(ie,ue,me){var Se=ie[ue];ie[ue]=ie[me],ie[me]=Se}function M(ie,ue){return ie<ue?-1:ie>ue?1:0}var P=function(ie){ie===void 0&&(ie=9),this._maxEntries=Math.max(4,ie),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function B(ie,ue,me){if(!me)return ue.indexOf(ie);for(var Se=0;Se<ue.length;Se++)if(me(ie,ue[Se]))return Se;return-1}function R(ie,ue){j(ie,0,ie.children.length,ue,ie)}function j(ie,ue,me,Se,ye){ye||(ye=lt(null)),ye.minX=1/0,ye.minY=1/0,ye.maxX=-1/0,ye.maxY=-1/0;for(var Te=ue;Te<me;Te++){var U=ie.children[Te];q(ye,ie.leaf?Se(U):U)}return ye}function q(ie,ue){return ie.minX=Math.min(ie.minX,ue.minX),ie.minY=Math.min(ie.minY,ue.minY),ie.maxX=Math.max(ie.maxX,ue.maxX),ie.maxY=Math.max(ie.maxY,ue.maxY),ie}function oe(ie,ue){return ie.minX-ue.minX}function re(ie,ue){return ie.minY-ue.minY}function Ee(ie){return(ie.maxX-ie.minX)*(ie.maxY-ie.minY)}function Ae(ie){return ie.maxX-ie.minX+(ie.maxY-ie.minY)}function Ve(ie,ue){return ie.minX<=ue.minX&&ie.minY<=ue.minY&&ue.maxX<=ie.maxX&&ue.maxY<=ie.maxY}function tt(ie,ue){return ue.minX<=ie.maxX&&ue.minY<=ie.maxY&&ue.maxX>=ie.minX&&ue.maxY>=ie.minY}function lt(ie){return{children:ie,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Wt(ie,ue,me,Se,ye){for(var Te=[ue,me];Te.length;)if(!((me=Te.pop())-(ue=Te.pop())<=Se)){var U=ue+Math.ceil((me-ue)/Se/2)*Se;v(ie,U,ue,me,ye),Te.push(ue,U,U,me)}}return P.prototype.all=function(){return this._all(this.data,[])},P.prototype.search=function(ie){var ue=this.data,me=[];if(!tt(ie,ue))return me;for(var Se=this.toBBox,ye=[];ue;){for(var Te=0;Te<ue.children.length;Te++){var U=ue.children[Te],K=ue.leaf?Se(U):U;tt(ie,K)&&(ue.leaf?me.push(U):Ve(ie,K)?this._all(U,me):ye.push(U))}ue=ye.pop()}return me},P.prototype.collides=function(ie){var ue=this.data;if(!tt(ie,ue))return!1;for(var me=[];ue;){for(var Se=0;Se<ue.children.length;Se++){var ye=ue.children[Se],Te=ue.leaf?this.toBBox(ye):ye;if(tt(ie,Te)){if(ue.leaf||Ve(ie,Te))return!0;me.push(ye)}}ue=me.pop()}return!1},P.prototype.load=function(ie){if(!ie||!ie.length)return this;if(ie.length<this._minEntries){for(var ue=0;ue<ie.length;ue++)this.insert(ie[ue]);return this}var me=this._build(ie.slice(),0,ie.length-1,0);if(this.data.children.length)if(this.data.height===me.height)this._splitRoot(this.data,me);else{if(this.data.height<me.height){var Se=this.data;this.data=me,me=Se}this._insert(me,this.data.height-me.height-1,!0)}else this.data=me;return this},P.prototype.insert=function(ie){return ie&&this._insert(ie,this.data.height-1),this},P.prototype.clear=function(){return this.data=lt([]),this},P.prototype.remove=function(ie,ue){if(!ie)return this;for(var me,Se,ye,Te=this.data,U=this.toBBox(ie),K=[],J=[];Te||K.length;){if(Te||(Te=K.pop(),Se=K[K.length-1],me=J.pop(),ye=!0),Te.leaf){var Y=B(ie,Te.children,ue);if(Y!==-1)return Te.children.splice(Y,1),K.push(Te),this._condense(K),this}ye||Te.leaf||!Ve(Te,U)?Se?(me++,Te=Se.children[me],ye=!1):Te=null:(K.push(Te),J.push(me),me=0,Se=Te,Te=Te.children[0])}return this},P.prototype.toBBox=function(ie){return ie},P.prototype.compareMinX=function(ie,ue){return ie.minX-ue.minX},P.prototype.compareMinY=function(ie,ue){return ie.minY-ue.minY},P.prototype.toJSON=function(){return this.data},P.prototype.fromJSON=function(ie){return this.data=ie,this},P.prototype._all=function(ie,ue){for(var me=[];ie;)ie.leaf?ue.push.apply(ue,ie.children):me.push.apply(me,ie.children),ie=me.pop();return ue},P.prototype._build=function(ie,ue,me,Se){var ye,Te=me-ue+1,U=this._maxEntries;if(Te<=U)return R(ye=lt(ie.slice(ue,me+1)),this.toBBox),ye;Se||(Se=Math.ceil(Math.log(Te)/Math.log(U)),U=Math.ceil(Te/Math.pow(U,Se-1))),(ye=lt([])).leaf=!1,ye.height=Se;var K=Math.ceil(Te/U),J=K*Math.ceil(Math.sqrt(U));Wt(ie,ue,me,J,this.compareMinX);for(var Y=ue;Y<=me;Y+=J){var ee=Math.min(Y+J-1,me);Wt(ie,Y,ee,K,this.compareMinY);for(var Q=Y;Q<=ee;Q+=K){var ce=Math.min(Q+K-1,ee);ye.children.push(this._build(ie,Q,ce,Se-1))}}return R(ye,this.toBBox),ye},P.prototype._chooseSubtree=function(ie,ue,me,Se){for(;Se.push(ue),!ue.leaf&&Se.length-1!==me;){for(var ye=1/0,Te=1/0,U=void 0,K=0;K<ue.children.length;K++){var J=ue.children[K],Y=Ee(J),ee=(Q=ie,ce=J,(Math.max(ce.maxX,Q.maxX)-Math.min(ce.minX,Q.minX))*(Math.max(ce.maxY,Q.maxY)-Math.min(ce.minY,Q.minY))-Y);ee<Te?(Te=ee,ye=Y<ye?Y:ye,U=J):ee===Te&&Y<ye&&(ye=Y,U=J)}ue=U||ue.children[0]}var Q,ce;return ue},P.prototype._insert=function(ie,ue,me){var Se=me?ie:this.toBBox(ie),ye=[],Te=this._chooseSubtree(Se,this.data,ue,ye);for(Te.children.push(ie),q(Te,Se);ue>=0&&ye[ue].children.length>this._maxEntries;)this._split(ye,ue),ue--;this._adjustParentBBoxes(Se,ye,ue)},P.prototype._split=function(ie,ue){var me=ie[ue],Se=me.children.length,ye=this._minEntries;this._chooseSplitAxis(me,ye,Se);var Te=this._chooseSplitIndex(me,ye,Se),U=lt(me.children.splice(Te,me.children.length-Te));U.height=me.height,U.leaf=me.leaf,R(me,this.toBBox),R(U,this.toBBox),ue?ie[ue-1].children.push(U):this._splitRoot(me,U)},P.prototype._splitRoot=function(ie,ue){this.data=lt([ie,ue]),this.data.height=ie.height+1,this.data.leaf=!1,R(this.data,this.toBBox)},P.prototype._chooseSplitIndex=function(ie,ue,me){for(var Se,ye,Te,U,K,J,Y,ee=1/0,Q=1/0,ce=ue;ce<=me-ue;ce++){var de=j(ie,0,ce,this.toBBox),pe=j(ie,ce,me,this.toBBox),be=(ye=de,Te=pe,U=void 0,K=void 0,J=void 0,Y=void 0,U=Math.max(ye.minX,Te.minX),K=Math.max(ye.minY,Te.minY),J=Math.min(ye.maxX,Te.maxX),Y=Math.min(ye.maxY,Te.maxY),Math.max(0,J-U)*Math.max(0,Y-K)),Ce=Ee(de)+Ee(pe);be<ee?(ee=be,Se=ce,Q=Ce<Q?Ce:Q):be===ee&&Ce<Q&&(Q=Ce,Se=ce)}return Se||me-ue},P.prototype._chooseSplitAxis=function(ie,ue,me){var Se=ie.leaf?this.compareMinX:oe,ye=ie.leaf?this.compareMinY:re;this._allDistMargin(ie,ue,me,Se)<this._allDistMargin(ie,ue,me,ye)&&ie.children.sort(Se)},P.prototype._allDistMargin=function(ie,ue,me,Se){ie.children.sort(Se);for(var ye=this.toBBox,Te=j(ie,0,ue,ye),U=j(ie,me-ue,me,ye),K=Ae(Te)+Ae(U),J=ue;J<me-ue;J++){var Y=ie.children[J];q(Te,ie.leaf?ye(Y):Y),K+=Ae(Te)}for(var ee=me-ue-1;ee>=ue;ee--){var Q=ie.children[ee];q(U,ie.leaf?ye(Q):Q),K+=Ae(U)}return K},P.prototype._adjustParentBBoxes=function(ie,ue,me){for(var Se=me;Se>=0;Se--)q(ue[Se],ie)},P.prototype._condense=function(ie){for(var ue=ie.length-1,me=void 0;ue>=0;ue--)ie[ue].children.length===0?ue>0?(me=ie[ue-1].children).splice(me.indexOf(ie[ue]),1):this.clear():R(ie[ue],this.toBBox)},P})}),dn=a(d=>{Object.defineProperty(d,"__esModule",{value:!0}),d.earthRadius=63710088e-1,d.factors={centimeters:d.earthRadius*100,centimetres:d.earthRadius*100,degrees:d.earthRadius/111325,feet:d.earthRadius*3.28084,inches:d.earthRadius*39.37,kilometers:d.earthRadius/1e3,kilometres:d.earthRadius/1e3,meters:d.earthRadius,metres:d.earthRadius,miles:d.earthRadius/1609.344,millimeters:d.earthRadius*1e3,millimetres:d.earthRadius*1e3,nauticalmiles:d.earthRadius/1852,radians:1,yards:d.earthRadius*1.0936},d.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/d.earthRadius,yards:1.0936133},d.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function p(Y,ee,Q){Q===void 0&&(Q={});var ce={type:"Feature"};return(Q.id===0||Q.id)&&(ce.id=Q.id),Q.bbox&&(ce.bbox=Q.bbox),ce.properties=ee||{},ce.geometry=Y,ce}d.feature=p;function v(Y,ee,Q){switch(Y){case"Point":return x(ee).geometry;case"LineString":return R(ee).geometry;case"Polygon":return P(ee).geometry;case"MultiPoint":return re(ee).geometry;case"MultiLineString":return oe(ee).geometry;case"MultiPolygon":return Ee(ee).geometry;default:throw new Error(Y+" is invalid")}}d.geometry=v;function x(Y,ee,Q){if(Q===void 0&&(Q={}),!Y)throw new Error("coordinates is required");if(!Array.isArray(Y))throw new Error("coordinates must be an Array");if(Y.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Te(Y[0])||!Te(Y[1]))throw new Error("coordinates must contain numbers");var ce={type:"Point",coordinates:Y};return p(ce,ee,Q)}d.point=x;function M(Y,ee,Q){return Q===void 0&&(Q={}),q(Y.map(function(ce){return x(ce,ee)}),Q)}d.points=M;function P(Y,ee,Q){Q===void 0&&(Q={});for(var ce=0,de=Y;ce<de.length;ce++){var pe=de[ce];if(pe.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var be=0;be<pe[pe.length-1].length;be++)if(pe[pe.length-1][be]!==pe[0][be])throw new Error("First and last Position are not equivalent.")}var Ce={type:"Polygon",coordinates:Y};return p(Ce,ee,Q)}d.polygon=P;function B(Y,ee,Q){return Q===void 0&&(Q={}),q(Y.map(function(ce){return P(ce,ee)}),Q)}d.polygons=B;function R(Y,ee,Q){if(Q===void 0&&(Q={}),Y.length<2)throw new Error("coordinates must be an array of two or more positions");var ce={type:"LineString",coordinates:Y};return p(ce,ee,Q)}d.lineString=R;function j(Y,ee,Q){return Q===void 0&&(Q={}),q(Y.map(function(ce){return R(ce,ee)}),Q)}d.lineStrings=j;function q(Y,ee){ee===void 0&&(ee={});var Q={type:"FeatureCollection"};return ee.id&&(Q.id=ee.id),ee.bbox&&(Q.bbox=ee.bbox),Q.features=Y,Q}d.featureCollection=q;function oe(Y,ee,Q){Q===void 0&&(Q={});var ce={type:"MultiLineString",coordinates:Y};return p(ce,ee,Q)}d.multiLineString=oe;function re(Y,ee,Q){Q===void 0&&(Q={});var ce={type:"MultiPoint",coordinates:Y};return p(ce,ee,Q)}d.multiPoint=re;function Ee(Y,ee,Q){Q===void 0&&(Q={});var ce={type:"MultiPolygon",coordinates:Y};return p(ce,ee,Q)}d.multiPolygon=Ee;function Ae(Y,ee,Q){Q===void 0&&(Q={});var ce={type:"GeometryCollection",geometries:Y};return p(ce,ee,Q)}d.geometryCollection=Ae;function Ve(Y,ee){if(ee===void 0&&(ee=0),ee&&!(ee>=0))throw new Error("precision must be a positive number");var Q=Math.pow(10,ee||0);return Math.round(Y*Q)/Q}d.round=Ve;function tt(Y,ee){ee===void 0&&(ee="kilometers");var Q=d.factors[ee];if(!Q)throw new Error(ee+" units is invalid");return Y*Q}d.radiansToLength=tt;function lt(Y,ee){ee===void 0&&(ee="kilometers");var Q=d.factors[ee];if(!Q)throw new Error(ee+" units is invalid");return Y/Q}d.lengthToRadians=lt;function Wt(Y,ee){return ue(lt(Y,ee))}d.lengthToDegrees=Wt;function ie(Y){var ee=Y%360;return ee<0&&(ee+=360),ee}d.bearingToAzimuth=ie;function ue(Y){var ee=Y%(2*Math.PI);return ee*180/Math.PI}d.radiansToDegrees=ue;function me(Y){var ee=Y%360;return ee*Math.PI/180}d.degreesToRadians=me;function Se(Y,ee,Q){if(ee===void 0&&(ee="kilometers"),Q===void 0&&(Q="kilometers"),!(Y>=0))throw new Error("length must be a positive number");return tt(lt(Y,ee),Q)}d.convertLength=Se;function ye(Y,ee,Q){if(ee===void 0&&(ee="meters"),Q===void 0&&(Q="kilometers"),!(Y>=0))throw new Error("area must be a positive number");var ce=d.areaFactors[ee];if(!ce)throw new Error("invalid original units");var de=d.areaFactors[Q];if(!de)throw new Error("invalid final units");return Y/ce*de}d.convertArea=ye;function Te(Y){return!isNaN(Y)&&Y!==null&&!Array.isArray(Y)}d.isNumber=Te;function U(Y){return!!Y&&Y.constructor===Object}d.isObject=U;function K(Y){if(!Y)throw new Error("bbox is required");if(!Array.isArray(Y))throw new Error("bbox must be an Array");if(Y.length!==4&&Y.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");Y.forEach(function(ee){if(!Te(ee))throw new Error("bbox must only contain numbers")})}d.validateBBox=K;function J(Y){if(!Y)throw new Error("id is required");if(["string","number"].indexOf(typeof Y)===-1)throw new Error("id must be a number or a string")}d.validateId=J}),ss=a(d=>{Object.defineProperty(d,"__esModule",{value:!0});var p=dn();function v(ue,me,Se){if(ue!==null)for(var ye,Te,U,K,J,Y,ee,Q=0,ce=0,de,pe=ue.type,be=pe==="FeatureCollection",Ce=pe==="Feature",Fe=be?ue.features.length:1,rt=0;rt<Fe;rt++){ee=be?ue.features[rt].geometry:Ce?ue.geometry:ue,de=ee?ee.type==="GeometryCollection":!1,J=de?ee.geometries.length:1;for(var ct=0;ct<J;ct++){var xt=0,Kt=0;if(K=de?ee.geometries[ct]:ee,K!==null){Y=K.coordinates;var rn=K.type;switch(Q=Se&&(rn==="Polygon"||rn==="MultiPolygon")?1:0,rn){case null:break;case"Point":if(me(Y,ce,rt,xt,Kt)===!1)return!1;ce++,xt++;break;case"LineString":case"MultiPoint":for(ye=0;ye<Y.length;ye++){if(me(Y[ye],ce,rt,xt,Kt)===!1)return!1;ce++,rn==="MultiPoint"&&xt++}rn==="LineString"&&xt++;break;case"Polygon":case"MultiLineString":for(ye=0;ye<Y.length;ye++){for(Te=0;Te<Y[ye].length-Q;Te++){if(me(Y[ye][Te],ce,rt,xt,Kt)===!1)return!1;ce++}rn==="MultiLineString"&&xt++,rn==="Polygon"&&Kt++}rn==="Polygon"&&xt++;break;case"MultiPolygon":for(ye=0;ye<Y.length;ye++){for(Kt=0,Te=0;Te<Y[ye].length;Te++){for(U=0;U<Y[ye][Te].length-Q;U++){if(me(Y[ye][Te][U],ce,rt,xt,Kt)===!1)return!1;ce++}Kt++}xt++}break;case"GeometryCollection":for(ye=0;ye<K.geometries.length;ye++)if(v(K.geometries[ye],me,Se)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function x(ue,me,Se,ye){var Te=Se;return v(ue,function(U,K,J,Y,ee){K===0&&Se===void 0?Te=U:Te=me(Te,U,K,J,Y,ee)},ye),Te}function M(ue,me){var Se;switch(ue.type){case"FeatureCollection":for(Se=0;Se<ue.features.length&&me(ue.features[Se].properties,Se)!==!1;Se++);break;case"Feature":me(ue.properties,0);break}}function P(ue,me,Se){var ye=Se;return M(ue,function(Te,U){U===0&&Se===void 0?ye=Te:ye=me(ye,Te,U)}),ye}function B(ue,me){if(ue.type==="Feature")me(ue,0);else if(ue.type==="FeatureCollection")for(var Se=0;Se<ue.features.length&&me(ue.features[Se],Se)!==!1;Se++);}function R(ue,me,Se){var ye=Se;return B(ue,function(Te,U){U===0&&Se===void 0?ye=Te:ye=me(ye,Te,U)}),ye}function j(ue){var me=[];return v(ue,function(Se){me.push(Se)}),me}function q(ue,me){var Se,ye,Te,U,K,J,Y,ee,Q,ce,de=0,pe=ue.type==="FeatureCollection",be=ue.type==="Feature",Ce=pe?ue.features.length:1;for(Se=0;Se<Ce;Se++){for(J=pe?ue.features[Se].geometry:be?ue.geometry:ue,ee=pe?ue.features[Se].properties:be?ue.properties:{},Q=pe?ue.features[Se].bbox:be?ue.bbox:void 0,ce=pe?ue.features[Se].id:be?ue.id:void 0,Y=J?J.type==="GeometryCollection":!1,K=Y?J.geometries.length:1,Te=0;Te<K;Te++){if(U=Y?J.geometries[Te]:J,U===null){if(me(null,de,ee,Q,ce)===!1)return!1;continue}switch(U.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(me(U,de,ee,Q,ce)===!1)return!1;break}case"GeometryCollection":{for(ye=0;ye<U.geometries.length;ye++)if(me(U.geometries[ye],de,ee,Q,ce)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}de++}}function oe(ue,me,Se){var ye=Se;return q(ue,function(Te,U,K,J,Y){U===0&&Se===void 0?ye=Te:ye=me(ye,Te,U,K,J,Y)}),ye}function re(ue,me){q(ue,function(Se,ye,Te,U,K){var J=Se===null?null:Se.type;switch(J){case null:case"Point":case"LineString":case"Polygon":return me(p.feature(Se,Te,{bbox:U,id:K}),ye,0)===!1?!1:void 0}var Y;switch(J){case"MultiPoint":Y="Point";break;case"MultiLineString":Y="LineString";break;case"MultiPolygon":Y="Polygon";break}for(var ee=0;ee<Se.coordinates.length;ee++){var Q=Se.coordinates[ee],ce={type:Y,coordinates:Q};if(me(p.feature(ce,Te),ye,ee)===!1)return!1}})}function Ee(ue,me,Se){var ye=Se;return re(ue,function(Te,U,K){U===0&&K===0&&Se===void 0?ye=Te:ye=me(ye,Te,U,K)}),ye}function Ae(ue,me){re(ue,function(Se,ye,Te){var U=0;if(Se.geometry){var K=Se.geometry.type;if(!(K==="Point"||K==="MultiPoint")){var J,Y=0,ee=0,Q=0;if(v(Se,function(ce,de,pe,be,Ce){if(J===void 0||ye>Y||be>ee||Ce>Q){J=ce,Y=ye,ee=be,Q=Ce,U=0;return}var Fe=p.lineString([J,ce],Se.properties);if(me(Fe,ye,Te,Ce,U)===!1)return!1;U++,J=ce})===!1)return!1}}})}function Ve(ue,me,Se){var ye=Se,Te=!1;return Ae(ue,function(U,K,J,Y,ee){Te===!1&&Se===void 0?ye=U:ye=me(ye,U,K,J,Y,ee),Te=!0}),ye}function tt(ue,me){if(!ue)throw new Error("geojson is required");re(ue,function(Se,ye,Te){if(Se.geometry!==null){var U=Se.geometry.type,K=Se.geometry.coordinates;switch(U){case"LineString":if(me(Se,ye,Te,0,0)===!1)return!1;break;case"Polygon":for(var J=0;J<K.length;J++)if(me(p.lineString(K[J],Se.properties),ye,Te,J)===!1)return!1;break}}})}function lt(ue,me,Se){var ye=Se;return tt(ue,function(Te,U,K,J){U===0&&Se===void 0?ye=Te:ye=me(ye,Te,U,K,J)}),ye}function Wt(ue,me){if(me=me||{},!p.isObject(me))throw new Error("options is invalid");var Se=me.featureIndex||0,ye=me.multiFeatureIndex||0,Te=me.geometryIndex||0,U=me.segmentIndex||0,K=me.properties,J;switch(ue.type){case"FeatureCollection":Se<0&&(Se=ue.features.length+Se),K=K||ue.features[Se].properties,J=ue.features[Se].geometry;break;case"Feature":K=K||ue.properties,J=ue.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":J=ue;break;default:throw new Error("geojson is invalid")}if(J===null)return null;var Y=J.coordinates;switch(J.type){case"Point":case"MultiPoint":return null;case"LineString":return U<0&&(U=Y.length+U-1),p.lineString([Y[U],Y[U+1]],K,me);case"Polygon":return Te<0&&(Te=Y.length+Te),U<0&&(U=Y[Te].length+U-1),p.lineString([Y[Te][U],Y[Te][U+1]],K,me);case"MultiLineString":return ye<0&&(ye=Y.length+ye),U<0&&(U=Y[ye].length+U-1),p.lineString([Y[ye][U],Y[ye][U+1]],K,me);case"MultiPolygon":return ye<0&&(ye=Y.length+ye),Te<0&&(Te=Y[ye].length+Te),U<0&&(U=Y[ye][Te].length-U-1),p.lineString([Y[ye][Te][U],Y[ye][Te][U+1]],K,me)}throw new Error("geojson is invalid")}function ie(ue,me){if(me=me||{},!p.isObject(me))throw new Error("options is invalid");var Se=me.featureIndex||0,ye=me.multiFeatureIndex||0,Te=me.geometryIndex||0,U=me.coordIndex||0,K=me.properties,J;switch(ue.type){case"FeatureCollection":Se<0&&(Se=ue.features.length+Se),K=K||ue.features[Se].properties,J=ue.features[Se].geometry;break;case"Feature":K=K||ue.properties,J=ue.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":J=ue;break;default:throw new Error("geojson is invalid")}if(J===null)return null;var Y=J.coordinates;switch(J.type){case"Point":return p.point(Y,K,me);case"MultiPoint":return ye<0&&(ye=Y.length+ye),p.point(Y[ye],K,me);case"LineString":return U<0&&(U=Y.length+U),p.point(Y[U],K,me);case"Polygon":return Te<0&&(Te=Y.length+Te),U<0&&(U=Y[Te].length+U),p.point(Y[Te][U],K,me);case"MultiLineString":return ye<0&&(ye=Y.length+ye),U<0&&(U=Y[ye].length+U),p.point(Y[ye][U],K,me);case"MultiPolygon":return ye<0&&(ye=Y.length+ye),Te<0&&(Te=Y[ye].length+Te),U<0&&(U=Y[ye][Te].length-U),p.point(Y[ye][Te][U],K,me)}throw new Error("geojson is invalid")}d.coordAll=j,d.coordEach=v,d.coordReduce=x,d.featureEach=B,d.featureReduce=R,d.findPoint=ie,d.findSegment=Wt,d.flattenEach=re,d.flattenReduce=Ee,d.geomEach=q,d.geomReduce=oe,d.lineEach=tt,d.lineReduce=lt,d.propEach=M,d.propReduce=P,d.segmentEach=Ae,d.segmentReduce=Ve}),Ca=a(d=>{Object.defineProperty(d,"__esModule",{value:!0});var p=ss();function v(x){var M=[1/0,1/0,-1/0,-1/0];return p.coordEach(x,function(P){M[0]>P[0]&&(M[0]=P[0]),M[1]>P[1]&&(M[1]=P[1]),M[2]<P[0]&&(M[2]=P[0]),M[3]<P[1]&&(M[3]=P[1])}),M}v.default=v,d.default=v}),_i=a((d,p)=>{var v=zt(),x=dn(),M=ss(),P=Ca().default,B=M.featureEach;M.coordEach,x.polygon;var R=x.featureCollection;function j(q){var oe=new v(q);return oe.insert=function(re){if(re.type!=="Feature")throw new Error("invalid feature");return re.bbox=re.bbox?re.bbox:P(re),v.prototype.insert.call(this,re)},oe.load=function(re){var Ee=[];return Array.isArray(re)?re.forEach(function(Ae){if(Ae.type!=="Feature")throw new Error("invalid features");Ae.bbox=Ae.bbox?Ae.bbox:P(Ae),Ee.push(Ae)}):B(re,function(Ae){if(Ae.type!=="Feature")throw new Error("invalid features");Ae.bbox=Ae.bbox?Ae.bbox:P(Ae),Ee.push(Ae)}),v.prototype.load.call(this,Ee)},oe.remove=function(re,Ee){if(re.type!=="Feature")throw new Error("invalid feature");return re.bbox=re.bbox?re.bbox:P(re),v.prototype.remove.call(this,re,Ee)},oe.clear=function(){return v.prototype.clear.call(this)},oe.search=function(re){var Ee=v.prototype.search.call(this,this.toBBox(re));return R(Ee)},oe.collides=function(re){return v.prototype.collides.call(this,this.toBBox(re))},oe.all=function(){var re=v.prototype.all.call(this);return R(re)},oe.toJSON=function(){return v.prototype.toJSON.call(this)},oe.fromJSON=function(re){return v.prototype.fromJSON.call(this,re)},oe.toBBox=function(re){var Ee;if(re.bbox)Ee=re.bbox;else if(Array.isArray(re)&&re.length===4)Ee=re;else if(Array.isArray(re)&&re.length===6)Ee=[re[0],re[1],re[3],re[4]];else if(re.type==="Feature")Ee=P(re);else if(re.type==="FeatureCollection")Ee=P(re);else throw new Error("invalid geojson");return{minX:Ee[0],minY:Ee[1],maxX:Ee[2],maxY:Ee[3]}},oe}p.exports=j,p.exports.default=j});Array.prototype.findIndex=Array.prototype.findIndex||function(d){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof d!="function")throw new TypeError("callback must be a function");for(var p=Object(this),v=p.length>>>0,x=arguments[1],M=0;M<v;M++)if(d.call(x,p[M],M,p))return M;return-1},Array.prototype.find=Array.prototype.find||function(d){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof d!="function")throw new TypeError("callback must be a function");for(var p=Object(this),v=p.length>>>0,x=arguments[1],M=0;M<v;M++){var P=p[M];if(d.call(x,P,M,p))return P}},typeof Object.assign!="function"&&(Object.assign=function(d){if(d==null)throw new TypeError("Cannot convert undefined or null to object");d=Object(d);for(var p=1;p<arguments.length;p++){var v=arguments[p];if(v!=null)for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(d[x]=v[x])}return d}),function(d){d.forEach(function(p){p.hasOwnProperty("remove")||Object.defineProperty(p,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(d,p){if(this==null)throw new TypeError('"this" is null or not defined');var v=Object(this),x=v.length>>>0;if(x===0)return!1;var M=p|0,P=Math.max(M>=0?M:x-Math.abs(M),0);function B(R,j){return R===j||typeof R=="number"&&typeof j=="number"&&isNaN(R)&&isNaN(j)}for(;P<x;){if(B(v[P],d))return!0;P++}return!1}});var La={version:"2.18.3"},Ot=f(os()),fn={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},lu={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},Qs={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},xr={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},pc={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},Ea={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},ni={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},Tn={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},Yi={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},Qt={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},ka={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},el={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},xo={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},tl={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},nl={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},ls={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},us={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},Ma={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},ri={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},Ji={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},xi={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},cs={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},It={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},Gn={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},un={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},uu={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},Xo={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},cu=xo,Xi={en:fn,de:lu,it:Qs,id:xr,ro:pc,ru:Ea,es:ni,nl:Tn,fr:Yi,pt:cu,pt_br:el,pt_pt:xo,zh:Qt,zh_tw:ka,pl:tl,sv:nl,el:ls,hu:us,da:Ma,no:ri,fa:Ji,ua:xi,tr:cs,cz:It,ja:Gn,fi:un,ko:uu,ky:Xo},bi={_globalEditModeEnabled:!1,enableGlobalEditMode(d){let p={...d};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(v=>{this._isRelevantForEdit(v)&&v.pm.enable(p)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(d=>{d.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(d=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(d)},handleLayerAdditionInGlobalEditMode(){let d=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let p in d){let v=d[p];this._isRelevantForEdit(v)&&v.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:d}){this._addedLayersEdit[L.stamp(d)]=d},_isRelevantForEdit(d){return d.pm&&!(d instanceof L.LayerGroup)&&(!L.PM.optIn&&!d.options.pmIgnore||L.PM.optIn&&d.options.pmIgnore===!1)&&!d._pmTempLayer&&d.pm.options.allowEditing}},rl=bi,ds={_globalDragModeEnabled:!1,enableGlobalDragMode(){let d=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},d.forEach(p=>{this._isRelevantForDrag(p)&&p.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let d=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,d.forEach(p=>{p.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let d=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let p in d){let v=d[p];this._isRelevantForDrag(v)&&v.pm.enableLayerDrag()}},_layerAddedDrag({layer:d}){this._addedLayersDrag[L.stamp(d)]=d},_isRelevantForDrag(d){return d.pm&&!(d instanceof L.LayerGroup)&&(!L.PM.optIn&&!d.options.pmIgnore||L.PM.optIn&&d.options.pmIgnore===!1)&&!d._pmTempLayer&&d.pm.options.draggable}},kn=ds,ii={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(d=>{this._isRelevantForRemoval(d)&&(d.pm.enabled()&&d.pm.disable(),d.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(d=>{d.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(d){let p=d.target;this._isRelevantForRemoval(p)&&!p.pm.dragging()&&(p.removeFrom(this.map.pm._getContainingLayer()),p.remove(),p instanceof L.LayerGroup?(this._fireRemoveLayerGroup(p),this._fireRemoveLayerGroup(this.map,p)):(p.pm._fireRemove(p),p.pm._fireRemove(this.map,p)))},_isRelevantForRemoval(d){return d.pm&&!(d instanceof L.LayerGroup)&&(!L.PM.optIn&&!d.options.pmIgnore||L.PM.optIn&&d.options.pmIgnore===!1)&&!d._pmTempLayer&&d.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let d=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let p in d){let v=d[p];this._isRelevantForRemoval(v)&&(v.pm.enabled()&&v.pm.disable(),v.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:d}){this._addedLayersRemoval[L.stamp(d)]=d}},Qo=ii,fs={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(d=>d instanceof L.Polyline).forEach(d=>{this._isRelevantForRotate(d)&&d.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(d=>d instanceof L.Polyline).forEach(d=>{d.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(d){return d.pm&&d instanceof L.Polyline&&!(d instanceof L.LayerGroup)&&(!L.PM.optIn&&!d.options.pmIgnore||L.PM.optIn&&d.options.pmIgnore===!1)&&!d._pmTempLayer&&d.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let d=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let p in d){let v=d[p];this._isRelevantForRemoval(v)&&v.pm.enableRotate()}},_layerAddedRotate({layer:d}){this._addedLayersRotate[L.stamp(d)]=d}},Cd=fs,mc=f(os()),hs={_fireDrawStart(d="Draw",p={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},d,p)},_fireDrawEnd(d="Draw",p={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},d,p)},_fireCreate(d,p="Draw",v={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:d,layer:d},p,v)},_fireCenterPlaced(d="Draw",p={}){let v=d==="Draw"?this._layer:void 0,x=d!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:v,layer:x,latlng:this._layer.getLatLng()},d,p)},_fireCut(d,p,v,x="Draw",M={}){this.__fire(d,"pm:cut",{shape:this._shape,layer:p,originalLayer:v},x,M)},_fireEdit(d=this._layer,p="Edit",v={}){this.__fire(d,"pm:edit",{layer:this._layer,shape:this.getShape()},p,v)},_fireEnable(d="Edit",p={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},d,p)},_fireDisable(d="Edit",p={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},d,p)},_fireUpdate(d="Edit",p={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},d,p)},_fireMarkerDragStart(d,p=void 0,v="Edit",x={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:d,shape:this.getShape(),indexPath:p},v,x)},_fireMarkerDrag(d,p=void 0,v="Edit",x={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:d,shape:this.getShape(),indexPath:p},v,x)},_fireMarkerDragEnd(d,p=void 0,v=void 0,x="Edit",M={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:d,shape:this.getShape(),indexPath:p,intersectionReset:v},x,M)},_fireDragStart(d="Edit",p={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},d,p)},_fireDrag(d,p="Edit",v={}){this.__fire(this._layer,"pm:drag",{...d,shape:this.getShape()},p,v)},_fireDragEnd(d="Edit",p={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},d,p)},_fireDragEnable(d="Edit",p={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},d,p)},_fireDragDisable(d="Edit",p={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},d,p)},_fireRemove(d,p=d,v="Edit",x={}){this.__fire(d,"pm:remove",{layer:p,shape:this.getShape()},v,x)},_fireVertexAdded(d,p,v,x="Edit",M={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:d,indexPath:p,latlng:v,shape:this.getShape()},x,M)},_fireVertexRemoved(d,p,v="Edit",x={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:d,indexPath:p,shape:this.getShape()},v,x)},_fireVertexClick(d,p,v="Edit",x={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:d,indexPath:p,shape:this.getShape()},v,x)},_fireIntersect(d,p=this._layer,v="Edit",x={}){this.__fire(p,"pm:intersect",{layer:this._layer,intersection:d,shape:this.getShape()},v,x)},_fireLayerReset(d,p,v="Edit",x={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:d,indexPath:p,shape:this.getShape()},v,x)},_fireChange(d,p="Edit",v={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:d,shape:this.getShape()},p,v)},_fireTextChange(d,p="Edit",v={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:d,shape:this.getShape()},p,v)},_fireTextFocus(d="Edit",p={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},d,p)},_fireTextBlur(d="Edit",p={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},d,p)},_fireSnapDrag(d,p,v="Snapping",x={}){this.__fire(d,"pm:snapdrag",p,v,x)},_fireSnap(d,p,v="Snapping",x={}){this.__fire(d,"pm:snap",p,v,x)},_fireUnsnap(d,p,v="Snapping",x={}){this.__fire(d,"pm:unsnap",p,v,x)},_fireRotationEnable(d,p,v="Rotation",x={}){this.__fire(d,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},v,x)},_fireRotationDisable(d,p="Rotation",v={}){this.__fire(d,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},p,v)},_fireRotationStart(d,p,v="Rotation",x={}){this.__fire(d,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:p},v,x)},_fireRotation(d,p,v,x=this._rotationLayer,M="Rotation",P={}){this.__fire(d,"pm:rotate",{layer:x,helpLayer:this._layer,startAngle:this._startAngle,angle:x.pm.getAngle(),angleDiff:p,oldLatLngs:v,newLatLngs:x.getLatLngs()},M,P)},_fireRotationEnd(d,p,v,x="Rotation",M={}){this.__fire(d,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:p,angle:this._rotationLayer.pm.getAngle(),originLatLngs:v,newLatLngs:this._rotationLayer.getLatLngs()},x,M)},_fireActionClick(d,p,v,x="Toolbar",M={}){this.__fire(this._map,"pm:actionclick",{text:d.text,action:d,btnName:p,button:v},x,M)},_fireButtonClick(d,p,v="Toolbar",x={}){this.__fire(this._map,"pm:buttonclick",{btnName:d,button:p},v,x)},_fireLangChange(d,p,v,x,M="Global",P={}){this.__fire(this.map,"pm:langchange",{oldLang:d,activeLang:p,fallback:v,translations:x},M,P)},_fireGlobalDragModeToggled(d,p="Global",v={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:d,map:this.map},p,v)},_fireGlobalEditModeToggled(d,p="Global",v={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:d,map:this.map},p,v)},_fireGlobalRemovalModeToggled(d,p="Global",v={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:d,map:this.map},p,v)},_fireGlobalCutModeToggled(d="Global",p={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},d,p)},_fireGlobalDrawModeToggled(d="Global",p={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},d,p)},_fireGlobalRotateModeToggled(d="Global",p={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},d,p)},_fireRemoveLayerGroup(d,p=d,v="Edit",x={}){this.__fire(d,"pm:remove",{layer:p,shape:void 0},v,x)},_fireKeyeventEvent(d,p,v,x="Global",M={}){this.__fire(this.map,"pm:keyevent",{event:d,eventType:p,focusOn:v},x,M)},__fire(d,p,v,x,M={}){v=(0,mc.default)(v,M,{source:x}),L.PM.Utils._fireEvent(d,p,v)}},ea=hs,il=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(d){this.map=d,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),d.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(d){let p="document";this.map.getContainer().contains(d.target)&&(p="map");let v={event:d,eventType:d.type,focusOn:p};this._lastEvents[d.type]=v,this._lastEvents.current=v,this.map.pm._fireKeyeventEvent(d,d.type,p)},_onBlur(d){d.altKey=!1;let p={event:d,eventType:d.type,focusOn:"document"};this._lastEvents[d.type]=p,this._lastEvents.current=p},getLastKeyEvent(d="current"){return this._lastEvents[d]},isShiftKeyPressed(){var d;return(d=this._lastEvents.current)==null?void 0:d.event.shiftKey},isAltKeyPressed(){var d;return(d=this._lastEvents.current)==null?void 0:d.event.altKey},isCtrlKeyPressed(){var d;return(d=this._lastEvents.current)==null?void 0:d.event.ctrlKey},isMetaKeyPressed(){var d;return(d=this._lastEvents.current)==null?void 0:d.event.metaKey},getPressedKey(){var d;return(d=this._lastEvents.current)==null?void 0:d.event.key}}),Ht=il,Qi=f(_o());function Bt(d){let p=L.PM.activeLang;return(0,Qi.default)(Xi[p],d)||(0,Qi.default)(Xi.en,d)||d}function wi(d){for(let p=0;p<d.length;p+=1){let v=d[p];if(Array.isArray(v)){if(wi(v))return!0}else if(v!=null&&v!=="")return!0}return!1}function Sa(d){return d.reduce((p,v)=>{if(v.length!==0){let x=Array.isArray(v)?Sa(v):v;Array.isArray(x)?x.length!==0&&p.push(x):p.push(x)}return p},[])}function ol(d,p,v){let x={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:M,b:P,f:B}=x,R=d.lng,j=d.lat,q=v,oe=Math.PI,re=p*oe/180,Ee=Math.sin(re),Ae=Math.cos(re),Ve=(1-B)*Math.tan(j*oe/180),tt=1/Math.sqrt(1+Ve*Ve),lt=Ve*tt,Wt=Math.atan2(Ve,Ae),ie=tt*Ee,ue=1-ie*ie,me=ue*(M*M-P*P)/(P*P),Se=1+me/16384*(4096+me*(-768+me*(320-175*me))),ye=me/1024*(256+me*(-128+me*(74-47*me))),Te=q/(P*Se),U=2*Math.PI,K,J,Y;for(;Math.abs(Te-U)>1e-12;){K=Math.cos(2*Wt+Te),J=Math.sin(Te),Y=Math.cos(Te);let Fe=ye*J*(K+ye/4*(Y*(-1+2*K*K)-ye/6*K*(-3+4*J*J)*(-3+4*K*K)));U=Te,Te=q/(P*Se)+Fe}let ee=lt*J-tt*Y*Ae,Q=Math.atan2(lt*Y+tt*J*Ae,(1-B)*Math.sqrt(ie*ie+ee*ee)),ce=Math.atan2(J*Ee,tt*Y-lt*J*Ae),de=B/16*ue*(4+B*(4-3*ue)),pe=ce-(1-de)*B*ie*(Te+de*J*(K+de*Y*(-1+2*K*K))),be=R+pe*180/oe,Ce=Q*180/oe;return L.latLng(be,Ce)}function ta(d,p,v,x,M=!0){let P,B,R,j=[];for(let q=0;q<v;q+=1){if(M)P=q*360/v+x,B=ol(d,P,p),R=L.latLng(B.lng,B.lat);else{let oe=d.lat+Math.cos(2*q*Math.PI/v)*p,re=d.lng+Math.sin(2*q*Math.PI/v)*p;R=L.latLng(oe,re)}j.push(R)}return j}function gc(d,p,v){p=(p+360)%360;let x=Math.PI/180,M=180/Math.PI,{R:P}=L.CRS.Earth,B=d.lng*x,R=d.lat*x,j=p*x,q=Math.sin(R),oe=Math.cos(R),re=Math.cos(v/P),Ee=Math.sin(v/P),Ae=Math.asin(q*re+oe*Ee*Math.cos(j)),Ve=B+Math.atan2(Math.sin(j)*Ee*oe,re-q*Math.sin(Ae));Ve*=M;let tt=Ve-360,lt=Ve<-180?Ve+360:Ve;return Ve=Ve>180?tt:lt,L.latLng([Ae*M,Ve])}function er(d,p,v){let x=d.latLngToContainerPoint(p),M=d.latLngToContainerPoint(v),P=Math.atan2(M.y-x.y,M.x-x.x)*180/Math.PI+90;return P+=P<0?360:0,P}function eo(d,p,v,x){let M=er(d,p,v);return gc(p,M,x)}function du(d,p,v="asc"){if(!p||Object.keys(p).length===0)return(j,q)=>j-q;let x=Object.keys(p),M,P=x.length-1,B={};for(;P>=0;)M=x[P],B[M.toLowerCase()]=p[M],P-=1;function R(j){if(j instanceof L.Marker)return"Marker";if(j instanceof L.Circle)return"Circle";if(j instanceof L.CircleMarker)return"CircleMarker";if(j instanceof L.Rectangle)return"Rectangle";if(j instanceof L.Polygon)return"Polygon";if(j instanceof L.Polyline)return"Line"}return(j,q)=>{let oe,re;if(oe=R(j.layer).toLowerCase(),re=R(q.layer).toLowerCase(),!oe||!re)return 0;let Ee=oe in B?B[oe]:Number.MAX_SAFE_INTEGER,Ae=re in B?B[re]:Number.MAX_SAFE_INTEGER,Ve=0;return Ee<Ae?Ve=-1:Ee>Ae&&(Ve=1),v==="desc"?Ve*-1:Ve}}function br(d,p=d.getLatLngs()){return d instanceof L.Polygon?L.polygon(p).getLatLngs():L.polyline(p).getLatLngs()}function yc(d,p){var v,x,M,P;if((x=(v=p.options.crs)==null?void 0:v.projection)!=null&&x.MAX_LATITUDE){let B=(P=(M=p.options.crs)==null?void 0:M.projection)==null?void 0:P.MAX_LATITUDE;d.lat=Math.max(Math.min(B,d.lat),-B)}return d}function qn(d){return d.options.renderer||d._map&&(d._map._getPaneRenderer(d.options.pane)||d._map.options.renderer||d._map._renderer)||d._renderer}var fu=L.Class.extend({includes:[rl,kn,Qo,Cd,ea],initialize(d){this.map=d,this.Draw=new L.PM.Draw(d),this.Toolbar=new L.PM.Toolbar(d),this.Keyboard=Ht(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(d)},setLang(d="en",p,v="en"){if(d=d.trim().toLowerCase(),!/^[a-z]{2}$/.test(d)){let M=d.replace(/[-_\s]/g,"-").replace(/^(\w{2})$/,"$1-").match(/([a-z]{2})-?([a-z]{2})?/);if(M){let P=[`${M[1]}_${M[2]}`,`${M[1]}`];for(let B of P)if(Xi[B]){d=B;break}}}let x=L.PM.activeLang;p&&(Xi[d]=(0,Ot.default)(Xi[v],p)),L.PM.activeLang=d,this.map.pm.Toolbar.reinit(),this._fireLangChange(x,d,v,Xi[d])},addControls(d){this.Toolbar.addControls(d)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(d="Polygon",p){d==="Poly"&&(d="Polygon"),this.Draw.enable(d,p)},disableDraw(d="Polygon"){d==="Poly"&&(d="Polygon"),this.Draw.disable(d)},setPathOptions(d,p={}){let v=p.ignoreShapes||[],x=p.merge||!1;this.map.pm.Draw.shapes.forEach(M=>{v.indexOf(M)===-1&&this.map.pm.Draw[M].setPathOptions(d,x)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(d){let p=(0,Ot.default)(this.globalOptions,d);p.editable&&(p.resizeableCircleMarker=p.editable,delete p.editable);let v=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!p.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),v=!0);let x=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizeableCircle!=!!p.resizeableCircle&&(this.map.pm.Draw.Circle.disable(),x=!0),this.map.pm.Draw.shapes.forEach(M=>{this.map.pm.Draw[M].setOptions(p)}),v&&this.map.pm.Draw.CircleMarker.enable(),x&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(M=>{M.pm.setOptions(p)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=p,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(d=>{d.pm.enabled()&&d.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(d){return this.Draw.Cut.enable(d)},toggleGlobalCutMode(d){return this.Draw.Cut.toggle(d)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(d=!1){let p=L.PM.Utils.findLayers(this.map);if(!d)return p;let v=L.featureGroup();return v._pmTempLayer=!0,p.forEach(x=>{v.addLayer(x)}),v},getGeomanDrawLayers(d=!1){let p=L.PM.Utils.findLayers(this.map).filter(x=>x._drawnByGeoman===!0);if(!d)return p;let v=L.featureGroup();return v._pmTempLayer=!0,p.forEach(x=>{v.addLayer(x)}),v},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(d){this._touchEventCounter===0&&(L.DomEvent.on(d,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(d,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(d){this._touchEventCounter===1&&(L.DomEvent.off(d,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(d,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(d){qn(this.map)._onMouseMove(this._createMouseEvent("mousemove",d))},_canvasTouchClick(d){let p="";d.type==="touchstart"||d.type==="pointerdown"?p="mousedown":(d.type==="touchend"||d.type==="pointerup"||d.type==="touchcancel"||d.type==="pointercancel")&&(p="mouseup"),p&&qn(this.map)._onClick(this._createMouseEvent(p,d))},_createMouseEvent(d,p){let v,x=p.touches[0]||p.changedTouches[0];try{v=new MouseEvent(d,{bubbles:p.bubbles,cancelable:p.cancelable,view:p.view,detail:x.detail,screenX:x.screenX,screenY:x.screenY,clientX:x.clientX,clientY:x.clientY,ctrlKey:p.ctrlKey,altKey:p.altKey,shiftKey:p.shiftKey,metaKey:p.metaKey,button:p.button,relatedTarget:p.relatedTarget})}catch{v=document.createEvent("MouseEvents"),v.initMouseEvent(d,p.bubbles,p.cancelable,p.view,x.detail,x.screenX,x.screenY,x.clientX,x.clientY,p.ctrlKey,p.altKey,p.shiftKey,p.metaKey,p.button,p.relatedTarget)}return v}}),Ta=fu,oi=L.Control.extend({includes:[ea],options:{position:"topleft",disableByOtherButtons:!0},initialize(d){this._button=L.Util.extend({},this.options,d)},onAdd(d){return this._map=d,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let d=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),d?d.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(d){return typeof d=="boolean"?this._button.toggleStatus=d:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._updateActiveAction(this._button),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled(),this._updateActiveAction(this._button)},_triggerClick(d){d&&d.preventDefault(),!this._button.disabled&&(this._button.onClick(d,{button:this,event:d}),this._clicked(d),this._button.afterClick(d,{button:this,event:d}))},_makeButton(d){let p=this.options.position.indexOf("right")>-1?"pos-right":"",v=L.DomUtil.create("div",`button-container  ${p}`,this._container);d.title&&v.setAttribute("title",d.title);let x=L.DomUtil.create("a","leaflet-buttons-control-button",v);x.setAttribute("role","button"),x.setAttribute("tabindex","0"),x.href="#";let M=L.DomUtil.create("div",`leaflet-pm-actions-container ${p}`,v),P=d.actions,B={cancel:{text:Bt("actions.cancel"),title:Bt("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:Bt("actions.finish"),title:Bt("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:Bt("actions.removeLastVertex"),title:Bt("actions.removeLastVertex"),onClick(){this._map.pm.Draw[d.jsClass]._removeLastVertex()}},finish:{text:Bt("actions.finish"),title:Bt("actions.finish"),onClick(j){this._map.pm.Draw[d.jsClass]._finishShape(j)}}};d._preparedActions=P.map(j=>{let q=typeof j=="string"?j:j.name,oe;if(B[q])oe=B[q];else if(j.text)oe=j;else return oe;let re=L.DomUtil.create("a",`leaflet-pm-action ${p} action-${q}`,M);if(re.setAttribute("role","button"),re.setAttribute("tabindex","0"),re.href="#",oe.title&&(re.title=oe.title),re.innerHTML=oe.text,L.DomEvent.disableClickPropagation(re),L.DomEvent.on(re,"click",L.DomEvent.stop),oe._node=re,!d.disabled&&oe.onClick){let Ee=Ae=>{Ae.preventDefault();let Ve="",{buttons:tt}=this._map.pm.Toolbar;for(let lt in tt)if(tt[lt]._button===d){Ve=lt;break}this._fireActionClick(oe,Ve,d)};L.DomEvent.addListener(re,"click",Ee,this),L.DomEvent.addListener(re,"click",oe.onClick,this),L.DomEvent.addListener(re,"click",()=>this._updateActiveAction(d))}return oe}),this._updateActiveAction(d),d.toggleStatus&&L.DomUtil.addClass(v,"active");let R=L.DomUtil.create("div","control-icon",x);return d.iconUrl&&R.setAttribute("src",d.iconUrl),d.className&&L.DomUtil.addClass(R,d.className),L.DomEvent.disableClickPropagation(x),L.DomEvent.on(x,"click",L.DomEvent.stop),d.disabled||(L.DomEvent.addListener(x,"click",this._onBtnClick,this),L.DomEvent.addListener(x,"click",this._triggerClick,this)),d.disabled&&(L.DomUtil.addClass(x,"pm-disabled"),x.setAttribute("aria-disabled","true")),v},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let d="",{buttons:p}=this._map.pm.Toolbar;for(let v in p)if(p[v]._button===this._button){d=v;break}this._fireButtonClick(d,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let d="pm-disabled",p=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(p,d),p.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(p,d),p.setAttribute("aria-disabled","false"))},_updateActiveAction(d){var p;(p=d._preparedActions)==null||p.forEach(v=>{v!=null&&v._node&&(v.isActive&&v.isActive.call(this)?L.DomUtil.addClass(v._node,"active-action"):L.DomUtil.removeClass(v._node,"active-action"))})}}),hu=oi;L.Control.PMButton=hu;var vc=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(d){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(d)},reinit(){let d=this.isVisible;this.removeControls(),this._defineButtons(),d&&this.addControls()},init(d){this.map=d,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(d){let p=`${d}Container`;return this[p]||(this[p]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${d} leaflet-bar leaflet-control`)),this[p]},getButtons(){return this.buttons},addControls(d=this.options){typeof d.editPolygon<"u"&&(d.editMode=d.editPolygon),typeof d.deleteLayer<"u"&&(d.removalMode=d.deleteLayer),L.Util.setOptions(this,d),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let d=this.getButtons(),p={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let v in d){let x=d[v];L.Util.setOptions(x,{className:p.geomanIcons[v]})}},removeControls(){let d=this.getButtons();for(let p in d)d[p].remove();this.isVisible=!1},toggleControls(d=this.options){this.isVisible?this.removeControls():this.addControls(d)},_addButton(d,p){return this.buttons[d]=p,this.options[d]=!!this.options[d]||!1,this.buttons[d]},triggerClickOnToggledButtons(d){for(let p in this.buttons){let v=this.buttons[p];v._button.disableByOtherButtons&&v!==d&&v.toggled()&&v._triggerClick()}},toggleButton(d,p,v=!0){d==="editPolygon"&&(d="editMode"),d==="deleteLayer"&&(d="removalMode");let x=d;return v&&this.triggerClickOnToggledButtons(this.buttons[x]),this.buttons[x]?this.buttons[x].toggle(p):!1},_defineButtons(){let d={className:"control-icon leaflet-pm-icon-marker",title:Bt("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(Ee,Ae)=>{this.map.pm.Draw[Ae.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},p={title:Bt("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(Ee,Ae)=>{this.map.pm.Draw[Ae.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},v={className:"control-icon leaflet-pm-icon-polyline",title:Bt("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(Ee,Ae)=>{this.map.pm.Draw[Ae.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},x={title:Bt("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(Ee,Ae)=>{this.map.pm.Draw[Ae.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},M={title:Bt("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(Ee,Ae)=>{this.map.pm.Draw[Ae.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},P={title:Bt("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(Ee,Ae)=>{this.map.pm.Draw[Ae.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},B={title:Bt("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},R={title:Bt("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},j={title:Bt("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(Ee,Ae)=>{this.map.pm.Draw[Ae.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},q={title:Bt("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},oe={title:Bt("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},re={className:"control-icon leaflet-pm-icon-text",title:Bt("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(Ee,Ae)=>{this.map.pm.Draw[Ae.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(d)),this._addButton("drawPolyline",new L.Control.PMButton(v)),this._addButton("drawRectangle",new L.Control.PMButton(P)),this._addButton("drawPolygon",new L.Control.PMButton(p)),this._addButton("drawCircle",new L.Control.PMButton(x)),this._addButton("drawCircleMarker",new L.Control.PMButton(M)),this._addButton("drawText",new L.Control.PMButton(re)),this._addButton("editMode",new L.Control.PMButton(B)),this._addButton("dragMode",new L.Control.PMButton(R)),this._addButton("cutPolygon",new L.Control.PMButton(j)),this._addButton("removalMode",new L.Control.PMButton(q)),this._addButton("rotateMode",new L.Control.PMButton(oe))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let d=this.getButtons(),p=[];this.options.drawControls===!1&&(p=p.concat(Object.keys(d).filter(v=>!d[v]._button.tool))),this.options.editControls===!1&&(p=p.concat(Object.keys(d).filter(v=>d[v]._button.tool==="edit"))),this.options.optionsControls===!1&&(p=p.concat(Object.keys(d).filter(v=>d[v]._button.tool==="options"))),this.options.customControls===!1&&(p=p.concat(Object.keys(d).filter(v=>d[v]._button.tool==="custom")));for(let v in d)if(this.options[v]&&p.indexOf(v)===-1){let x=d[v]._button.tool;x||(x="draw"),d[v].setPosition(this._getBtnPosition(x)),d[v].addTo(this.map)}},_getBtnPosition(d){return this.options.positions&&this.options.positions[d]?this.options.positions[d]:this.options.position},setBlockPosition(d,p){this.options.positions[d]=p,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(d,p){if(p)typeof p!="object"&&(p={name:p});else throw new TypeError("Button has no name");let v=this._btnNameMapping(d);if(!p.name)throw new TypeError("Button has no name");if(this.buttons[p.name])throw new TypeError("Button with this name already exists");let x=this.map.pm.Draw.createNewDrawInstance(p.name,v);p={...this.buttons[v]._button,...p};let M=this.createCustomControl(p);return{drawInstance:x,control:M}},createCustomControl(d){if(!d.name)throw new TypeError("Button has no name");if(this.buttons[d.name])throw new TypeError("Button with this name already exists");d.onClick||(d.onClick=()=>{}),d.afterClick||(d.afterClick=()=>{}),d.toggle!==!1&&(d.toggle=!0),d.block&&(d.block=d.block.toLowerCase()),(!d.block||d.block==="draw")&&(d.block=""),d.className?d.className.indexOf("control-icon")===-1&&(d.className=`control-icon ${d.className}`):d.className="control-icon";let p={tool:d.block,className:d.className,title:d.title||"",jsClass:d.name,onClick:d.onClick,afterClick:d.afterClick,doToggle:d.toggle,toggleStatus:!1,disableOtherButtons:d.disableOtherButtons??!0,disableByOtherButtons:d.disableByOtherButtons??!0,cssToggle:d.toggle,position:this.options.position,actions:d.actions||[],disabled:!!d.disabled};this.options[d.name]!==!1&&(this.options[d.name]=!0);let v=this._addButton(d.name,new L.Control.PMButton(p));return this.changeControlOrder(),v},controlExists(d){return!!this.getButton(d)},getButton(d){return this.getButtons()[d]},getButtonsInBlock(d){let p={};if(d)for(let v in this.getButtons()){let x=this.getButtons()[v];(x._button.tool===d||d==="draw"&&!x._button.tool)&&(p[v]=x)}return p},changeControlOrder(d=[]){let p=this._shapeMapping(),v=[];d.forEach(P=>{p[P]?v.push(p[P]):v.push(P)});let x=this.getButtons(),M={};v.forEach(P=>{x[P]&&(M[P]=x[P])}),Object.keys(x).filter(P=>!x[P]._button.tool||x[P]._button.tool==="draw").forEach(P=>{v.indexOf(P)===-1&&(M[P]=x[P])}),Object.keys(x).filter(P=>x[P]._button.tool==="edit").forEach(P=>{v.indexOf(P)===-1&&(M[P]=x[P])}),Object.keys(x).filter(P=>x[P]._button.tool==="options").forEach(P=>{v.indexOf(P)===-1&&(M[P]=x[P])}),Object.keys(x).filter(P=>x[P]._button.tool==="custom").forEach(P=>{v.indexOf(P)===-1&&(M[P]=x[P])}),Object.keys(x).forEach(P=>{v.indexOf(P)===-1&&(M[P]=x[P])}),this.map.pm.Toolbar.buttons=M,this._showHideButtons()},getControlOrder(){let d=this.getButtons(),p=[];for(let v in d)p.push(v);return p},changeActionsOfControl(d,p){let v=this._btnNameMapping(d);if(!v)throw new TypeError("No name passed");if(!p)throw new TypeError("No actions passed");if(!this.buttons[v])throw new TypeError("Button with this name not exists");this.buttons[v]._button.actions=p,this.changeControlOrder()},setButtonDisabled(d,p){let v=this._btnNameMapping(d);p?this.buttons[v].disable():this.buttons[v].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(d){let p=this._shapeMapping();return p[d]?p[d]:d}}),pu=vc,Ld=f(os()),al={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(d){d.forEach(p=>{if(Array.isArray(p)){this._assignEvents(p);return}p.off("drag",this._handleSnapping,this),p.on("drag",this._handleSnapping,this),p.off("dragend",this._cleanupSnapping,this),p.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(d){if(d){let p=d.target;p._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(p=>{p.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(d){var R,j,q;let p=d.target;if(p._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),((R=d==null?void 0:d.originalEvent)==null?void 0:R.altKey)||((q=(j=this._map)==null?void 0:j.pm)==null?void 0:q.Keyboard.isAltKeyPressed())||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let v=this._calcClosestLayer(p.getLatLng(),this._snapList);if(Object.keys(v).length===0)return!1;let x=v.layer instanceof L.Marker||v.layer instanceof L.CircleMarker||!this.options.snapSegment,M;x?M=v.latlng:M=this._checkPrioritiySnapping(v);let P=this.options.snapDistance,B={marker:p,shape:this._shape,snapLatLng:M,segment:v.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:v.layer,distance:v.distance};if(this._fireSnapDrag(B.marker,B),this._fireSnapDrag(this._layer,B),v.distance<P){p._orgLatLng=p.getLatLng(),p.setLatLng(M),p._snapped=!0,p._snapInfo=B;let oe=()=>{this._snapLatLng=M,this._fireSnap(p,B),this._fireSnap(this._layer,B)},re=this._snapLatLng||{},Ee=M||{};(re.lat!==Ee.lat||re.lng!==Ee.lng)&&oe()}else this._snapLatLng&&(this._unsnap(B),p._snapped=!1,p._snapInfo=void 0,this._fireUnsnap(B.marker,B),this._fireUnsnap(this._layer,B));return!0},_createSnapList(){let d=[],p=[],v=this._map;v.off("layerremove",this._handleSnapLayerRemoval,this),v.on("layerremove",this._handleSnapLayerRemoval,this),v.eachLayer(x=>{if((x instanceof L.Polyline||x instanceof L.Marker||x instanceof L.CircleMarker||x instanceof L.ImageOverlay)&&x.options.snapIgnore!==!0){if(x.options.snapIgnore===void 0&&(!L.PM.optIn&&x.options.pmIgnore===!0||L.PM.optIn&&x.options.pmIgnore!==!1))return;(x instanceof L.Circle||x instanceof L.CircleMarker)&&x.pm&&x.pm._hiddenPolyCircle?d.push(x.pm._hiddenPolyCircle):x instanceof L.ImageOverlay&&(x=L.rectangle(x.getBounds())),d.push(x);let M=L.polyline([],{color:"red",pmIgnore:!0});M._pmTempLayer=!0,p.push(M),(x instanceof L.Circle||x instanceof L.CircleMarker)&&p.push(M)}}),d=d.filter(x=>this._layer!==x),d=d.filter(x=>x._latlng||x._latlngs&&wi(x._latlngs)),d=d.filter(x=>!x._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let x=L.polyline([],{color:"red",pmIgnore:!0});x._pmTempLayer=!0,p.push(x)}),this._snapList=d.concat(this._otherSnapLayers)):this._snapList=d,this.debugIndicatorLines=p},_handleSnapLayerRemoval({layer:d}){if(!d._leaflet_id)return;let p=this._snapList.findIndex(v=>v._leaflet_id===d._leaflet_id);p>-1&&this._snapList.splice(p,1)},_calcClosestLayer(d,p){return this._calcClosestLayers(d,p,1)[0]},_calcClosestLayers(d,p,v=1){let x=[],M={};p.forEach((B,R)=>{var q;if(B._parentCopy&&B._parentCopy===this._layer||((q=B.getLatLngs)==null?void 0:q.call(B).flat(5).length)<2)return;let j=this._calcLayerDistances(d,B);if(j.distance=Math.floor(j.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[R]){let oe=L.polyline([],{color:"red",pmIgnore:!0});oe._pmTempLayer=!0,this.debugIndicatorLines[R]=oe}this.debugIndicatorLines[R].setLatLngs([d,j.latlng])}v===1&&(M.distance===void 0||j.distance-5<=M.distance)?(j.distance+5<M.distance&&(x=[]),M=j,M.layer=B,x.push(M)):v!==1&&(M={},M=j,M.layer=B,x.push(M))}),v!==1&&(x=x.sort((B,R)=>B.distance-R.distance)),v===-1&&(v=x.length);let P=this._getClosestLayerByPriority(x,v);return L.Util.isArray(P)?P:[P]},_calcLayerDistances(d,p){let v=this._map,x=p instanceof L.Marker||p instanceof L.CircleMarker,M=p instanceof L.Polygon,P=d;if(x){let B=p.getLatLng();return{latlng:{...B},distance:this._getDistance(v,B,P)}}return this._calcLatLngDistances(P,p.getLatLngs(),v,M)},_calcLatLngDistances(d,p,v,x=!1){let M,P,B,R=j=>{j.forEach((q,oe)=>{if(Array.isArray(q)){R(q);return}if(this.options.snapSegment){let re=q,Ee;x?Ee=oe+1===j.length?0:oe+1:Ee=oe+1===j.length?void 0:oe+1;let Ae=j[Ee];if(Ae){let Ve=this._getDistanceToSegment(v,d,re,Ae);(P===void 0||Ve<P)&&(P=Ve,B=[re,Ae])}}else{let re=this._getDistance(v,d,q);(P===void 0||re<P)&&(P=re,M=q)}})};return R(p),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(v,d,B[0],B[1])},segment:B,distance:P}:{latlng:M,distance:P}},_getClosestLayerByPriority(d,p=1){d=d.sort((B,R)=>B._leaflet_id-R._leaflet_id);let v=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],x=this._map.pm.globalOptions.snappingOrder||[],M=0,P={};return x.concat(v).forEach(B=>{P[B]||(M+=1,P[B]=M)}),d.sort(du("instanceofShape",P)),p===1?d[0]||{}:d.slice(0,p)},_checkPrioritiySnapping(d){let p=this._map,v=d.segment[0],x=d.segment[1],M=d.latlng,P=M;if(this.options.snapVertex){let B=this._getDistance(p,v,M),R=this._getDistance(p,x,M),j=B<R?v:x,q=B<R?B:R;if(this.options.snapMiddle){let re=L.PM.Utils.calcMiddleLatLng(p,v,x),Ee=this._getDistance(p,re,M);Ee<B&&Ee<R&&(j=re,q=Ee)}let oe=this.options.snapDistance;q<oe&&(P=j)}return{...P}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(d,p,v,x){let M=d.getMaxZoom();M===1/0&&(M=d.getZoom());let P=d.project(p,M),B=d.project(v,M),R=d.project(x,M),j=L.LineUtil.closestPointOnSegment(P,B,R);return d.unproject(j,M)},_getDistanceToSegment(d,p,v,x){let M=d.latLngToContainerPoint(p),P=d.latLngToContainerPoint(v),B=d.latLngToContainerPoint(x);return L.LineUtil.pointToSegmentDistance(M,P,B)},_getDistance(d,p,v){return d.latLngToContainerPoint(p).distanceTo(d.latLngToContainerPoint(v))}},mu=al,Ed=L.Class.extend({includes:[mu,ea],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizeableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0,textOptions:{text:null,focusAfterDraw:null,removeIfEmpty:null,className:null},snapVertex:!0},setOptions(d){L.Util.setOptions(this,d),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(d){let p=new L.Icon.Default;p.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=p,this._map=d,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(v=>{this[v]=new L.PM.Draw[v](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(d,p=!1){p?this.options.pathOptions=(0,Ld.default)(this.options.pathOptions,d):this.options.pathOptions=d},getShapes(){return this.shapes},getShape(){return this._shape},enable(d,p){if(!d)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[d].enable(p)},disable(){this.shapes.forEach(d=>{this[d].disable()})},addControls(){this.shapes.forEach(d=>{this[d].addButton()})},getActiveShape(){let d;return this.shapes.forEach(p=>{this[p]._enabled&&(d=p)}),d},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let d=[];this._map.eachLayer(p=>{(p instanceof L.Polyline||p instanceof L.Marker||p instanceof L.Circle||p instanceof L.CircleMarker||p instanceof L.ImageOverlay)&&(p._pmTempLayer||d.push(p))}),this._enabled?d.forEach(p=>{L.PM.Utils.disablePopup(p)}):d.forEach(p=>{L.PM.Utils.enablePopup(p)})},createNewDrawInstance(d,p){let v=this._getShapeFromBtnName(p);if(this[d])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[v])throw new TypeError(`There is no class L.PM.Draw.${v}`);return this[d]=new L.PM.Draw[v](this._map),this[d].toolbarButtonName=d,this[d]._shape=d,this.shapes.push(d),this[p]&&this[d].setOptions(this[p].options),this[d].setOptions(this[d].options),this[d]},_getShapeFromBtnName(d){let p={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return p[d]?p[d]:this[d]?this[d]._shape:d},_finishLayer(d){d.pm&&(d.pm.setOptions(this.options),d.pm._shape=this._shape,d.pm._map=this._map),this._addDrawnLayerProp(d)},_addDrawnLayerProp(d){d._drawnByGeoman=!0},_setPane(d,p){p==="layerPane"?d.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":p==="vertexPane"?d.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":p==="markerPane"&&(d.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),Hn=Ed;Hn.Marker=Hn.extend({initialize(d){this._map=d,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(d){L.Util.setOptions(this,d),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Bt("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(p=>{this.isRelevantMarker(p)&&p.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(d=>{this.isRelevantMarker(d)&&d.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(d){this.enabled()?this.disable():this.enable(d)},isRelevantMarker(d){return d instanceof L.Marker&&d.pm&&!d._pmTempLayer&&!d.pm._initTextMarker},_syncHintMarker(d){if(this._hintMarker.setLatLng(d.latlng),this.options.snappable){let p=d;p.target=this._hintMarker,this._handleSnapping(p)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(d){if(!d.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(d.latlng);let p=this._hintMarker.getLatLng(),v=new L.Marker(p,this.options.markerStyle);this._setPane(v,"markerPane"),this._finishLayer(v),v.pm||(v.options.draggable=!1),v.addTo(this._map.pm._getContainingLayer()),v.pm&&this.options.markerEditable?v.pm.enable():v.dragging&&v.dragging.disable(),this._fireCreate(v),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){var d,p;(d=this.options.markerStyle)!=null&&d.icon&&((p=this._hintMarker)==null||p.setIcon(this.options.markerStyle.icon))}});var tr=63710088e-1,_c={centimeters:tr*100,centimetres:tr*100,degrees:tr/111325,feet:tr*3.28084,inches:tr*39.37,kilometers:tr/1e3,kilometres:tr/1e3,meters:tr,metres:tr,miles:tr/1609.344,millimeters:tr*1e3,millimetres:tr*1e3,nauticalmiles:tr/1852,radians:1,yards:tr*1.0936};function bo(d,p,v){v===void 0&&(v={});var x={type:"Feature"};return(v.id===0||v.id)&&(x.id=v.id),v.bbox&&(x.bbox=v.bbox),x.properties=p||{},x.geometry=d,x}function na(d,p,v){if(v===void 0&&(v={}),!d)throw new Error("coordinates is required");if(!Array.isArray(d))throw new Error("coordinates must be an Array");if(d.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!gu(d[0])||!gu(d[1]))throw new Error("coordinates must contain numbers");var x={type:"Point",coordinates:d};return bo(x,p,v)}function wo(d,p,v){if(v===void 0&&(v={}),d.length<2)throw new Error("coordinates must be an array of two or more positions");var x={type:"LineString",coordinates:d};return bo(x,p,v)}function wr(d,p){p===void 0&&(p={});var v={type:"FeatureCollection"};return p.id&&(v.id=p.id),p.bbox&&(v.bbox=p.bbox),v.features=d,v}function kd(d,p){p===void 0&&(p="kilometers");var v=_c[p];if(!v)throw new Error(p+" units is invalid");return d*v}function ra(d,p){p===void 0&&(p="kilometers");var v=_c[p];if(!v)throw new Error(p+" units is invalid");return d/v}function Cr(d){var p=d%(2*Math.PI);return p*180/Math.PI}function Vr(d){var p=d%360;return p*Math.PI/180}function gu(d){return!isNaN(d)&&d!==null&&!Array.isArray(d)}function ps(d){var p,v,x={type:"FeatureCollection",features:[]};if(d.type==="Feature"?v=d.geometry:v=d,v.type==="LineString")p=[v.coordinates];else if(v.type==="MultiLineString")p=v.coordinates;else if(v.type==="MultiPolygon")p=[].concat.apply([],v.coordinates);else if(v.type==="Polygon")p=v.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return p.forEach(function(M){p.forEach(function(P){for(var B=0;B<M.length-1;B++)for(var R=B;R<P.length-1;R++)if(!(M===P&&(Math.abs(B-R)===1||B===0&&R===M.length-2&&M[B][0]===M[M.length-1][0]&&M[B][1]===M[M.length-1][1]))){var j=yu(M[B][0],M[B][1],M[B+1][0],M[B+1][1],P[R][0],P[R][1],P[R+1][0],P[R+1][1]);j&&x.features.push(na([j[0],j[1]]))}})}),x}function yu(d,p,v,x,M,P,B,R){var j,q,oe,re,Ee,Ae={x:null,y:null,onLine1:!1,onLine2:!1};return j=(R-P)*(v-d)-(B-M)*(x-p),j===0?Ae.x!==null&&Ae.y!==null?Ae:!1:(q=p-P,oe=d-M,re=(B-M)*q-(R-P)*oe,Ee=(v-d)*q-(x-p)*oe,q=re/j,oe=Ee/j,Ae.x=d+q*(v-d),Ae.y=p+q*(x-p),q>=0&&q<=1&&(Ae.onLine1=!0),oe>=0&&oe<=1&&(Ae.onLine2=!0),Ae.onLine1&&Ae.onLine2?[Ae.x,Ae.y]:!1)}Hn.Line=Hn.extend({initialize(d){this._map=d,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(d){L.Util.setOptions(this,d),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Bt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(d){this.enabled()?this.disable():this.enable(d)},_syncHintLine(){let d=this._layer.getLatLngs();if(d.length>0){let p=d[d.length-1];this._hintline.setLatLngs([p,this._hintMarker.getLatLng()])}},_syncHintMarker(d){if(this._hintMarker.setLatLng(d.latlng),this.options.snappable){let v=d;v.target=this._hintMarker,this._handleSnapping(v)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let p=this._layer._defaultShape().slice();p.push(this._hintMarker.getLatLng()),this._change(p)},hasSelfIntersection(){return ps(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(d,p){let v=L.polyline(this._layer.getLatLngs());d&&(p||(p=this._hintMarker.getLatLng()),v.addLatLng(p));let x=ps(v.toGeoJSON(15));this._doesSelfIntersect=x.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(x,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(d){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,d.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(d.latlng);let p=this._hintMarker.getLatLng(),v=this._layer.getLatLngs(),x=v[v.length-1];if(p.equals(v[0])||v.length>0&&p.equals(x)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:p,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(p);let M=this._createMarker(p);this._setTooltipText(),this._setHintLineAfterNewVertex(p),this._fireVertexAdded(M,void 0,p,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(d)},_setHintLineAfterNewVertex(d){this._hintline.setLatLngs([d,d])},_removeLastVertex(){let d=this._markers;if(d.length<=1){this.disable();return}let p=this._layer.getLatLngs(),v=d[d.length-1],{indexPath:x}=L.PM.Utils.findDeepMarkerIndex(d,v);d.pop(),this._layerGroup.removeLayer(v);let M=d[d.length-1],P=p.indexOf(M.getLatLng());p=p.slice(0,P+1),this._layer.setLatLngs(p),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(v,x,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let d=this._layer.getLatLngs();if(d.length<=1)return;let p=L.polyline(d,this.options.pathOptions);this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),this._fireCreate(p),this.options.snappable&&this._cleanupSnapping();let v=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(v))},_createMarker(d){let p=new L.Marker(d,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._pmTempLayer=!0,this._layerGroup.addLayer(p),this._markers.push(p),p.on("click",this._finishShape,this),p},_setTooltipText(){let{length:d}=this._layer.getLatLngs().flat(),p="";d<=1?p=Bt("tooltips.continueLine"):p=Bt("tooltips.finishLine"),this._hintMarker.setTooltipContent(p)},_change(d){this._fireChange(d,"Draw")},setStyle(){var d,p;(d=this._layer)==null||d.setStyle(this.options.templineStyle),(p=this._hintline)==null||p.setStyle(this.options.hintlineStyle)}}),Hn.Polygon=Hn.Line.extend({initialize(d){this._map=d,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(d){L.PM.Draw.Line.prototype.enable.call(this,d),this._layer.pm._shape="Polygon"},_createMarker(d){let p=new L.Marker(d,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._pmTempLayer=!0,this._layerGroup.addLayer(p),this._markers.push(p),this._layer.getLatLngs().flat().length===1?(p.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(p)-1,this.options.snappable&&this._cleanupSnapping()):p.on("click",()=>1),p},_setTooltipText(){let{length:d}=this._layer.getLatLngs().flat(),p="";d<=2?p=Bt("tooltips.continueLine"):p=Bt("tooltips.finishPoly"),this._hintMarker.setTooltipContent(p)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let d=this._layer.getLatLngs();if(d.length<=2)return;let p=L.polygon(d,this.options.pathOptions);this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),this._fireCreate(p),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex;let v=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(v))}}),Hn.Rectangle=Hn.extend({initialize(d){this._map=d,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(d){if(L.Util.setOptions(this,d),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Bt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let p=0;p<2;p+=1){let v=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(v,"vertexPane"),v._pmTempLayer=!0,this._layerGroup.addLayer(v),this._styleMarkers.push(v)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(d){this.enabled()?this.disable():this.enable(d)},_placeStartingMarkers(d){this._hintMarker._snapped||this._hintMarker.setLatLng(d.latlng);let p=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(p),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(v=>{L.DomUtil.addClass(v._icon,"visible"),v.setLatLng(p)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Bt("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let d=this._startMarker.getLatLng();d&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([d,d]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(d){if(this._hintMarker.setLatLng(d.latlng),this.options.snappable){let v=d;v.target=this._hintMarker,this._handleSnapping(v)}let p=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(p,"Draw")},_syncRectangleSize(){let d=yc(this._startMarker.getLatLng(),this._map),p=yc(this._hintMarker.getLatLng(),this._map),v=L.PM.Utils._getRotatedRectangle(d,p,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(v),this.options.cursorMarker&&this._styleMarkers){let x=[];v.forEach(M=>{!M.equals(d,1e-8)&&!M.equals(p,1e-8)&&x.push(M)}),x.forEach((M,P)=>{try{this._styleMarkers[P].setLatLng(M)}catch{}})}},_findCorners(){let d=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(d[0],d[2],this.options.rectangleAngle||0,this._map)},_finishShape(d){this._hintMarker._snapped||this._hintMarker.setLatLng(d.latlng);let p=this._hintMarker.getLatLng(),v=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||v.equals(p))return;let x=L.rectangle([v,p],this.options.pathOptions);if(this.options.rectangleAngle){let P=L.PM.Utils._getRotatedRectangle(v,p,this.options.rectangleAngle||0,this._map);x.setLatLngs(P),x.pm&&x.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(x,"layerPane"),this._finishLayer(x),x.addTo(this._map.pm._getContainingLayer()),this._fireCreate(x);let M=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(M))},setStyle(){var d;(d=this._layer)==null||d.setStyle(this.options.pathOptions)}}),Hn.CircleMarker=Hn.extend({initialize(d){this._map=d,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(d){if(L.Util.setOptions(this,d),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let p={};L.extend(p,this.options.templineStyle),p.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),p),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Bt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Bt("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(d=>{this.isRelevantMarker(d)&&d.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(d=>{this.isRelevantMarker(d)&&d.pm.disable()})},enabled(){return this._enabled},toggle(d){this.enabled()?this.disable():this.enable(d)},_placeCenterMarker(d){this._hintMarker._snapped||this._hintMarker.setLatLng(d.latlng),this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker);let p=this._hintMarker.getLatLng();this._centerMarker.setLatLng(p),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let d=this._centerMarker.getLatLng();d&&(this._layer.setLatLng(d),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Bt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let d=this._centerMarker.getLatLng(),p=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([d,p])},_syncCircleRadius(){let d=this._centerMarker.getLatLng(),p=this._hintMarker.getLatLng(),v=this._distanceCalculation(d,p);this.options[this._minRadiusOption]&&v<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&v>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(v)},_syncHintMarker(d){if(this._hintMarker.setLatLng(d.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let v=d;v.target=this._hintMarker,this._handleSnapping(v)}this._handleHintMarkerSnapping();let p=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(p,"Draw")},isRelevantMarker(d){return d instanceof L.CircleMarker&&!(d instanceof L.Circle)&&d.pm&&!d._pmTempLayer},_createMarker(d){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!d.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(d.latlng);let p=this._hintMarker.getLatLng(),v=new this._BaseCircleClass(p,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(v,"layerPane"),this._finishLayer(v),v.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(v),this._fireCreate(v),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(d){d.pm&&this.options.markerEditable&&d.pm.enable()},_finishShape(d){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(d.latlng);let p=this._centerMarker.getLatLng(),v=this._defaultRadius;if(this.options[this._editableOption]){let B=this._hintMarker.getLatLng();v=this._distanceCalculation(p,B),this.options[this._minRadiusOption]&&v<this.options[this._minRadiusOption]?v=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&v>this.options[this._maxRadiusOption]&&(v=this.options[this._maxRadiusOption])}let x={...this.options.pathOptions,radius:v},M=new this._BaseCircleClass(p,x);this._setPane(M,"layerPane"),this._finishLayer(M),M.addTo(this._map.pm._getContainingLayer()),M.pm&&M.pm._updateHiddenPolyCircle(),this._fireCreate(M);let P=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(P))},_getNewDestinationOfHintMarker(){let d=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return d;let p=this._centerMarker.getLatLng(),v=this._distanceCalculation(p,d);this.options[this._minRadiusOption]&&v<this.options[this._minRadiusOption]?d=eo(this._map,p,d,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&v>this.options[this._maxRadiusOption]&&(d=eo(this._map,p,d,this._getMaxDistanceInMeter()))}return d},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let d=this._centerMarker.getLatLng(),p=this._hintMarker.getLatLng(),v=this._distanceCalculation(d,p);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&v<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&v>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){var p,v;let d={};L.extend(d,this.options.templineStyle),this.options[this._editableOption]&&(d.radius=0),(p=this._layer)==null||p.setStyle(d),(v=this._hintline)==null||v.setStyle(this.options.hintlineStyle)},_distanceCalculation(d,p){return this._map.project(d).distanceTo(this._map.project(p))}}),Hn.Circle=Hn.CircleMarker.extend({initialize(d){this._map=d,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(d,p){return this._map.distance(d,p)}});function Gr(d){if(!d)throw new Error("coord is required");if(!Array.isArray(d)){if(d.type==="Feature"&&d.geometry!==null&&d.geometry.type==="Point")return d.geometry.coordinates;if(d.type==="Point")return d.coordinates}if(Array.isArray(d)&&d.length>=2&&!Array.isArray(d[0])&&!Array.isArray(d[1]))return d;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ci(d){if(Array.isArray(d))return d;if(d.type==="Feature"){if(d.geometry!==null)return d.geometry.coordinates}else if(d.coordinates)return d.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function sl(d){return d.type==="Feature"?d.geometry:d}function vu(d,p){return d.type==="FeatureCollection"?"FeatureCollection":d.type==="GeometryCollection"?"GeometryCollection":d.type==="Feature"&&d.geometry!==null?d.geometry.type:d.type}function _u(d,p,v){if(d!==null)for(var x,M,P,B,R,j,q,oe=0,re=0,Ee,Ae=d.type,Ve=Ae==="FeatureCollection",tt=Ae==="Feature",lt=Ve?d.features.length:1,Wt=0;Wt<lt;Wt++){q=Ve?d.features[Wt].geometry:tt?d.geometry:d,Ee=q?q.type==="GeometryCollection":!1,R=Ee?q.geometries.length:1;for(var ie=0;ie<R;ie++){var ue=0,me=0;if(B=Ee?q.geometries[ie]:q,B!==null){j=B.coordinates;var Se=B.type;switch(oe=0,Se){case null:break;case"Point":if(p(j,re,Wt,ue,me)===!1)return!1;re++,ue++;break;case"LineString":case"MultiPoint":for(x=0;x<j.length;x++){if(p(j[x],re,Wt,ue,me)===!1)return!1;re++,Se==="MultiPoint"&&ue++}Se==="LineString"&&ue++;break;case"Polygon":case"MultiLineString":for(x=0;x<j.length;x++){for(M=0;M<j[x].length-oe;M++){if(p(j[x][M],re,Wt,ue,me)===!1)return!1;re++}Se==="MultiLineString"&&ue++,Se==="Polygon"&&me++}Se==="Polygon"&&ue++;break;case"MultiPolygon":for(x=0;x<j.length;x++){for(me=0,M=0;M<j[x].length;M++){for(P=0;P<j[x][M].length-oe;P++){if(p(j[x][M][P],re,Wt,ue,me)===!1)return!1;re++}me++}ue++}break;case"GeometryCollection":for(x=0;x<B.geometries.length;x++)if(_u(B.geometries[x],p)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function dr(d,p){if(d.type==="Feature")p(d,0);else if(d.type==="FeatureCollection")for(var v=0;v<d.features.length&&p(d.features[v],v)!==!1;v++);}function Co(d,p,v){var x=v;return dr(d,function(M,P){P===0&&v===void 0?x=M:x=p(x,M,P)}),x}function ms(d,p){var v,x,M,P,B,R,j,q,oe,re,Ee=0,Ae=d.type==="FeatureCollection",Ve=d.type==="Feature",tt=Ae?d.features.length:1;for(v=0;v<tt;v++){for(R=Ae?d.features[v].geometry:Ve?d.geometry:d,q=Ae?d.features[v].properties:Ve?d.properties:{},oe=Ae?d.features[v].bbox:Ve?d.bbox:void 0,re=Ae?d.features[v].id:Ve?d.id:void 0,j=R?R.type==="GeometryCollection":!1,B=j?R.geometries.length:1,M=0;M<B;M++){if(P=j?R.geometries[M]:R,P===null){if(p(null,Ee,q,oe,re)===!1)return!1;continue}switch(P.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(P,Ee,q,oe,re)===!1)return!1;break}case"GeometryCollection":{for(x=0;x<P.geometries.length;x++)if(p(P.geometries[x],Ee,q,oe,re)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}Ee++}}function ai(d,p){ms(d,function(v,x,M,P,B){var R=v===null?null:v.type;switch(R){case null:case"Point":case"LineString":case"Polygon":return p(bo(v,M,{bbox:P,id:B}),x,0)===!1?!1:void 0}var j;switch(R){case"MultiPoint":j="Point";break;case"MultiLineString":j="LineString";break;case"MultiPolygon":j="Polygon";break}for(var q=0;q<v.coordinates.length;q++){var oe=v.coordinates[q],re={type:j,coordinates:oe};if(p(bo(re,M),x,q)===!1)return!1}})}function xc(d){if(!d)throw new Error("geojson is required");var p=[];return ai(d,function(v){ia(v,p)}),wr(p)}function ia(d,p){var v=[],x=d.geometry;if(x!==null){switch(x.type){case"Polygon":v=Ci(x);break;case"LineString":v=[Ci(x)]}v.forEach(function(M){var P=bc(M,d.properties);P.forEach(function(B){B.id=p.length,p.push(B)})})}}function bc(d,p){var v=[];return d.reduce(function(x,M){var P=wo([x,M],p);return P.bbox=Pa(x,M),v.push(P),M}),v}function Pa(d,p){var v=d[0],x=d[1],M=p[0],P=p[1],B=v<M?v:M,R=x<P?x:P,j=v>M?v:M,q=x>P?x:P;return[B,R,j,q]}var gs=xc,to=f(_i(),1);function Md(d,p){var v={},x=[];if(d.type==="LineString"&&(d=bo(d)),p.type==="LineString"&&(p=bo(p)),d.type==="Feature"&&p.type==="Feature"&&d.geometry!==null&&p.geometry!==null&&d.geometry.type==="LineString"&&p.geometry.type==="LineString"&&d.geometry.coordinates.length===2&&p.geometry.coordinates.length===2){var M=no(d,p);return M&&x.push(M),wr(x)}var P=(0,to.default)();return P.load(gs(p)),dr(gs(d),function(B){dr(P.search(B),function(R){var j=no(B,R);if(j){var q=Ci(j).join(",");v[q]||(v[q]=!0,x.push(j))}})}),wr(x)}function no(d,p){var v=Ci(d),x=Ci(p);if(v.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(x.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var M=v[0][0],P=v[0][1],B=v[1][0],R=v[1][1],j=x[0][0],q=x[0][1],oe=x[1][0],re=x[1][1],Ee=(re-q)*(B-M)-(oe-j)*(R-P),Ae=(oe-j)*(P-q)-(re-q)*(M-j),Ve=(B-M)*(P-q)-(R-P)*(M-j);if(Ee===0)return null;var tt=Ae/Ee,lt=Ve/Ee;if(tt>=0&&tt<=1&&lt>=0&&lt<=1){var Wt=M+tt*(B-M),ie=P+tt*(R-P);return na([Wt,ie])}return null}var Li=Md,xu=f(_i(),1);function ll(d,p,v){v===void 0&&(v={});var x=Gr(d),M=Gr(p),P=Vr(M[1]-x[1]),B=Vr(M[0]-x[0]),R=Vr(x[1]),j=Vr(M[1]),q=Math.pow(Math.sin(P/2),2)+Math.pow(Math.sin(B/2),2)*Math.cos(R)*Math.cos(j);return kd(2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q)),v.units)}var si=ll;function Ir(d){var p=d[0],v=d[1],x=d[2],M=d[3],P=si(d.slice(0,2),[x,v]),B=si(d.slice(0,2),[p,M]);if(P>=B){var R=(v+M)/2;return[p,R-(x-p)/2,x,R+(x-p)/2]}else{var j=(p+x)/2;return[j-(M-v)/2,v,j+(M-v)/2,M]}}var Sd=Ir;function li(d){var p=[1/0,1/0,-1/0,-1/0];return _u(d,function(v){p[0]>v[0]&&(p[0]=v[0]),p[1]>v[1]&&(p[1]=v[1]),p[2]<v[0]&&(p[2]=v[0]),p[3]<v[1]&&(p[3]=v[1])}),p}li.default=li;var ys=li;function Ei(d,p){p===void 0&&(p={});var v=p.precision,x=p.coordinates,M=p.mutate;if(v=v==null||isNaN(v)?6:v,x=x==null||isNaN(x)?3:x,!d)throw new Error("<geojson> is required");if(typeof v!="number")throw new Error("<precision> must be a number");if(typeof x!="number")throw new Error("<coordinates> must be a number");(M===!1||M===void 0)&&(d=JSON.parse(JSON.stringify(d)));var P=Math.pow(10,v);return _u(d,function(B){Aa(B,P,x)}),d}function Aa(d,p,v){d.length>v&&d.splice(v,d.length);for(var x=0;x<d.length;x++)d[x]=Math.round(d[x]*p)/p;return d}var ul=Ei;function vs(d,p,v){if(v===void 0&&(v={}),v.final===!0)return _s(d,p);var x=Gr(d),M=Gr(p),P=Vr(x[0]),B=Vr(M[0]),R=Vr(x[1]),j=Vr(M[1]),q=Math.sin(B-P)*Math.cos(j),oe=Math.cos(R)*Math.sin(j)-Math.sin(R)*Math.cos(j)*Math.cos(B-P);return Cr(Math.atan2(q,oe))}function _s(d,p){var v=vs(p,d);return v=(v+180)%360,v}function xs(d,p,v,x){x===void 0&&(x={});var M=Gr(d),P=Vr(M[0]),B=Vr(M[1]),R=Vr(v),j=ra(p,x.units),q=Math.asin(Math.sin(B)*Math.cos(j)+Math.cos(B)*Math.sin(j)*Math.cos(R)),oe=P+Math.atan2(Math.sin(R)*Math.sin(j)*Math.cos(B),Math.cos(j)-Math.sin(B)*Math.sin(q)),re=Cr(oe),Ee=Cr(q);return na([re,Ee],x.properties)}function cl(d,p,v){v===void 0&&(v={});var x=na([1/0,1/0],{dist:1/0}),M=0;return ai(d,function(P){for(var B=Ci(P),R=0;R<B.length-1;R++){var j=na(B[R]);j.properties.dist=si(p,j,v);var q=na(B[R+1]);q.properties.dist=si(p,q,v);var oe=si(j,q,v),re=Math.max(j.properties.dist,q.properties.dist),Ee=vs(j,q),Ae=xs(p,re,Ee+90,v),Ve=xs(p,re,Ee-90,v),tt=Li(wo([Ae.geometry.coordinates,Ve.geometry.coordinates]),wo([j.geometry.coordinates,q.geometry.coordinates])),lt=null;tt.features.length>0&&(lt=tt.features[0],lt.properties.dist=si(p,lt,v),lt.properties.location=M+si(j,lt,v)),j.properties.dist<x.properties.dist&&(x=j,x.properties.index=R,x.properties.location=M),q.properties.dist<x.properties.dist&&(x=q,x.properties.index=R+1,x.properties.location=M+oe),lt&&lt.properties.dist<x.properties.dist&&(x=lt,x.properties.index=R),M+=oe}}),x}var Da=cl;function dl(d,p){if(!d)throw new Error("line is required");if(!p)throw new Error("splitter is required");var v=vu(d),x=vu(p);if(v!=="LineString")throw new Error("line must be LineString");if(x==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(x==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var M=ul(p,{precision:7});switch(x){case"Point":return hl(d,M);case"MultiPoint":return fl(d,M);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return fl(d,Li(d,M))}}function fl(d,p){var v=[],x=(0,xu.default)();return ai(p,function(M){if(v.forEach(function(R,j){R.id=j}),!v.length)v=hl(d,M).features,v.forEach(function(R){R.bbox||(R.bbox=Sd(ys(R)))}),x.load(wr(v));else{var P=x.search(M);if(P.features.length){var B=qr(M,P);v=v.filter(function(R){return R.id!==B.id}),x.remove(B),dr(hl(B,M),function(R){v.push(R),x.insert(R)})}}}),wr(v)}function hl(d,p){var v=[],x=Ci(d)[0],M=Ci(d)[d.geometry.coordinates.length-1];if(ki(x,Gr(p))||ki(M,Gr(p)))return wr([d]);var P=(0,xu.default)(),B=gs(d);P.load(B);var R=P.search(p);if(!R.features.length)return wr([d]);var j=qr(p,R),q=[x],oe=Co(B,function(re,Ee,Ae){var Ve=Ci(Ee)[1],tt=Gr(p);return Ae===j.id?(re.push(tt),v.push(wo(re)),ki(tt,Ve)?[tt]:[tt,Ve]):(re.push(Ve),re)},q);return oe.length>1&&v.push(wo(oe)),wr(v)}function qr(d,p){if(!p.features.length)throw new Error("lines must contain features");if(p.features.length===1)return p.features[0];var v,x=1/0;return dr(p,function(M){var P=Da(M,d),B=P.properties.dist;B<x&&(v=M,x=B)}),v}function ki(d,p){return d[0]===p[0]&&d[1]===p[1]}var wc=dl;function Ia(d,p,v){if(v===void 0&&(v={}),!d)throw new Error("point is required");if(!p)throw new Error("polygon is required");var x=Gr(d),M=sl(p),P=M.type,B=p.bbox,R=M.coordinates;if(B&&wu(x,B)===!1)return!1;P==="Polygon"&&(R=[R]);for(var j=!1,q=0;q<R.length&&!j;q++)if(bu(x,R[q][0],v.ignoreBoundary)){for(var oe=!1,re=1;re<R[q].length&&!oe;)bu(x,R[q][re],!v.ignoreBoundary)&&(oe=!0),re++;oe||(j=!0)}return j}function bu(d,p,v){var x=!1;p[0][0]===p[p.length-1][0]&&p[0][1]===p[p.length-1][1]&&(p=p.slice(0,p.length-1));for(var M=0,P=p.length-1;M<p.length;P=M++){var B=p[M][0],R=p[M][1],j=p[P][0],q=p[P][1],oe=d[1]*(B-j)+R*(j-d[0])+q*(d[0]-B)===0&&(B-d[0])*(j-d[0])<=0&&(R-d[1])*(q-d[1])<=0;if(oe)return!v;var re=R>d[1]!=q>d[1]&&d[0]<(j-B)*(d[1]-R)/(q-R)+B;re&&(x=!x)}return x}function wu(d,p){return p[0]<=d[0]&&p[1]<=d[1]&&p[2]>=d[0]&&p[3]>=d[1]}function Cu(d,p,v){v===void 0&&(v={});for(var x=Gr(d),M=Ci(p),P=0;P<M.length-1;P++){var B=!1;if(v.ignoreEndVertices&&(P===0&&(B="start"),P===M.length-2&&(B="end"),P===0&&P+1===M.length-1&&(B="both")),Mi(M[P],M[P+1],x,B,typeof v.epsilon>"u"?null:v.epsilon))return!0}return!1}function Mi(d,p,v,x,M){var P=v[0],B=v[1],R=d[0],j=d[1],q=p[0],oe=p[1],re=v[0]-R,Ee=v[1]-j,Ae=q-R,Ve=oe-j,tt=re*Ve-Ee*Ae;if(M!==null){if(Math.abs(tt)>M)return!1}else if(tt!==0)return!1;if(x){if(x==="start")return Math.abs(Ae)>=Math.abs(Ve)?Ae>0?R<P&&P<=q:q<=P&&P<R:Ve>0?j<B&&B<=oe:oe<=B&&B<j;if(x==="end")return Math.abs(Ae)>=Math.abs(Ve)?Ae>0?R<=P&&P<q:q<P&&P<=R:Ve>0?j<=B&&B<oe:oe<B&&B<=j;if(x==="both")return Math.abs(Ae)>=Math.abs(Ve)?Ae>0?R<P&&P<q:q<P&&P<R:Ve>0?j<B&&B<oe:oe<B&&B<j}else return Math.abs(Ae)>=Math.abs(Ve)?Ae>0?R<=P&&P<=q:q<=P&&P<=R:Ve>0?j<=B&&B<=oe:oe<=B&&B<=j;return!1}var Lo=Cu;function Oa(d,p){var v=sl(d),x=sl(p),M=v.type,P=x.type,B=v.coordinates,R=x.coordinates;switch(M){case"Point":switch(P){case"Point":return oa(B,R);default:throw new Error("feature2 "+P+" geometry not supported")}case"MultiPoint":switch(P){case"Point":return Ba(v,x);case"MultiPoint":return bs(v,x);default:throw new Error("feature2 "+P+" geometry not supported")}case"LineString":switch(P){case"Point":return Lo(x,v,{ignoreEndVertices:!0});case"LineString":return Eo(v,x);case"MultiPoint":return pl(v,x);default:throw new Error("feature2 "+P+" geometry not supported")}case"Polygon":switch(P){case"Point":return Ia(x,v,{ignoreBoundary:!0});case"LineString":return Na(v,x);case"Polygon":return ko(v,x);case"MultiPoint":return Cc(v,x);default:throw new Error("feature2 "+P+" geometry not supported")}default:throw new Error("feature1 "+M+" geometry not supported")}}function Ba(d,p){var v,x=!1;for(v=0;v<d.coordinates.length;v++)if(oa(d.coordinates[v],p.coordinates)){x=!0;break}return x}function bs(d,p){for(var v=0,x=p.coordinates;v<x.length;v++){for(var M=x[v],P=!1,B=0,R=d.coordinates;B<R.length;B++){var j=R[B];if(oa(M,j)){P=!0;break}}if(!P)return!1}return!0}function pl(d,p){for(var v=!1,x=0,M=p.coordinates;x<M.length;x++){var P=M[x];if(Lo(P,d,{ignoreEndVertices:!0})&&(v=!0),!Lo(P,d))return!1}return!!v}function Cc(d,p){for(var v=0,x=p.coordinates;v<x.length;v++){var M=x[v];if(!Ia(M,d,{ignoreBoundary:!0}))return!1}return!0}function Eo(d,p){for(var v=!1,x=0,M=p.coordinates;x<M.length;x++){var P=M[x];if(Lo({type:"Point",coordinates:P},d,{ignoreEndVertices:!0})&&(v=!0),!Lo({type:"Point",coordinates:P},d,{ignoreEndVertices:!1}))return!1}return v}function Na(d,p){var v=!1,x=0,M=ys(d),P=ys(p);if(!ml(M,P))return!1;for(x;x<p.coordinates.length-1;x++){var B=Lc(p.coordinates[x],p.coordinates[x+1]);if(Ia({type:"Point",coordinates:B},d,{ignoreBoundary:!0})){v=!0;break}}return v}function ko(d,p){if(d.type==="Feature"&&d.geometry===null||p.type==="Feature"&&p.geometry===null)return!1;var v=ys(d),x=ys(p);if(!ml(v,x))return!1;for(var M=sl(p).coordinates,P=0,B=M;P<B.length;P++)for(var R=B[P],j=0,q=R;j<q.length;j++){var oe=q[j];if(!Ia(oe,d))return!1}return!0}function ml(d,p){return!(d[0]>p[0]||d[2]<p[2]||d[1]>p[1]||d[3]<p[3])}function oa(d,p){return d[0]===p[0]&&d[1]===p[1]}function Lc(d,p){return[(d[0]+p[0])/2,(d[1]+p[1])/2]}var Si=f(_o()),gl=d=>()=>d,ws=d=>{let p=d?(v,x)=>x.minus(v).abs().isLessThanOrEqualTo(d):gl(!1);return(v,x)=>p(v,x)?0:v.comparedTo(x)};function Ra(d){let p=d?(v,x,M,P,B)=>v.exponentiatedBy(2).isLessThanOrEqualTo(P.minus(x).exponentiatedBy(2).plus(B.minus(M).exponentiatedBy(2)).times(d)):gl(!1);return(v,x,M)=>{let P=v.x,B=v.y,R=M.x,j=M.y,q=B.minus(j).times(x.x.minus(R)).minus(P.minus(R).times(x.y.minus(j)));return p(q,P,B,R,j)?0:q.comparedTo(0)}}var Ec=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Or=Math.ceil,Fn=Math.floor,Wn="[BigNumber Error] ",Lu=Wn+"Number primitive has more than 15 significant digits: ",ui=1e14,Tt=14,yl=9007199254740991,Cs=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Ti=1e7,Nt=1e9;function vl(d){var p,v,x,M=ie.prototype={constructor:ie,toString:null,valueOf:null},P=new ie(1),B=20,R=4,j=-7,q=21,oe=-1e7,re=1e7,Ee=!1,Ae=1,Ve=0,tt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},lt="0123456789abcdefghijklmnopqrstuvwxyz",Wt=!0;function ie(U,K){var J,Y,ee,Q,ce,de,pe,be,Ce=this;if(!(Ce instanceof ie))return new ie(U,K);if(K==null){if(U&&U._isBigNumber===!0){Ce.s=U.s,!U.c||U.e>re?Ce.c=Ce.e=null:U.e<oe?Ce.c=[Ce.e=0]:(Ce.e=U.e,Ce.c=U.c.slice());return}if((de=typeof U=="number")&&U*0==0){if(Ce.s=1/U<0?(U=-U,-1):1,U===~~U){for(Q=0,ce=U;ce>=10;ce/=10,Q++);Q>re?Ce.c=Ce.e=null:(Ce.e=Q,Ce.c=[U]);return}be=String(U)}else{if(!Ec.test(be=String(U)))return x(Ce,be,de);Ce.s=be.charCodeAt(0)==45?(be=be.slice(1),-1):1}(Q=be.indexOf("."))>-1&&(be=be.replace(".","")),(ce=be.search(/e/i))>0?(Q<0&&(Q=ce),Q+=+be.slice(ce+1),be=be.substring(0,ce)):Q<0&&(Q=be.length)}else{if(l(K,2,lt.length,"Base"),K==10&&Wt)return Ce=new ie(U),ye(Ce,B+Ce.e+1,R);if(be=String(U),de=typeof U=="number"){if(U*0!=0)return x(Ce,be,de,K);if(Ce.s=1/U<0?(be=be.slice(1),-1):1,ie.DEBUG&&be.replace(/^0\.0*|\./,"").length>15)throw Error(Lu+U)}else Ce.s=be.charCodeAt(0)===45?(be=be.slice(1),-1):1;for(J=lt.slice(0,K),Q=ce=0,pe=be.length;ce<pe;ce++)if(J.indexOf(Y=be.charAt(ce))<0){if(Y=="."){if(ce>Q){Q=pe;continue}}else if(!ee&&(be==be.toUpperCase()&&(be=be.toLowerCase())||be==be.toLowerCase()&&(be=be.toUpperCase()))){ee=!0,ce=-1,Q=0;continue}return x(Ce,String(U),de,K)}de=!1,be=v(be,K,10,Ce.s),(Q=be.indexOf("."))>-1?be=be.replace(".",""):Q=be.length}for(ce=0;be.charCodeAt(ce)===48;ce++);for(pe=be.length;be.charCodeAt(--pe)===48;);if(be=be.slice(ce,++pe)){if(pe-=ce,de&&ie.DEBUG&&pe>15&&(U>yl||U!==Fn(U)))throw Error(Lu+Ce.s*U);if((Q=Q-ce-1)>re)Ce.c=Ce.e=null;else if(Q<oe)Ce.c=[Ce.e=0];else{if(Ce.e=Q,Ce.c=[],ce=(Q+1)%Tt,Q<0&&(ce+=Tt),ce<pe){for(ce&&Ce.c.push(+be.slice(0,ce)),pe-=Tt;ce<pe;)Ce.c.push(+be.slice(ce,ce+=Tt));ce=Tt-(be=be.slice(ce)).length}else ce-=pe;for(;ce--;be+="0");Ce.c.push(+be)}}else Ce.c=[Ce.e=0]}ie.clone=vl,ie.ROUND_UP=0,ie.ROUND_DOWN=1,ie.ROUND_CEIL=2,ie.ROUND_FLOOR=3,ie.ROUND_HALF_UP=4,ie.ROUND_HALF_DOWN=5,ie.ROUND_HALF_EVEN=6,ie.ROUND_HALF_CEIL=7,ie.ROUND_HALF_FLOOR=8,ie.EUCLID=9,ie.config=ie.set=function(U){var K,J;if(U!=null)if(typeof U=="object"){if(U.hasOwnProperty(K="DECIMAL_PLACES")&&(J=U[K],l(J,0,Nt,K),B=J),U.hasOwnProperty(K="ROUNDING_MODE")&&(J=U[K],l(J,0,8,K),R=J),U.hasOwnProperty(K="EXPONENTIAL_AT")&&(J=U[K],J&&J.pop?(l(J[0],-Nt,0,K),l(J[1],0,Nt,K),j=J[0],q=J[1]):(l(J,-Nt,Nt,K),j=-(q=J<0?-J:J))),U.hasOwnProperty(K="RANGE"))if(J=U[K],J&&J.pop)l(J[0],-Nt,-1,K),l(J[1],1,Nt,K),oe=J[0],re=J[1];else if(l(J,-Nt,Nt,K),J)oe=-(re=J<0?-J:J);else throw Error(Wn+K+" cannot be zero: "+J);if(U.hasOwnProperty(K="CRYPTO"))if(J=U[K],J===!!J)if(J)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Ee=J;else throw Ee=!J,Error(Wn+"crypto unavailable");else Ee=J;else throw Error(Wn+K+" not true or false: "+J);if(U.hasOwnProperty(K="MODULO_MODE")&&(J=U[K],l(J,0,9,K),Ae=J),U.hasOwnProperty(K="POW_PRECISION")&&(J=U[K],l(J,0,Nt,K),Ve=J),U.hasOwnProperty(K="FORMAT"))if(J=U[K],typeof J=="object")tt=J;else throw Error(Wn+K+" not an object: "+J);if(U.hasOwnProperty(K="ALPHABET"))if(J=U[K],typeof J=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(J))Wt=J.slice(0,10)=="0123456789",lt=J;else throw Error(Wn+K+" invalid: "+J)}else throw Error(Wn+"Object expected: "+U);return{DECIMAL_PLACES:B,ROUNDING_MODE:R,EXPONENTIAL_AT:[j,q],RANGE:[oe,re],CRYPTO:Ee,MODULO_MODE:Ae,POW_PRECISION:Ve,FORMAT:tt,ALPHABET:lt}},ie.isBigNumber=function(U){if(!U||U._isBigNumber!==!0)return!1;if(!ie.DEBUG)return!0;var K,J,Y=U.c,ee=U.e,Q=U.s;e:if({}.toString.call(Y)=="[object Array]"){if((Q===1||Q===-1)&&ee>=-Nt&&ee<=Nt&&ee===Fn(ee)){if(Y[0]===0){if(ee===0&&Y.length===1)return!0;break e}if(K=(ee+1)%Tt,K<1&&(K+=Tt),String(Y[0]).length==K){for(K=0;K<Y.length;K++)if(J=Y[K],J<0||J>=ui||J!==Fn(J))break e;if(J!==0)return!0}}}else if(Y===null&&ee===null&&(Q===null||Q===1||Q===-1))return!0;throw Error(Wn+"Invalid BigNumber: "+U)},ie.maximum=ie.max=function(){return me(arguments,-1)},ie.minimum=ie.min=function(){return me(arguments,1)},ie.random=function(){var U=9007199254740992,K=Math.random()*U&2097151?function(){return Fn(Math.random()*U)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(J){var Y,ee,Q,ce,de,pe=0,be=[],Ce=new ie(P);if(J==null?J=B:l(J,0,Nt),ce=Or(J/Tt),Ee)if(crypto.getRandomValues){for(Y=crypto.getRandomValues(new Uint32Array(ce*=2));pe<ce;)de=Y[pe]*131072+(Y[pe+1]>>>11),de>=9e15?(ee=crypto.getRandomValues(new Uint32Array(2)),Y[pe]=ee[0],Y[pe+1]=ee[1]):(be.push(de%1e14),pe+=2);pe=ce/2}else if(crypto.randomBytes){for(Y=crypto.randomBytes(ce*=7);pe<ce;)de=(Y[pe]&31)*281474976710656+Y[pe+1]*1099511627776+Y[pe+2]*4294967296+Y[pe+3]*16777216+(Y[pe+4]<<16)+(Y[pe+5]<<8)+Y[pe+6],de>=9e15?crypto.randomBytes(7).copy(Y,pe):(be.push(de%1e14),pe+=7);pe=ce/7}else throw Ee=!1,Error(Wn+"crypto unavailable");if(!Ee)for(;pe<ce;)de=K(),de<9e15&&(be[pe++]=de%1e14);for(ce=be[--pe],J%=Tt,ce&&J&&(de=Cs[Tt-J],be[pe]=Fn(ce/de)*de);be[pe]===0;be.pop(),pe--);if(pe<0)be=[Q=0];else{for(Q=-1;be[0]===0;be.splice(0,1),Q-=Tt);for(pe=1,de=be[0];de>=10;de/=10,pe++);pe<Tt&&(Q-=Tt-pe)}return Ce.e=Q,Ce.c=be,Ce}}(),ie.sum=function(){for(var U=1,K=arguments,J=new ie(K[0]);U<K.length;)J=J.plus(K[U++]);return J},v=function(){var U="0123456789";function K(J,Y,ee,Q){for(var ce,de=[0],pe,be=0,Ce=J.length;be<Ce;){for(pe=de.length;pe--;de[pe]*=Y);for(de[0]+=Q.indexOf(J.charAt(be++)),ce=0;ce<de.length;ce++)de[ce]>ee-1&&(de[ce+1]==null&&(de[ce+1]=0),de[ce+1]+=de[ce]/ee|0,de[ce]%=ee)}return de.reverse()}return function(J,Y,ee,Q,ce){var de,pe,be,Ce,Fe,rt,ct,xt,Kt=J.indexOf("."),rn=B,Gt=R;for(Kt>=0&&(Ce=Ve,Ve=0,J=J.replace(".",""),xt=new ie(Y),rt=xt.pow(J.length-Kt),Ve=Ce,xt.c=K(T(Zn(rt.c),rt.e,"0"),10,ee,U),xt.e=xt.c.length),ct=K(J,Y,ee,ce?(de=lt,U):(de=U,lt)),be=Ce=ct.length;ct[--Ce]==0;ct.pop());if(!ct[0])return de.charAt(0);if(Kt<0?--be:(rt.c=ct,rt.e=be,rt.s=Q,rt=p(rt,xt,rn,Gt,ee),ct=rt.c,Fe=rt.r,be=rt.e),pe=be+rn+1,Kt=ct[pe],Ce=ee/2,Fe=Fe||pe<0||ct[pe+1]!=null,Fe=Gt<4?(Kt!=null||Fe)&&(Gt==0||Gt==(rt.s<0?3:2)):Kt>Ce||Kt==Ce&&(Gt==4||Fe||Gt==6&&ct[pe-1]&1||Gt==(rt.s<0?8:7)),pe<1||!ct[0])J=Fe?T(de.charAt(1),-rn,de.charAt(0)):de.charAt(0);else{if(ct.length=pe,Fe)for(--ee;++ct[--pe]>ee;)ct[pe]=0,pe||(++be,ct=[1].concat(ct));for(Ce=ct.length;!ct[--Ce];);for(Kt=0,J="";Kt<=Ce;J+=de.charAt(ct[Kt++]));J=T(J,be,de.charAt(0))}return J}}(),p=function(){function U(Y,ee,Q){var ce,de,pe,be,Ce=0,Fe=Y.length,rt=ee%Ti,ct=ee/Ti|0;for(Y=Y.slice();Fe--;)pe=Y[Fe]%Ti,be=Y[Fe]/Ti|0,ce=ct*pe+be*rt,de=rt*pe+ce%Ti*Ti+Ce,Ce=(de/Q|0)+(ce/Ti|0)+ct*be,Y[Fe]=de%Q;return Ce&&(Y=[Ce].concat(Y)),Y}function K(Y,ee,Q,ce){var de,pe;if(Q!=ce)pe=Q>ce?1:-1;else for(de=pe=0;de<Q;de++)if(Y[de]!=ee[de]){pe=Y[de]>ee[de]?1:-1;break}return pe}function J(Y,ee,Q,ce){for(var de=0;Q--;)Y[Q]-=de,de=Y[Q]<ee[Q]?1:0,Y[Q]=de*ce+Y[Q]-ee[Q];for(;!Y[0]&&Y.length>1;Y.splice(0,1));}return function(Y,ee,Q,ce,de){var pe,be,Ce,Fe,rt,ct,xt,Kt,rn,Gt,ln,rr,pn,Ll,ku,Bi,Ua,Hr=Y.s==ee.s?1:-1,Bn=Y.c,jt=ee.c;if(!Bn||!Bn[0]||!jt||!jt[0])return new ie(!Y.s||!ee.s||(Bn?jt&&Bn[0]==jt[0]:!jt)?NaN:Bn&&Bn[0]==0||!jt?Hr*0:Hr/0);for(Kt=new ie(Hr),rn=Kt.c=[],be=Y.e-ee.e,Hr=Q+be+1,de||(de=ui,be=nr(Y.e/Tt)-nr(ee.e/Tt),Hr=Hr/Tt|0),Ce=0;jt[Ce]==(Bn[Ce]||0);Ce++);if(jt[Ce]>(Bn[Ce]||0)&&be--,Hr<0)rn.push(1),Fe=!0;else{for(Ll=Bn.length,Bi=jt.length,Ce=0,Hr+=2,rt=Fn(de/(jt[0]+1)),rt>1&&(jt=U(jt,rt,de),Bn=U(Bn,rt,de),Bi=jt.length,Ll=Bn.length),pn=Bi,Gt=Bn.slice(0,Bi),ln=Gt.length;ln<Bi;Gt[ln++]=0);Ua=jt.slice(),Ua=[0].concat(Ua),ku=jt[0],jt[1]>=de/2&&ku++;do{if(rt=0,pe=K(jt,Gt,Bi,ln),pe<0){if(rr=Gt[0],Bi!=ln&&(rr=rr*de+(Gt[1]||0)),rt=Fn(rr/ku),rt>1)for(rt>=de&&(rt=de-1),ct=U(jt,rt,de),xt=ct.length,ln=Gt.length;K(ct,Gt,xt,ln)==1;)rt--,J(ct,Bi<xt?Ua:jt,xt,de),xt=ct.length,pe=1;else rt==0&&(pe=rt=1),ct=jt.slice(),xt=ct.length;if(xt<ln&&(ct=[0].concat(ct)),J(Gt,ct,ln,de),ln=Gt.length,pe==-1)for(;K(jt,Gt,Bi,ln)<1;)rt++,J(Gt,Bi<ln?Ua:jt,ln,de),ln=Gt.length}else pe===0&&(rt++,Gt=[0]);rn[Ce++]=rt,Gt[0]?Gt[ln++]=Bn[pn]||0:(Gt=[Bn[pn]],ln=1)}while((pn++<Ll||Gt[0]!=null)&&Hr--);Fe=Gt[0]!=null,rn[0]||rn.splice(0,1)}if(de==ui){for(Ce=1,Hr=rn[0];Hr>=10;Hr/=10,Ce++);ye(Kt,Q+(Kt.e=Ce+be*Tt-1)+1,ce,Fe)}else Kt.e=be,Kt.r=+Fe;return Kt}}();function ue(U,K,J,Y){var ee,Q,ce,de,pe;if(J==null?J=R:l(J,0,8),!U.c)return U.toString();if(ee=U.c[0],ce=U.e,K==null)pe=Zn(U.c),pe=Y==1||Y==2&&(ce<=j||ce>=q)?C(pe,ce):T(pe,ce,"0");else if(U=ye(new ie(U),K,J),Q=U.e,pe=Zn(U.c),de=pe.length,Y==1||Y==2&&(K<=Q||Q<=j)){for(;de<K;pe+="0",de++);pe=C(pe,Q)}else if(K-=ce,pe=T(pe,Q,"0"),Q+1>de){if(--K>0)for(pe+=".";K--;pe+="0");}else if(K+=Q-de,K>0)for(Q+1==de&&(pe+=".");K--;pe+="0");return U.s<0&&ee?"-"+pe:pe}function me(U,K){for(var J,Y,ee=1,Q=new ie(U[0]);ee<U.length;ee++)Y=new ie(U[ee]),(!Y.s||(J=Mo(Q,Y))===K||J===0&&Q.s===K)&&(Q=Y);return Q}function Se(U,K,J){for(var Y=1,ee=K.length;!K[--ee];K.pop());for(ee=K[0];ee>=10;ee/=10,Y++);return(J=Y+J*Tt-1)>re?U.c=U.e=null:J<oe?U.c=[U.e=0]:(U.e=J,U.c=K),U}x=function(){var U=/^(-?)0([xbo])(?=\w[\w.]*$)/i,K=/^([^.]+)\.$/,J=/^\.([^.]+)$/,Y=/^-?(Infinity|NaN)$/,ee=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Q,ce,de,pe){var be,Ce=de?ce:ce.replace(ee,"");if(Y.test(Ce))Q.s=isNaN(Ce)?null:Ce<0?-1:1;else{if(!de&&(Ce=Ce.replace(U,function(Fe,rt,ct){return be=(ct=ct.toLowerCase())=="x"?16:ct=="b"?2:8,!pe||pe==be?rt:Fe}),pe&&(be=pe,Ce=Ce.replace(K,"$1").replace(J,"0.$1")),ce!=Ce))return new ie(Ce,be);if(ie.DEBUG)throw Error(Wn+"Not a"+(pe?" base "+pe:"")+" number: "+ce);Q.s=null}Q.c=Q.e=null}}();function ye(U,K,J,Y){var ee,Q,ce,de,pe,be,Ce,Fe=U.c,rt=Cs;if(Fe){e:{for(ee=1,de=Fe[0];de>=10;de/=10,ee++);if(Q=K-ee,Q<0)Q+=Tt,ce=K,pe=Fe[be=0],Ce=Fn(pe/rt[ee-ce-1]%10);else if(be=Or((Q+1)/Tt),be>=Fe.length)if(Y){for(;Fe.length<=be;Fe.push(0));pe=Ce=0,ee=1,Q%=Tt,ce=Q-Tt+1}else break e;else{for(pe=de=Fe[be],ee=1;de>=10;de/=10,ee++);Q%=Tt,ce=Q-Tt+ee,Ce=ce<0?0:Fn(pe/rt[ee-ce-1]%10)}if(Y=Y||K<0||Fe[be+1]!=null||(ce<0?pe:pe%rt[ee-ce-1]),Y=J<4?(Ce||Y)&&(J==0||J==(U.s<0?3:2)):Ce>5||Ce==5&&(J==4||Y||J==6&&(Q>0?ce>0?pe/rt[ee-ce]:0:Fe[be-1])%10&1||J==(U.s<0?8:7)),K<1||!Fe[0])return Fe.length=0,Y?(K-=U.e+1,Fe[0]=rt[(Tt-K%Tt)%Tt],U.e=-K||0):Fe[0]=U.e=0,U;if(Q==0?(Fe.length=be,de=1,be--):(Fe.length=be+1,de=rt[Tt-Q],Fe[be]=ce>0?Fn(pe/rt[ee-ce]%rt[ce])*de:0),Y)for(;;)if(be==0){for(Q=1,ce=Fe[0];ce>=10;ce/=10,Q++);for(ce=Fe[0]+=de,de=1;ce>=10;ce/=10,de++);Q!=de&&(U.e++,Fe[0]==ui&&(Fe[0]=1));break}else{if(Fe[be]+=de,Fe[be]!=ui)break;Fe[be--]=0,de=1}for(Q=Fe.length;Fe[--Q]===0;Fe.pop());}U.e>re?U.c=U.e=null:U.e<oe&&(U.c=[U.e=0])}return U}function Te(U){var K,J=U.e;return J===null?U.toString():(K=Zn(U.c),K=J<=j||J>=q?C(K,J):T(K,J,"0"),U.s<0?"-"+K:K)}return M.absoluteValue=M.abs=function(){var U=new ie(this);return U.s<0&&(U.s=1),U},M.comparedTo=function(U,K){return Mo(this,new ie(U,K))},M.decimalPlaces=M.dp=function(U,K){var J,Y,ee,Q=this;if(U!=null)return l(U,0,Nt),K==null?K=R:l(K,0,8),ye(new ie(Q),U+Q.e+1,K);if(!(J=Q.c))return null;if(Y=((ee=J.length-1)-nr(this.e/Tt))*Tt,ee=J[ee])for(;ee%10==0;ee/=10,Y--);return Y<0&&(Y=0),Y},M.dividedBy=M.div=function(U,K){return p(this,new ie(U,K),B,R)},M.dividedToIntegerBy=M.idiv=function(U,K){return p(this,new ie(U,K),0,1)},M.exponentiatedBy=M.pow=function(U,K){var J,Y,ee,Q,ce,de,pe,be,Ce,Fe=this;if(U=new ie(U),U.c&&!U.isInteger())throw Error(Wn+"Exponent not an integer: "+Te(U));if(K!=null&&(K=new ie(K)),de=U.e>14,!Fe.c||!Fe.c[0]||Fe.c[0]==1&&!Fe.e&&Fe.c.length==1||!U.c||!U.c[0])return Ce=new ie(Math.pow(+Te(Fe),de?U.s*(2-g(U)):+Te(U))),K?Ce.mod(K):Ce;if(pe=U.s<0,K){if(K.c?!K.c[0]:!K.s)return new ie(NaN);Y=!pe&&Fe.isInteger()&&K.isInteger(),Y&&(Fe=Fe.mod(K))}else{if(U.e>9&&(Fe.e>0||Fe.e<-1||(Fe.e==0?Fe.c[0]>1||de&&Fe.c[1]>=24e7:Fe.c[0]<8e13||de&&Fe.c[0]<=9999975e7)))return Q=Fe.s<0&&g(U)?-0:0,Fe.e>-1&&(Q=1/Q),new ie(pe?1/Q:Q);Ve&&(Q=Or(Ve/Tt+2))}for(de?(J=new ie(.5),pe&&(U.s=1),be=g(U)):(ee=Math.abs(+Te(U)),be=ee%2),Ce=new ie(P);;){if(be){if(Ce=Ce.times(Fe),!Ce.c)break;Q?Ce.c.length>Q&&(Ce.c.length=Q):Y&&(Ce=Ce.mod(K))}if(ee){if(ee=Fn(ee/2),ee===0)break;be=ee%2}else if(U=U.times(J),ye(U,U.e+1,1),U.e>14)be=g(U);else{if(ee=+Te(U),ee===0)break;be=ee%2}Fe=Fe.times(Fe),Q?Fe.c&&Fe.c.length>Q&&(Fe.c.length=Q):Y&&(Fe=Fe.mod(K))}return Y?Ce:(pe&&(Ce=P.div(Ce)),K?Ce.mod(K):Q?ye(Ce,Ve,R,ce):Ce)},M.integerValue=function(U){var K=new ie(this);return U==null?U=R:l(U,0,8),ye(K,K.e+1,U)},M.isEqualTo=M.eq=function(U,K){return Mo(this,new ie(U,K))===0},M.isFinite=function(){return!!this.c},M.isGreaterThan=M.gt=function(U,K){return Mo(this,new ie(U,K))>0},M.isGreaterThanOrEqualTo=M.gte=function(U,K){return(K=Mo(this,new ie(U,K)))===1||K===0},M.isInteger=function(){return!!this.c&&nr(this.e/Tt)>this.c.length-2},M.isLessThan=M.lt=function(U,K){return Mo(this,new ie(U,K))<0},M.isLessThanOrEqualTo=M.lte=function(U,K){return(K=Mo(this,new ie(U,K)))===-1||K===0},M.isNaN=function(){return!this.s},M.isNegative=function(){return this.s<0},M.isPositive=function(){return this.s>0},M.isZero=function(){return!!this.c&&this.c[0]==0},M.minus=function(U,K){var J,Y,ee,Q,ce=this,de=ce.s;if(U=new ie(U,K),K=U.s,!de||!K)return new ie(NaN);if(de!=K)return U.s=-K,ce.plus(U);var pe=ce.e/Tt,be=U.e/Tt,Ce=ce.c,Fe=U.c;if(!pe||!be){if(!Ce||!Fe)return Ce?(U.s=-K,U):new ie(Fe?ce:NaN);if(!Ce[0]||!Fe[0])return Fe[0]?(U.s=-K,U):new ie(Ce[0]?ce:R==3?-0:0)}if(pe=nr(pe),be=nr(be),Ce=Ce.slice(),de=pe-be){for((Q=de<0)?(de=-de,ee=Ce):(be=pe,ee=Fe),ee.reverse(),K=de;K--;ee.push(0));ee.reverse()}else for(Y=(Q=(de=Ce.length)<(K=Fe.length))?de:K,de=K=0;K<Y;K++)if(Ce[K]!=Fe[K]){Q=Ce[K]<Fe[K];break}if(Q&&(ee=Ce,Ce=Fe,Fe=ee,U.s=-U.s),K=(Y=Fe.length)-(J=Ce.length),K>0)for(;K--;Ce[J++]=0);for(K=ui-1;Y>de;){if(Ce[--Y]<Fe[Y]){for(J=Y;J&&!Ce[--J];Ce[J]=K);--Ce[J],Ce[Y]+=ui}Ce[Y]-=Fe[Y]}for(;Ce[0]==0;Ce.splice(0,1),--be);return Ce[0]?Se(U,Ce,be):(U.s=R==3?-1:1,U.c=[U.e=0],U)},M.modulo=M.mod=function(U,K){var J,Y,ee=this;return U=new ie(U,K),!ee.c||!U.s||U.c&&!U.c[0]?new ie(NaN):!U.c||ee.c&&!ee.c[0]?new ie(ee):(Ae==9?(Y=U.s,U.s=1,J=p(ee,U,0,3),U.s=Y,J.s*=Y):J=p(ee,U,0,Ae),U=ee.minus(J.times(U)),!U.c[0]&&Ae==1&&(U.s=ee.s),U)},M.multipliedBy=M.times=function(U,K){var J,Y,ee,Q,ce,de,pe,be,Ce,Fe,rt,ct,xt,Kt,rn,Gt=this,ln=Gt.c,rr=(U=new ie(U,K)).c;if(!ln||!rr||!ln[0]||!rr[0])return!Gt.s||!U.s||ln&&!ln[0]&&!rr||rr&&!rr[0]&&!ln?U.c=U.e=U.s=null:(U.s*=Gt.s,!ln||!rr?U.c=U.e=null:(U.c=[0],U.e=0)),U;for(Y=nr(Gt.e/Tt)+nr(U.e/Tt),U.s*=Gt.s,pe=ln.length,Fe=rr.length,pe<Fe&&(xt=ln,ln=rr,rr=xt,ee=pe,pe=Fe,Fe=ee),ee=pe+Fe,xt=[];ee--;xt.push(0));for(Kt=ui,rn=Ti,ee=Fe;--ee>=0;){for(J=0,rt=rr[ee]%rn,ct=rr[ee]/rn|0,ce=pe,Q=ee+ce;Q>ee;)be=ln[--ce]%rn,Ce=ln[ce]/rn|0,de=ct*be+Ce*rt,be=rt*be+de%rn*rn+xt[Q]+J,J=(be/Kt|0)+(de/rn|0)+ct*Ce,xt[Q--]=be%Kt;xt[Q]=J}return J?++Y:xt.splice(0,1),Se(U,xt,Y)},M.negated=function(){var U=new ie(this);return U.s=-U.s||null,U},M.plus=function(U,K){var J,Y=this,ee=Y.s;if(U=new ie(U,K),K=U.s,!ee||!K)return new ie(NaN);if(ee!=K)return U.s=-K,Y.minus(U);var Q=Y.e/Tt,ce=U.e/Tt,de=Y.c,pe=U.c;if(!Q||!ce){if(!de||!pe)return new ie(ee/0);if(!de[0]||!pe[0])return pe[0]?U:new ie(de[0]?Y:ee*0)}if(Q=nr(Q),ce=nr(ce),de=de.slice(),ee=Q-ce){for(ee>0?(ce=Q,J=pe):(ee=-ee,J=de),J.reverse();ee--;J.push(0));J.reverse()}for(ee=de.length,K=pe.length,ee-K<0&&(J=pe,pe=de,de=J,K=ee),ee=0;K;)ee=(de[--K]=de[K]+pe[K]+ee)/ui|0,de[K]=ui===de[K]?0:de[K]%ui;return ee&&(de=[ee].concat(de),++ce),Se(U,de,ce)},M.precision=M.sd=function(U,K){var J,Y,ee,Q=this;if(U!=null&&U!==!!U)return l(U,1,Nt),K==null?K=R:l(K,0,8),ye(new ie(Q),U,K);if(!(J=Q.c))return null;if(ee=J.length-1,Y=ee*Tt+1,ee=J[ee]){for(;ee%10==0;ee/=10,Y--);for(ee=J[0];ee>=10;ee/=10,Y++);}return U&&Q.e+1>Y&&(Y=Q.e+1),Y},M.shiftedBy=function(U){return l(U,-yl,yl),this.times("1e"+U)},M.squareRoot=M.sqrt=function(){var U,K,J,Y,ee,Q=this,ce=Q.c,de=Q.s,pe=Q.e,be=B+4,Ce=new ie("0.5");if(de!==1||!ce||!ce[0])return new ie(!de||de<0&&(!ce||ce[0])?NaN:ce?Q:1/0);if(de=Math.sqrt(+Te(Q)),de==0||de==1/0?(K=Zn(ce),(K.length+pe)%2==0&&(K+="0"),de=Math.sqrt(+K),pe=nr((pe+1)/2)-(pe<0||pe%2),de==1/0?K="5e"+pe:(K=de.toExponential(),K=K.slice(0,K.indexOf("e")+1)+pe),J=new ie(K)):J=new ie(de+""),J.c[0]){for(pe=J.e,de=pe+be,de<3&&(de=0);;)if(ee=J,J=Ce.times(ee.plus(p(Q,ee,be,1))),Zn(ee.c).slice(0,de)===(K=Zn(J.c)).slice(0,de))if(J.e<pe&&--de,K=K.slice(de-3,de+1),K=="9999"||!Y&&K=="4999"){if(!Y&&(ye(ee,ee.e+B+2,0),ee.times(ee).eq(Q))){J=ee;break}be+=4,de+=4,Y=1}else{(!+K||!+K.slice(1)&&K.charAt(0)=="5")&&(ye(J,J.e+B+2,1),U=!J.times(J).eq(Q));break}}return ye(J,J.e+B+1,R,U)},M.toExponential=function(U,K){return U!=null&&(l(U,0,Nt),U++),ue(this,U,K,1)},M.toFixed=function(U,K){return U!=null&&(l(U,0,Nt),U=U+this.e+1),ue(this,U,K)},M.toFormat=function(U,K,J){var Y,ee=this;if(J==null)U!=null&&K&&typeof K=="object"?(J=K,K=null):U&&typeof U=="object"?(J=U,U=K=null):J=tt;else if(typeof J!="object")throw Error(Wn+"Argument not an object: "+J);if(Y=ee.toFixed(U,K),ee.c){var Q,ce=Y.split("."),de=+J.groupSize,pe=+J.secondaryGroupSize,be=J.groupSeparator||"",Ce=ce[0],Fe=ce[1],rt=ee.s<0,ct=rt?Ce.slice(1):Ce,xt=ct.length;if(pe&&(Q=de,de=pe,pe=Q,xt-=Q),de>0&&xt>0){for(Q=xt%de||de,Ce=ct.substr(0,Q);Q<xt;Q+=de)Ce+=be+ct.substr(Q,de);pe>0&&(Ce+=be+ct.slice(Q)),rt&&(Ce="-"+Ce)}Y=Fe?Ce+(J.decimalSeparator||"")+((pe=+J.fractionGroupSize)?Fe.replace(new RegExp("\\d{"+pe+"}\\B","g"),"$&"+(J.fractionGroupSeparator||"")):Fe):Ce}return(J.prefix||"")+Y+(J.suffix||"")},M.toFraction=function(U){var K,J,Y,ee,Q,ce,de,pe,be,Ce,Fe,rt,ct=this,xt=ct.c;if(U!=null&&(de=new ie(U),!de.isInteger()&&(de.c||de.s!==1)||de.lt(P)))throw Error(Wn+"Argument "+(de.isInteger()?"out of range: ":"not an integer: ")+Te(de));if(!xt)return new ie(ct);for(K=new ie(P),be=J=new ie(P),Y=pe=new ie(P),rt=Zn(xt),Q=K.e=rt.length-ct.e-1,K.c[0]=Cs[(ce=Q%Tt)<0?Tt+ce:ce],U=!U||de.comparedTo(K)>0?Q>0?K:be:de,ce=re,re=1/0,de=new ie(rt),pe.c[0]=0;Ce=p(de,K,0,1),ee=J.plus(Ce.times(Y)),ee.comparedTo(U)!=1;)J=Y,Y=ee,be=pe.plus(Ce.times(ee=be)),pe=ee,K=de.minus(Ce.times(ee=K)),de=ee;return ee=p(U.minus(J),Y,0,1),pe=pe.plus(ee.times(be)),J=J.plus(ee.times(Y)),pe.s=be.s=ct.s,Q=Q*2,Fe=p(be,Y,Q,R).minus(ct).abs().comparedTo(p(pe,J,Q,R).minus(ct).abs())<1?[be,Y]:[pe,J],re=ce,Fe},M.toNumber=function(){return+Te(this)},M.toPrecision=function(U,K){return U!=null&&l(U,1,Nt),ue(this,U,K,2)},M.toString=function(U){var K,J=this,Y=J.s,ee=J.e;return ee===null?Y?(K="Infinity",Y<0&&(K="-"+K)):K="NaN":(U==null?K=ee<=j||ee>=q?C(Zn(J.c),ee):T(Zn(J.c),ee,"0"):U===10&&Wt?(J=ye(new ie(J),B+ee+1,R),K=T(Zn(J.c),J.e,"0")):(l(U,2,lt.length,"Base"),K=v(T(Zn(J.c),ee,"0"),10,U,Y,!0)),Y<0&&J.c[0]&&(K="-"+K)),K},M.valueOf=M.toJSON=function(){return Te(this)},M._isBigNumber=!0,M[Symbol.toStringTag]="BigNumber",M[Symbol.for("nodejs.util.inspect.custom")]=M.valueOf,d!=null&&ie.set(d),ie}function nr(d){var p=d|0;return d>0||d===p?p:p-1}function Zn(d){for(var p,v,x=1,M=d.length,P=d[0]+"";x<M;){for(p=d[x++]+"",v=Tt-p.length;v--;p="0"+p);P+=p}for(M=P.length;P.charCodeAt(--M)===48;);return P.slice(0,M+1||1)}function Mo(d,p){var v,x,M=d.c,P=p.c,B=d.s,R=p.s,j=d.e,q=p.e;if(!B||!R)return null;if(v=M&&!M[0],x=P&&!P[0],v||x)return v?x?0:-R:B;if(B!=R)return B;if(v=B<0,x=j==q,!M||!P)return x?0:!M^v?1:-1;if(!x)return j>q^v?1:-1;for(R=(j=M.length)<(q=P.length)?j:q,B=0;B<R;B++)if(M[B]!=P[B])return M[B]>P[B]^v?1:-1;return j==q?0:j>q^v?1:-1}function l(d,p,v,x){if(d<p||d>v||d!==Fn(d))throw Error(Wn+(x||"Argument")+(typeof d=="number"?d<p||d>v?" out of range: ":" not an integer: ":" not a primitive number: ")+String(d))}function g(d){var p=d.c.length-1;return nr(d.e/Tt)==p&&d.c[p]%2!=0}function C(d,p){return(d.length>1?d.charAt(0)+"."+d.slice(1):d)+(p<0?"e":"e+")+p}function T(d,p,v){var x,M;if(p<0){for(M=v+".";++p;M+=v);d=M+d}else if(x=d.length,++p>x){for(M=v,p-=x;--p;M+=v);d+=M}else p<x&&(d=d.slice(0,p)+"."+d.slice(p));return d}var F=vl(),W=F,le=class{constructor(d){Lt(this,"key");Lt(this,"left",null);Lt(this,"right",null);this.key=d}},we=class extends le{constructor(d){super(d)}},Oe=class{constructor(){Lt(this,"size",0);Lt(this,"modificationCount",0);Lt(this,"splayCount",0)}splay(d){let p=this.root;if(p==null)return this.compare(d,d),-1;let v=null,x=null,M=null,P=null,B=p,R=this.compare,j;for(;;)if(j=R(B.key,d),j>0){let q=B.left;if(q==null||(j=R(q.key,d),j>0&&(B.left=q.right,q.right=B,B=q,q=B.left,q==null)))break;v==null?x=B:v.left=B,v=B,B=q}else if(j<0){let q=B.right;if(q==null||(j=R(q.key,d),j<0&&(B.right=q.left,q.left=B,B=q,q=B.right,q==null)))break;M==null?P=B:M.right=B,M=B,B=q}else break;return M!=null&&(M.right=B.left,B.left=P),v!=null&&(v.left=B.right,B.right=x),this.root!==B&&(this.root=B,this.splayCount++),j}splayMin(d){let p=d,v=p.left;for(;v!=null;){let x=v;p.left=x.right,x.right=p,p=x,v=p.left}return p}splayMax(d){let p=d,v=p.right;for(;v!=null;){let x=v;p.right=x.left,x.left=p,p=x,v=p.right}return p}_delete(d){if(this.root==null||this.splay(d)!=0)return null;let p=this.root,v=p,x=p.left;if(this.size--,x==null)this.root=p.right;else{let M=p.right;p=this.splayMax(x),p.right=M,this.root=p}return this.modificationCount++,v}addNewRoot(d,p){this.size++,this.modificationCount++;let v=this.root;if(v==null){this.root=d;return}p<0?(d.left=v,d.right=v.right,v.right=null):(d.right=v,d.left=v.left,v.left=null),this.root=d}_first(){let d=this.root;return d==null?null:(this.root=this.splayMin(d),this.root)}_last(){let d=this.root;return d==null?null:(this.root=this.splayMax(d),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(d){return this.validKey(d)&&this.splay(d)==0}defaultCompare(){return(d,p)=>d<p?-1:d>p?1:0}wrap(){return{getRoot:()=>this.root,setRoot:d=>{this.root=d},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:d=>{this.splayCount=d},splay:d=>this.splay(d),has:d=>this.has(d)}}},ze=class cf extends Oe{constructor(v,x){super();Lt(this,"root",null);Lt(this,"compare");Lt(this,"validKey");Lt(this,Bd,"[object Set]");this.compare=v??this.defaultCompare(),this.validKey=x??(M=>M!=null&&M!=null)}delete(v){return this.validKey(v)?this._delete(v)!=null:!1}deleteAll(v){for(let x of v)this.delete(x)}forEach(v){let x=this[Symbol.iterator](),M;for(;M=x.next(),!M.done;)v(M.value,M.value,this)}add(v){let x=this.splay(v);return x!=0&&this.addNewRoot(new we(v),x),this}addAndReturn(v){let x=this.splay(v);return x!=0&&this.addNewRoot(new we(v),x),this.root.key}addAll(v){for(let x of v)this.add(x)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(v){if(v==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(v)<0)return this.root.key;let x=this.root.left;if(x==null)return null;let M=x.right;for(;M!=null;)x=M,M=x.right;return x.key}firstAfter(v){if(v==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(v)>0)return this.root.key;let x=this.root.right;if(x==null)return null;let M=x.left;for(;M!=null;)x=M,M=x.left;return x.key}retainAll(v){let x=new cf(this.compare,this.validKey),M=this.modificationCount;for(let P of v){if(M!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(P)&&this.splay(P)==0&&x.add(this.root.key)}x.size!=this.size&&(this.root=x.root,this.size=x.size,this.modificationCount++)}lookup(v){return!this.validKey(v)||this.splay(v)!=0?null:this.root.key}intersection(v){let x=new cf(this.compare,this.validKey);for(let M of this)v.has(M)&&x.add(M);return x}difference(v){let x=new cf(this.compare,this.validKey);for(let M of this)v.has(M)||x.add(M);return x}union(v){let x=this.clone();return x.addAll(v),x}clone(){let v=new cf(this.compare,this.validKey);return v.size=this.size,v.root=this.copyNode(this.root),v}copyNode(v){if(v==null)return null;function x(P,B){let R,j;do{if(R=P.left,j=P.right,R!=null){let q=new we(R.key);B.left=q,x(R,q)}if(j!=null){let q=new we(j.key);B.right=q,P=j,B=q}}while(j!=null)}let M=new we(v.key);return x(v,M),M}toSet(){return this.clone()}entries(){return new Vt(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[(Ac=Symbol.iterator,Bd=Symbol.toStringTag,Ac)](){return new Et(this.wrap())}},ot=class{constructor(d){Lt(this,"tree");Lt(this,"path",new Array);Lt(this,"modificationCount",null);Lt(this,"splayCount");this.tree=d,this.splayCount=d.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let d=this.path[this.path.length-1];return this.getValue(d)}rebuildPath(d){this.path.splice(0,this.path.length),this.tree.splay(d),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(d){for(;d!=null;)this.path.push(d),d=d.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let v=this.tree.getRoot();for(;v!=null;)this.path.push(v),v=v.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let d=this.path[this.path.length-1],p=d.right;if(p!=null){for(;p!=null;)this.path.push(p),p=p.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===d;)d=this.path.pop();return this.path.length>0}},Et=class extends ot{getValue(d){return d.key}},Vt=class extends ot{getValue(d){return[d.key,d.key]}},Kn=d=>d,zn=d=>{if(d){let p=new ze(ws(d)),v=new ze(ws(d)),x=(P,B)=>B.addAndReturn(P),M=P=>({x:x(P.x,p),y:x(P.y,v)});return M({x:new W(0),y:new W(0)}),M}return Kn},fr=d=>({set:p=>{bn=fr(p)},reset:()=>fr(d),compare:ws(d),snap:zn(d),orient:Ra(d)}),bn=fr(),Pi=(d,p)=>d.ll.x.isLessThanOrEqualTo(p.x)&&p.x.isLessThanOrEqualTo(d.ur.x)&&d.ll.y.isLessThanOrEqualTo(p.y)&&p.y.isLessThanOrEqualTo(d.ur.y),Ls=(d,p)=>{if(p.ur.x.isLessThan(d.ll.x)||d.ur.x.isLessThan(p.ll.x)||p.ur.y.isLessThan(d.ll.y)||d.ur.y.isLessThan(p.ll.y))return null;let v=d.ll.x.isLessThan(p.ll.x)?p.ll.x:d.ll.x,x=d.ur.x.isLessThan(p.ur.x)?d.ur.x:p.ur.x,M=d.ll.y.isLessThan(p.ll.y)?p.ll.y:d.ll.y,P=d.ur.y.isLessThan(p.ur.y)?d.ur.y:p.ur.y;return{ll:{x:v,y:M},ur:{x,y:P}}},ci=(d,p)=>d.x.times(p.y).minus(d.y.times(p.x)),Eu=(d,p)=>d.x.times(p.x).plus(d.y.times(p.y)),Ai=d=>Eu(d,d).sqrt(),Di=(d,p,v)=>{let x={x:p.x.minus(d.x),y:p.y.minus(d.y)},M={x:v.x.minus(d.x),y:v.y.minus(d.y)};return ci(M,x).div(Ai(M)).div(Ai(x))},Fa=(d,p,v)=>{let x={x:p.x.minus(d.x),y:p.y.minus(d.y)},M={x:v.x.minus(d.x),y:v.y.minus(d.y)};return Eu(M,x).div(Ai(M)).div(Ai(x))},tn=(d,p,v)=>p.y.isZero()?null:{x:d.x.plus(p.x.div(p.y).times(v.minus(d.y))),y:v},aa=(d,p,v)=>p.x.isZero()?null:{x:v,y:d.y.plus(p.y.div(p.x).times(v.minus(d.x)))},Td=(d,p,v,x)=>{if(p.x.isZero())return aa(v,x,d.x);if(x.x.isZero())return aa(d,p,v.x);if(p.y.isZero())return tn(v,x,d.y);if(x.y.isZero())return tn(d,p,v.y);let M=ci(p,x);if(M.isZero())return null;let P={x:v.x.minus(d.x),y:v.y.minus(d.y)},B=ci(P,p).div(M),R=ci(P,x).div(M),j=d.x.plus(R.times(p.x)),q=v.x.plus(B.times(x.x)),oe=d.y.plus(R.times(p.y)),re=v.y.plus(B.times(x.y)),Ee=j.plus(q).div(2),Ae=oe.plus(re).div(2);return{x:Ee,y:Ae}},Ii=class D4{constructor(p,v){Lt(this,"point");Lt(this,"isLeft");Lt(this,"segment");Lt(this,"otherSE");Lt(this,"consumedBy");p.events===void 0?p.events=[this]:p.events.push(this),this.point=p,this.isLeft=v}static compare(p,v){let x=D4.comparePoints(p.point,v.point);return x!==0?x:(p.point!==v.point&&p.link(v),p.isLeft!==v.isLeft?p.isLeft?1:-1:Oi.compare(p.segment,v.segment))}static comparePoints(p,v){return p.x.isLessThan(v.x)?-1:p.x.isGreaterThan(v.x)?1:p.y.isLessThan(v.y)?-1:p.y.isGreaterThan(v.y)?1:0}link(p){if(p.point===this.point)throw new Error("Tried to link already linked events");let v=p.point.events;for(let x=0,M=v.length;x<M;x++){let P=v[x];this.point.events.push(P),P.point=this.point}this.checkForConsuming()}checkForConsuming(){let p=this.point.events.length;for(let v=0;v<p;v++){let x=this.point.events[v];if(x.segment.consumedBy===void 0)for(let M=v+1;M<p;M++){let P=this.point.events[M];P.consumedBy===void 0&&x.otherSE.point.events===P.otherSE.point.events&&x.segment.consume(P.segment)}}}getAvailableLinkedEvents(){let p=[];for(let v=0,x=this.point.events.length;v<x;v++){let M=this.point.events[v];M!==this&&!M.segment.ringOut&&M.segment.isInResult()&&p.push(M)}return p}getLeftmostComparator(p){let v=new Map,x=M=>{let P=M.otherSE;v.set(M,{sine:Di(this.point,p.point,P.point),cosine:Fa(this.point,p.point,P.point)})};return(M,P)=>{v.has(M)||x(M),v.has(P)||x(P);let{sine:B,cosine:R}=v.get(M),{sine:j,cosine:q}=v.get(P);return B.isGreaterThanOrEqualTo(0)&&j.isGreaterThanOrEqualTo(0)?R.isLessThan(q)?1:R.isGreaterThan(q)?-1:0:B.isLessThan(0)&&j.isLessThan(0)?R.isLessThan(q)?-1:R.isGreaterThan(q)?1:0:j.isLessThan(B)?-1:j.isGreaterThan(B)?1:0}}},sa=0,Oi=class qh{constructor(p,v,x,M){Lt(this,"id");Lt(this,"leftSE");Lt(this,"rightSE");Lt(this,"rings");Lt(this,"windings");Lt(this,"ringOut");Lt(this,"consumedBy");Lt(this,"prev");Lt(this,"_prevInResult");Lt(this,"_beforeState");Lt(this,"_afterState");Lt(this,"_isInResult");this.id=++sa,this.leftSE=p,p.segment=this,p.otherSE=v,this.rightSE=v,v.segment=this,v.otherSE=p,this.rings=x,this.windings=M}static compare(p,v){let x=p.leftSE.point.x,M=v.leftSE.point.x,P=p.rightSE.point.x,B=v.rightSE.point.x;if(B.isLessThan(x))return 1;if(P.isLessThan(M))return-1;let R=p.leftSE.point.y,j=v.leftSE.point.y,q=p.rightSE.point.y,oe=v.rightSE.point.y;if(x.isLessThan(M)){if(j.isLessThan(R)&&j.isLessThan(q))return 1;if(j.isGreaterThan(R)&&j.isGreaterThan(q))return-1;let re=p.comparePoint(v.leftSE.point);if(re<0)return 1;if(re>0)return-1;let Ee=v.comparePoint(p.rightSE.point);return Ee!==0?Ee:-1}if(x.isGreaterThan(M)){if(R.isLessThan(j)&&R.isLessThan(oe))return-1;if(R.isGreaterThan(j)&&R.isGreaterThan(oe))return 1;let re=v.comparePoint(p.leftSE.point);if(re!==0)return re;let Ee=p.comparePoint(v.rightSE.point);return Ee<0?1:Ee>0?-1:1}if(R.isLessThan(j))return-1;if(R.isGreaterThan(j))return 1;if(P.isLessThan(B)){let re=v.comparePoint(p.rightSE.point);if(re!==0)return re}if(P.isGreaterThan(B)){let re=p.comparePoint(v.rightSE.point);if(re<0)return 1;if(re>0)return-1}if(!P.eq(B)){let re=q.minus(R),Ee=P.minus(x),Ae=oe.minus(j),Ve=B.minus(M);if(re.isGreaterThan(Ee)&&Ae.isLessThan(Ve))return 1;if(re.isLessThan(Ee)&&Ae.isGreaterThan(Ve))return-1}return P.isGreaterThan(B)?1:P.isLessThan(B)||q.isLessThan(oe)?-1:q.isGreaterThan(oe)?1:p.id<v.id?-1:p.id>v.id?1:0}static fromRing(p,v,x){let M,P,B,R=Ii.comparePoints(p,v);if(R<0)M=p,P=v,B=1;else if(R>0)M=v,P=p,B=-1;else throw new Error(`Tried to create degenerate segment at [${p.x}, ${p.y}]`);let j=new Ii(M,!0),q=new Ii(P,!1);return new qh(j,q,[x],[B])}replaceRightSE(p){this.rightSE=p,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let p=this.leftSE.point.y,v=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:p.isLessThan(v)?p:v},ur:{x:this.rightSE.point.x,y:p.isGreaterThan(v)?p:v}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(p){return p.x.eq(this.leftSE.point.x)&&p.y.eq(this.leftSE.point.y)||p.x.eq(this.rightSE.point.x)&&p.y.eq(this.rightSE.point.y)}comparePoint(p){return bn.orient(this.leftSE.point,p,this.rightSE.point)}getIntersection(p){let v=this.bbox(),x=p.bbox(),M=Ls(v,x);if(M===null)return null;let P=this.leftSE.point,B=this.rightSE.point,R=p.leftSE.point,j=p.rightSE.point,q=Pi(v,R)&&this.comparePoint(R)===0,oe=Pi(x,P)&&p.comparePoint(P)===0,re=Pi(v,j)&&this.comparePoint(j)===0,Ee=Pi(x,B)&&p.comparePoint(B)===0;if(oe&&q)return Ee&&!re?B:!Ee&&re?j:null;if(oe)return re&&P.x.eq(j.x)&&P.y.eq(j.y)?null:P;if(q)return Ee&&B.x.eq(R.x)&&B.y.eq(R.y)?null:R;if(Ee&&re)return null;if(Ee)return B;if(re)return j;let Ae=Td(P,this.vector(),R,p.vector());return Ae===null||!Pi(M,Ae)?null:bn.snap(Ae)}split(p){let v=[],x=p.events!==void 0,M=new Ii(p,!0),P=new Ii(p,!1),B=this.rightSE;this.replaceRightSE(P),v.push(P),v.push(M);let R=new qh(M,B,this.rings.slice(),this.windings.slice());return Ii.comparePoints(R.leftSE.point,R.rightSE.point)>0&&R.swapEvents(),Ii.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),x&&(M.checkForConsuming(),P.checkForConsuming()),v}swapEvents(){let p=this.rightSE;this.rightSE=this.leftSE,this.leftSE=p,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let v=0,x=this.windings.length;v<x;v++)this.windings[v]*=-1}consume(p){let v=this,x=p;for(;v.consumedBy;)v=v.consumedBy;for(;x.consumedBy;)x=x.consumedBy;let M=qh.compare(v,x);if(M!==0){if(M>0){let P=v;v=x,x=P}if(v.prev===x){let P=v;v=x,x=P}for(let P=0,B=x.rings.length;P<B;P++){let R=x.rings[P],j=x.windings[P],q=v.rings.indexOf(R);q===-1?(v.rings.push(R),v.windings.push(j)):v.windings[q]+=j}x.rings=null,x.windings=null,x.consumedBy=v,x.leftSE.consumedBy=v.leftSE,x.rightSE.consumedBy=v.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let p=this.prev.consumedBy||this.prev;this._beforeState=p.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let p=this.beforeState();this._afterState={rings:p.rings.slice(0),windings:p.windings.slice(0),multiPolys:[]};let v=this._afterState.rings,x=this._afterState.windings,M=this._afterState.multiPolys;for(let R=0,j=this.rings.length;R<j;R++){let q=this.rings[R],oe=this.windings[R],re=v.indexOf(q);re===-1?(v.push(q),x.push(oe)):x[re]+=oe}let P=[],B=[];for(let R=0,j=v.length;R<j;R++){if(x[R]===0)continue;let q=v[R],oe=q.poly;if(B.indexOf(oe)===-1)if(q.isExterior)P.push(oe);else{B.indexOf(oe)===-1&&B.push(oe);let re=P.indexOf(q.poly);re!==-1&&P.splice(re,1)}}for(let R=0,j=P.length;R<j;R++){let q=P[R].multiPoly;M.indexOf(q)===-1&&M.push(q)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let p=this.beforeState().multiPolys,v=this.afterState().multiPolys;switch(hr.type){case"union":{let x=p.length===0,M=v.length===0;this._isInResult=x!==M;break}case"intersection":{let x,M;p.length<v.length?(x=p.length,M=v.length):(x=v.length,M=p.length),this._isInResult=M===hr.numMultiPolys&&x<M;break}case"xor":{let x=Math.abs(p.length-v.length);this._isInResult=x%2===1;break}case"difference":{let x=M=>M.length===1&&M[0].isSubject;this._isInResult=x(p)!==x(v);break}}return this._isInResult}},So=class{constructor(d,p,v){Lt(this,"poly");Lt(this,"isExterior");Lt(this,"segments");Lt(this,"bbox");if(!Array.isArray(d)||d.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=p,this.isExterior=v,this.segments=[],typeof d[0][0]!="number"||typeof d[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let x=bn.snap({x:new W(d[0][0]),y:new W(d[0][1])});this.bbox={ll:{x:x.x,y:x.y},ur:{x:x.x,y:x.y}};let M=x;for(let P=1,B=d.length;P<B;P++){if(typeof d[P][0]!="number"||typeof d[P][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let R=bn.snap({x:new W(d[P][0]),y:new W(d[P][1])});R.x.eq(M.x)&&R.y.eq(M.y)||(this.segments.push(Oi.fromRing(M,R,this)),R.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=R.x),R.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=R.y),R.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=R.x),R.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=R.y),M=R)}(!x.x.eq(M.x)||!x.y.eq(M.y))&&this.segments.push(Oi.fromRing(M,x,this))}getSweepEvents(){let d=[];for(let p=0,v=this.segments.length;p<v;p++){let x=this.segments[p];d.push(x.leftSE),d.push(x.rightSE)}return d}},_l=class{constructor(d,p){Lt(this,"multiPoly");Lt(this,"exteriorRing");Lt(this,"interiorRings");Lt(this,"bbox");if(!Array.isArray(d))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new So(d[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let v=1,x=d.length;v<x;v++){let M=new So(d[v],this,!1);M.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=M.bbox.ll.x),M.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=M.bbox.ll.y),M.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=M.bbox.ur.x),M.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=M.bbox.ur.y),this.interiorRings.push(M)}this.multiPoly=p}getSweepEvents(){let d=this.exteriorRing.getSweepEvents();for(let p=0,v=this.interiorRings.length;p<v;p++){let x=this.interiorRings[p].getSweepEvents();for(let M=0,P=x.length;M<P;M++)d.push(x[M])}return d}},kc=class{constructor(d,p){Lt(this,"isSubject");Lt(this,"polys");Lt(this,"bbox");if(!Array.isArray(d))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof d[0][0][0]=="number"&&(d=[d])}catch{}this.polys=[],this.bbox={ll:{x:new W(Number.POSITIVE_INFINITY),y:new W(Number.POSITIVE_INFINITY)},ur:{x:new W(Number.NEGATIVE_INFINITY),y:new W(Number.NEGATIVE_INFINITY)}};for(let v=0,x=d.length;v<x;v++){let M=new _l(d[v],this);M.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=M.bbox.ll.x),M.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=M.bbox.ll.y),M.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=M.bbox.ur.x),M.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=M.bbox.ur.y),this.polys.push(M)}this.isSubject=p}getSweepEvents(){let d=[];for(let p=0,v=this.polys.length;p<v;p++){let x=this.polys[p].getSweepEvents();for(let M=0,P=x.length;M<P;M++)d.push(x[M])}return d}},xl=class __{constructor(p){Lt(this,"events");Lt(this,"poly");Lt(this,"_isExteriorRing");Lt(this,"_enclosingRing");this.events=p;for(let v=0,x=p.length;v<x;v++)p[v].segment.ringOut=this;this.poly=null}static factory(p){let v=[];for(let x=0,M=p.length;x<M;x++){let P=p[x];if(!P.isInResult()||P.ringOut)continue;let B=null,R=P.leftSE,j=P.rightSE,q=[R],oe=R.point,re=[];for(;B=R,R=j,q.push(R),R.point!==oe;)for(;;){let Ee=R.getAvailableLinkedEvents();if(Ee.length===0){let tt=q[0].point,lt=q[q.length-1].point;throw new Error(`Unable to complete output ring starting at [${tt.x}, ${tt.y}]. Last matching segment found ends at [${lt.x}, ${lt.y}].`)}if(Ee.length===1){j=Ee[0].otherSE;break}let Ae=null;for(let tt=0,lt=re.length;tt<lt;tt++)if(re[tt].point===R.point){Ae=tt;break}if(Ae!==null){let tt=re.splice(Ae)[0],lt=q.splice(tt.index);lt.unshift(lt[0].otherSE),v.push(new __(lt.reverse()));continue}re.push({index:q.length,point:R.point});let Ve=R.getLeftmostComparator(B);j=Ee.sort(Ve)[0].otherSE;break}v.push(new __(q))}return v}getGeom(){let p=this.events[0].point,v=[p];for(let q=1,oe=this.events.length-1;q<oe;q++){let re=this.events[q].point,Ee=this.events[q+1].point;bn.orient(re,p,Ee)!==0&&(v.push(re),p=re)}if(v.length===1)return null;let x=v[0],M=v[1];bn.orient(x,p,M)===0&&v.shift(),v.push(v[0]);let P=this.isExteriorRing()?1:-1,B=this.isExteriorRing()?0:v.length-1,R=this.isExteriorRing()?v.length:-1,j=[];for(let q=B;q!=R;q+=P)j.push([v[q].x.toNumber(),v[q].y.toNumber()]);return j}isExteriorRing(){if(this._isExteriorRing===void 0){let p=this.enclosingRing();this._isExteriorRing=p?!p.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){var M,P;let p=this.events[0];for(let B=1,R=this.events.length;B<R;B++){let j=this.events[B];Ii.compare(p,j)>0&&(p=j)}let v=p.segment.prevInResult(),x=v?v.prevInResult():null;for(;;){if(!v)return null;if(!x)return v.ringOut;if(x.ringOut!==v.ringOut)return((M=x.ringOut)==null?void 0:M.enclosingRing())!==v.ringOut?v.ringOut:(P=v.ringOut)==null?void 0:P.enclosingRing();v=x.prevInResult(),x=v?v.prevInResult():null}}},la=class{constructor(d){Lt(this,"exteriorRing");Lt(this,"interiorRings");this.exteriorRing=d,d.poly=this,this.interiorRings=[]}addInterior(d){this.interiorRings.push(d),d.poly=this}getGeom(){let d=this.exteriorRing.getGeom();if(d===null)return null;let p=[d];for(let v=0,x=this.interiorRings.length;v<x;v++){let M=this.interiorRings[v].getGeom();M!==null&&p.push(M)}return p}},yn=class{constructor(d){Lt(this,"rings");Lt(this,"polys");this.rings=d,this.polys=this._composePolys(d)}getGeom(){let d=[];for(let p=0,v=this.polys.length;p<v;p++){let x=this.polys[p].getGeom();x!==null&&d.push(x)}return d}_composePolys(d){var v;let p=[];for(let x=0,M=d.length;x<M;x++){let P=d[x];if(!P.poly)if(P.isExteriorRing())p.push(new la(P));else{let B=P.enclosingRing();B!=null&&B.poly||p.push(new la(B)),(v=B==null?void 0:B.poly)==null||v.addInterior(P)}}return p}},hn=class{constructor(d,p=Oi.compare){Lt(this,"queue");Lt(this,"tree");Lt(this,"segments");this.queue=d,this.tree=new ze(p),this.segments=[]}process(d){let p=d.segment,v=[];if(d.consumedBy)return d.isLeft?this.queue.delete(d.otherSE):this.tree.delete(p),v;d.isLeft&&this.tree.add(p);let x=p,M=p;do x=this.tree.lastBefore(x);while(x!=null&&x.consumedBy!=null);do M=this.tree.firstAfter(M);while(M!=null&&M.consumedBy!=null);if(d.isLeft){let P=null;if(x){let R=x.getIntersection(p);if(R!==null&&(p.isAnEndpoint(R)||(P=R),!x.isAnEndpoint(R))){let j=this._splitSafely(x,R);for(let q=0,oe=j.length;q<oe;q++)v.push(j[q])}}let B=null;if(M){let R=M.getIntersection(p);if(R!==null&&(p.isAnEndpoint(R)||(B=R),!M.isAnEndpoint(R))){let j=this._splitSafely(M,R);for(let q=0,oe=j.length;q<oe;q++)v.push(j[q])}}if(P!==null||B!==null){let R=null;P===null?R=B:B===null?R=P:R=Ii.comparePoints(P,B)<=0?P:B,this.queue.delete(p.rightSE),v.push(p.rightSE);let j=p.split(R);for(let q=0,oe=j.length;q<oe;q++)v.push(j[q])}v.length>0?(this.tree.delete(p),v.push(d)):(this.segments.push(p),p.prev=x)}else{if(x&&M){let P=x.getIntersection(M);if(P!==null){if(!x.isAnEndpoint(P)){let B=this._splitSafely(x,P);for(let R=0,j=B.length;R<j;R++)v.push(B[R])}if(!M.isAnEndpoint(P)){let B=this._splitSafely(M,P);for(let R=0,j=B.length;R<j;R++)v.push(B[R])}}}this.tree.delete(p)}return v}_splitSafely(d,p){this.tree.delete(d);let v=d.rightSE;this.queue.delete(v);let x=d.split(p);return x.push(v),d.consumedBy===void 0&&this.tree.add(d),x}},za=class{constructor(){Lt(this,"type");Lt(this,"numMultiPolys")}run(d,p,v){jn.type=d;let x=[new kc(p,!0)];for(let j=0,q=v.length;j<q;j++)x.push(new kc(v[j],!1));if(jn.numMultiPolys=x.length,jn.type==="difference"){let j=x[0],q=1;for(;q<x.length;)Ls(x[q].bbox,j.bbox)!==null?q++:x.splice(q,1)}if(jn.type==="intersection")for(let j=0,q=x.length;j<q;j++){let oe=x[j];for(let re=j+1,Ee=x.length;re<Ee;re++)if(Ls(oe.bbox,x[re].bbox)===null)return[]}let M=new ze(Ii.compare);for(let j=0,q=x.length;j<q;j++){let oe=x[j].getSweepEvents();for(let re=0,Ee=oe.length;re<Ee;re++)M.add(oe[re])}let P=new hn(M),B=null;for(M.size!=0&&(B=M.first(),M.delete(B));B;){let j=P.process(B);for(let q=0,oe=j.length;q<oe;q++){let re=j[q];re.consumedBy===void 0&&M.add(re)}M.size!=0?(B=M.first(),M.delete(B)):B=null}bn.reset();let R=xl.factory(P.segments);return new yn(R).getGeom()}},jn=new za,hr=jn,Es=(d,...p)=>hr.run("intersection",d,p),bl=(d,...p)=>hr.run("difference",d,p);bn.set;function pr(d){let p={type:"Feature"};return p.geometry=d,p}function ks(d){return d.type==="Feature"?d.geometry:d}function Pd(d){return d&&d.geometry&&d.geometry.coordinates?d.geometry.coordinates:d}function Wf(d){return pr({type:"LineString",coordinates:d})}function Mc(d){return pr({type:"MultiLineString",coordinates:d})}function Ad(d){return pr({type:"Polygon",coordinates:d})}function To(d){return pr({type:"MultiPolygon",coordinates:d})}function Sc(d,p){let v=ks(d),x=ks(p),M=Es(v.coordinates,x.coordinates);return M.length===0?null:M.length===1?Ad(M[0]):To(M)}function Dd(d,p){let v=ks(d),x=ks(p),M=bl(v.coordinates,x.coordinates);return M.length===0?null:M.length===1?Ad(M[0]):To(M)}function Id(d){return Array.isArray(d)?1+Id(d[0]):-1}function Cm(d){d instanceof L.Polyline&&(d=d.toGeoJSON(15));let p=Pd(d),v=Id(p),x=[];return v>1?p.forEach(M=>{x.push(Wf(M))}):x.push(d),x}function ja(d){let p=[];return d.eachLayer(v=>{p.push(Pd(v.toGeoJSON(15)))}),Mc(p)}Hn.Cut=Hn.Polygon.extend({initialize(d){this._map=d,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let d=this._layer.getLatLngs();if(d.length<=2)return;let p=L.polygon(d,this.options.pathOptions);p._latlngInfos=this._layer._latlngInfo,this.cut(p),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:x,originalLayer:M})=>{this._fireCut(M,x,M),this._fireCut(this._map,x,M),M.pm._fireEdit()}),this._editedLayers=[];let v=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(v))},cut(d){let p=this._map._layers,v=d._latlngInfos||[];Object.keys(p).map(x=>p[x]).filter(x=>x.pm).filter(x=>!x._pmTempLayer).filter(x=>!L.PM.optIn&&!x.options.pmIgnore||L.PM.optIn&&x.options.pmIgnore===!1).filter(x=>x instanceof L.Polyline).filter(x=>x!==d).filter(x=>x.pm.options.allowCutting).filter(x=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(x)>-1:!0).filter(x=>!this._layerGroup.hasLayer(x)).filter(x=>{try{let M=!!Li(d.toGeoJSON(15),x.toGeoJSON(15)).features.length>0;return M||x instanceof L.Polyline&&!(x instanceof L.Polygon)?M:!!Sc(d.toGeoJSON(15),x.toGeoJSON(15))}catch{return x instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(x=>{let M;if(x instanceof L.Polygon){M=L.polygon(x.getLatLngs());let j=M.getLatLngs();v.forEach(q=>{if(q&&q.snapInfo){let{latlng:oe}=q,re=this._calcClosestLayer(oe,[M]);if(re&&re.segment&&re.distance<this.options.snapDistance){let{segment:Ee}=re;if(Ee&&Ee.length===2){let{indexPath:Ae,parentPath:Ve,newIndex:tt}=L.PM.Utils._getIndexFromSegment(j,Ee);(Ae.length>1?(0,Si.default)(j,Ve):j).splice(tt,0,oe)}}}})}else M=x;let P=this._cutLayer(d,M),B=L.geoJSON(P,x.options);B.getLayers().length===1&&([B]=B.getLayers()),this._setPane(B,"layerPane");let R=B.addTo(this._map.pm._getContainingLayer());if(R.pm.enable(x.pm.options),R.pm.disable(),x._pmTempLayer=!0,d._pmTempLayer=!0,x.remove(),x.removeFrom(this._map.pm._getContainingLayer()),d.remove(),d.removeFrom(this._map.pm._getContainingLayer()),R.getLayers&&R.getLayers().length===0&&this._map.pm.removeLayer({target:R}),R instanceof L.LayerGroup?(R.eachLayer(j=>{this._addDrawnLayerProp(j)}),this._addDrawnLayerProp(R)):this._addDrawnLayerProp(R),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let j=this.options.layersToCut.indexOf(x);j>-1&&this.options.layersToCut.splice(j,1)}this._editedLayers.push({layer:R,originalLayer:x})})},_cutLayer(d,p){let v=L.geoJSON(),x;if(p instanceof L.Polygon)x=Dd(p.toGeoJSON(15),d.toGeoJSON(15));else{let M=Cm(p);M.forEach(P=>{let B=wc(P,d.toGeoJSON(15)),R;B&&B.features.length>0?R=L.geoJSON(B):R=L.geoJSON(P),R.getLayers().forEach(j=>{Oa(d.toGeoJSON(15),j.toGeoJSON(15))||j.addTo(v)})}),M.length>1?x=ja(v):x=v.toGeoJSON(15)}return x},_change:L.Util.falseFn}),Hn.Text=Hn.extend({initialize(d){this._map=d,this._shape="Text",this.toolbarButtonName="drawText"},enable(d){L.Util.setOptions(this,d),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Bt("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){var d;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),(d=this._hintMarker)==null||d.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.off("mousemove",this._showHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(d){this.enabled()?this.disable():this.enable(d)},_syncHintMarker(d){if(this._hintMarker.setLatLng(d.latlng),this.options.snappable){let p=d;p.target=this._hintMarker,this._handleSnapping(p)}},_createMarker(d){var M,P,B,R;if(!d.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(d.latlng);let p=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(M=this.options.textOptions)==null?void 0:M.className){let j=this.options.textOptions.className.split(" ");this.textArea.classList.add(...j)}let v=this._createTextIcon(this.textArea),x=new L.Marker(p,{textMarker:!0,_textMarkerOverPM:!0,icon:v});if(this._setPane(x,"markerPane"),this._finishLayer(x),x.pm||(x.options.draggable=!1),x.addTo(this._map.pm._getContainingLayer()),x.pm){x.pm.textArea=this.textArea,L.setOptions(x.pm,{removeIfEmpty:((P=this.options.textOptions)==null?void 0:P.removeIfEmpty)??!0});let j=((B=this.options.textOptions)==null?void 0:B.focusAfterDraw)??!0;x.pm._createTextMarker(j),(R=this.options.textOptions)!=null&&R.text&&x.pm.setText(this.options.textOptions.text)}this._fireCreate(x),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this._map.once("mousemove",this._showHintMarkerAfterMoving,this)},_showHintMarkerAfterMoving(d){this.enable(),this._hintMarker.setLatLng(d.latlng)},_createTextArea(){let d=document.createElement("textarea");return d.readOnly=!0,d.classList.add("pm-textarea","pm-disabled"),d},_createTextIcon(d){return L.divIcon({className:"pm-text-marker",html:d})}});var wl={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,qn(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let d=this._getDOMElem();d&&(qn(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(d)):L.DomEvent.on(d,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,qn(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let d=this._getDOMElem();d&&(qn(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(d)):L.DomEvent.off(d,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(d){let p=d.touches?d.touches[0]:d,v={originalEvent:p,target:this._layer};return v.containerPoint=this._map.mouseEventToContainerPoint(p),v.latlng=this._map.containerPointToLatLng(v.containerPoint),this._dragMixinOnMouseDown(v),!1},_simulateMouseMoveEvent(d){let p=d.touches?d.touches[0]:d,v={originalEvent:p,target:this._layer};return v.containerPoint=this._map.mouseEventToContainerPoint(p),v.latlng=this._map.containerPointToLatLng(v.containerPoint),this._dragMixinOnMouseMove(v),!1},_simulateMouseUpEvent(d){let p={originalEvent:d.touches?d.touches[0]:d,target:this._layer};return d.type.indexOf("touch")===-1&&(p.containerPoint=this._map.mouseEventToContainerPoint(d),p.latlng=this._map.containerPointToLatLng(p.containerPoint)),this._dragMixinOnMouseUp(p),!1},_dragMixinOnMouseDown(d){if(d.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(d);let p=d._fromLayerSync,v=this._syncLayers("_dragMixinOnMouseDown",d);if(this._layer instanceof L.Marker&&(this.options.snappable&&!p&&!v?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let x="resizeableCircleMarker";this._layer instanceof L.Circle&&(x="resizeableCircle"),this.options.snappable&&!p&&!v?this._layer.pm.options[x]||this._initSnappableMarkersDrag():this._layer.pm.options[x]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=d.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(d){this._overwriteEventIfItComesFromMarker(d);let p=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",d),this._dragging||(this._dragging=!0,L.DomUtil.addClass(p,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=d.latlng),this._onLayerDrag(d),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(d){let p=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",d),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,p&&L.DomUtil.removeClass(p,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(d){let{latlng:p}=d,v={lat:p.lat-this._tempDragCoord.lat,lng:p.lng-this._tempDragCoord.lng},x=M=>M.map(P=>{if(Array.isArray(P))return x(P);let B={lat:P.lat+v.lat,lng:P.lng+v.lng};return(P.alt||P.alt===0)&&(B.alt=P.alt),B});if(this._layer instanceof L.Circle&&this._layer.options.resizeableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let M=x([this._layer.getLatLng()]);this._layer.setLatLng(M[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let M=this._layer.getLatLng();this._layer._snapped&&(M=this._layer._orgLatLng);let P=x([M]);this._layer.setLatLng(P[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let M=x([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(M),this._fireChange(this._layer.getBounds(),"Edit")}else{let M=x(this._layer.getLatLngs());this._layer.setLatLngs(M),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=p,d.layer=this._layer,this._fireDrag(d)},addDraggingClass(){let d=this._getDOMElem();d&&L.DomUtil.addClass(d,"leaflet-pm-draggable")},removeDraggingClass(){let d=this._getDOMElem();d&&L.DomUtil.removeClass(d,"leaflet-pm-draggable")},_getDOMElem(){let d=null;return this._layer._path?d=this._layer._path:this._layer._renderer&&this._layer._renderer._container?d=this._layer._renderer._container:this._layer._image?d=this._layer._image:this._layer._icon&&(d=this._layer._icon),d},_overwriteEventIfItComesFromMarker(d){d.target.getLatLng&&(!d.target._radius||d.target._radius<=10)&&(d.containerPoint=this._map.mouseEventToContainerPoint(d.originalEvent),d.latlng=this._map.containerPointToLatLng(d.containerPoint))},_syncLayers(d,p){if(this.enabled())return!1;if(!p._fromLayerSync&&this._layer===p.target&&this.options.syncLayersOnDrag){p._fromLayerSync=!0;let v=[];if(L.Util.isArray(this.options.syncLayersOnDrag))v=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(x=>{x instanceof L.LayerGroup&&(v=v.concat(x.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let x in this._parentLayerGroup){let M=this._parentLayerGroup[x];M.pm&&(v=M.pm.getLayers(!0))}return L.Util.isArray(v)&&v.length>0&&(v=v.filter(x=>!!x.pm).filter(x=>!!x.pm.options.draggable),v.forEach(x=>{x!==this._layer&&x.pm[d]&&(x._snapped=!1,x.pm[d](p))})),v.length>0}return!1},_stopDOMImageDrag(d){return d.preventDefault(),!1}},Cl=wl,Tc=f(_o());function Pc(d,p,v,x){return v.unproject(p.transform(v.project(d,x)),x)}function di(d,p,v){let x=v.getMaxZoom();if(x===1/0&&(x=v.getZoom()),L.Util.isArray(d)){let M=[];return d.forEach(P=>{M.push(di(P,p,v))}),M}return d instanceof L.LatLng?Pc(d,p,v,x):null}function mr(d,p){p instanceof L.Layer&&(p=p.getLatLng());let v=d.getMaxZoom();return v===1/0&&(v=d.getZoom()),d.project(p,v)}function Po(d,p){let v=d.getMaxZoom();return v===1/0&&(v=d.getZoom()),d.unproject(p,v)}var ua={_onRotateStart(d){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=mr(this._map,this._rotationOriginLatLng),this._rotationStartPoint=mr(this._map,d.target.getLatLng()),this._initialRotateLatLng=br(this._layer),this._startAngle=this.getAngle();let p=br(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,p),this._fireRotationStart(this._map,p)},_onRotate(d){let p=mr(this._map,d.target.getLatLng()),v=this._rotationStartPoint,x=this._rotationOriginPoint,M=Math.atan2(p.y-x.y,p.x-x.x)-Math.atan2(v.y-x.y,v.x-x.x);this._layer.setLatLngs(this._rotateLayer(M,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let P=this;function B(oe,re=[],Ee=-1){if(Ee>-1&&re.push(Ee),L.Util.isArray(oe[0]))oe.forEach((Ae,Ve)=>B(Ae,re.slice(),Ve));else{let Ae=re.length>0?(0,Tc.default)(P._markers,re):P._markers[0];oe.forEach((Ve,tt)=>{Ae[tt].setLatLng(Ve)})}}B(this._layer.getLatLngs());let R=br(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(M,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let j=M*180/Math.PI;j=j<0?j+360:j;let q=j+this._startAngle;this._setAngle(q),this._rotationLayer.pm._setAngle(q),this._fireRotation(this._rotationLayer,j,R),this._fireRotation(this._map,j,R),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let d=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let p=br(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=br(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,d,p),this._fireRotationEnd(this._map,d,p),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(d,p,v,x,M){let P=mr(M,v);return this._matrix=x.clone().rotate(d,P).flip(),di(p,this._matrix,M)},_setAngle(d){d=d<0?d+360:d,this._angle=d%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let d=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),p=d.getCenter();return d.removeFrom(this._layer._map),p},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(er(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let d={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),d),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=br(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(d){let p=this.getAngle(),v=this._layer.getLatLngs(),x=d*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(x,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+d),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(x,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let M=this.getAngle()-p;M=M<0?M+360:M,this._startAngle=p,this._fireRotation(this._layer,M,v,this._layer),this._fireRotation(this._map||this._layer._map,M,v,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(d){let p=d-this.getAngle();this.rotateLayer(p)},getAngle(){return this._angle||0},setInitAngle(d){this._setAngle(d)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(d){this._rotationCenter=d,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(d)}},ca=ua,Ms=L.Class.extend({includes:[Cl,mu,ca,ea],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizeableCircle:!0,snapMiddle:!1,snapVertex:!0},setOptions(d){L.Util.setOptions(this,d)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(d,p){p==="layerPane"?d.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":p==="vertexPane"?d.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":p==="markerPane"&&(d.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(d,p){let v=p.target,x={layer:this._layer,marker:v,event:p},M="";return d==="move"?M="moveVertexValidation":d==="add"?M="addVertexValidation":d==="remove"&&(M="removeVertexValidation"),this.options[M]&&typeof this.options[M]=="function"&&!this.options[M](x)?(d==="move"&&(v._cancelDragEventChain=v.getLatLng()),!1):(v._cancelDragEventChain=null,!0)},_vertexValidationDrag(d){return d._cancelDragEventChain?(d._latlng=d._cancelDragEventChain,d.update(),!1):!0},_vertexValidationDragEnd(d){return d._cancelDragEventChain?(d._cancelDragEventChain=null,!1):!0}}),Yn=Ms;Yn.LayerGroup=L.Class.extend({initialize(d){this._layerGroup=d,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(x=>this._initLayer(x));let p=x=>{if(x.layer._pmTempLayer)return;this._layers=this.getLayers();let M=this._layers.filter(P=>!P.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in P.pm._parentLayerGroup));M.forEach(P=>{this._initLayer(P)}),M.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(p,100,this),this),this._layerGroup.on("layerremove",x=>{this._removeLayerFromGroup(x.target)},this);let v=x=>{x.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(v,100,this),this)},enable(d,p=[]){p.length===0&&(this._layers=this.getLayers()),this._options=d,this._layers.forEach(v=>{v instanceof L.LayerGroup?p.indexOf(v._leaflet_id)===-1&&(p.push(v._leaflet_id),v.pm.enable(d,p)):v.pm.enable(d)})},disable(d=[]){d.length===0&&(this._layers=this.getLayers()),this._layers.forEach(p=>{p instanceof L.LayerGroup?d.indexOf(p._leaflet_id)===-1&&(d.push(p._leaflet_id),p.pm.disable(d)):p.pm.disable()})},enabled(d=[]){return d.length===0&&(this._layers=this.getLayers()),!!this._layers.find(p=>p instanceof L.LayerGroup?d.indexOf(p._leaflet_id)===-1?(d.push(p._leaflet_id),p.pm.enabled(d)):!1:p.pm.enabled())},toggleEdit(d,p=[]){p.length===0&&(this._layers=this.getLayers()),this._options=d,this._layers.forEach(v=>{v instanceof L.LayerGroup?p.indexOf(v._leaflet_id)===-1&&(p.push(v._leaflet_id),v.pm.toggleEdit(d,p)):v.pm.toggleEdit(d)})},_initLayer(d){let p=L.Util.stamp(this._layerGroup);d.pm._parentLayerGroup||(d.pm._parentLayerGroup={}),d.pm._parentLayerGroup[p]=this._layerGroup},_removeLayerFromGroup(d){if(d.pm&&d.pm._layerGroup){let p=L.Util.stamp(this._layerGroup);delete d.pm._layerGroup[p]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(d=>d.pm.dragging()):!1},getOptions(){return this.options},_getMap(){var d;return this._map||((d=this._layers.find(p=>!!p._map))==null?void 0:d._map)||null},getLayers(d=!1,p=!0,v=!0,x=[]){let M=[];return d?this._layerGroup.getLayers().forEach(P=>{M.push(P),P instanceof L.LayerGroup&&x.indexOf(P._leaflet_id)===-1&&(x.push(P._leaflet_id),M=M.concat(P.pm.getLayers(!0,!0,!0,x)))}):M=this._layerGroup.getLayers(),v&&(M=M.filter(P=>!(P instanceof L.LayerGroup))),p&&(M=M.filter(P=>!!P.pm),M=M.filter(P=>!P._pmTempLayer),M=M.filter(P=>!L.PM.optIn&&!P.options.pmIgnore||L.PM.optIn&&P.options.pmIgnore===!1)),M},setOptions(d,p=[]){p.length===0&&(this._layers=this.getLayers()),this.options=d,this._layers.forEach(v=>{v.pm&&(v instanceof L.LayerGroup?p.indexOf(v._leaflet_id)===-1&&(p.push(v._leaflet_id),v.pm.setOptions(d,p)):v.pm.setOptions(d))})}}),Yn.Marker=Yn.extend({_shape:"Marker",initialize(d){this._layer=d,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(d={draggable:!0}){if(L.Util.setOptions(this,d),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(d){this.enabled()?this.disable():this.enable(d)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(d){let p=d.target;p.remove(),this._fireRemove(p),this._fireRemove(this._map,p)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let d=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,d.off("pm:drag",this._handleSnapping,this),d.on("pm:drag",this._handleSnapping,this),d.off("pm:dragend",this._cleanupSnapping,this),d.on("pm:dragend",this._cleanupSnapping,this),d.off("pm:dragstart",this._unsnap,this),d.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let d=this._layer;d.off("pm:drag",this._handleSnapping,this),d.off("pm:dragend",this._cleanupSnapping,this),d.off("pm:dragstart",this._unsnap,this)}});var Ao=f(_o()),Od={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let d=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=d.filter((p,v,x)=>x.indexOf(p)===v)},_removeFromCache(d){let p=this.markerCache.indexOf(d);p>-1&&this.markerCache.splice(p,1)},renderLimits(d){this.markerCache.forEach(p=>{d.includes(p)?this._markerGroup.addLayer(p):this._markerGroup.removeLayer(p)})},applyLimitFilters({latlng:d={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let p=[...this._filterClosestMarkers(d)];this.renderLimits(p)},_filterClosestMarkers(d){let p=[...this.markerCache],v=this.options.limitMarkersToCount;return v===-1?p:(p.sort((x,M)=>{let P=x._latlng.distanceTo(d),B=M._latlng.distanceTo(d);return P-B}),p.filter((x,M)=>v>-1?M<v:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(d){this._preventRenderMarkers=!!d}},fi=Od;Yn.Line=Yn.extend({includes:[fi],_shape:"Line",initialize(d){this._layer=d,this._enabled=!1},enable(d){if(L.Util.setOptions(this,d),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let d=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(d,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(d){return this.enabled()?this.disable():this.enable(d),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let d=this._map,p=this._layer.getLatLngs();this._markerGroup&&(this._markerGroup.removeFrom(d),this._markerGroup.clearLayers()),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let v=x=>{if(Array.isArray(x[0]))return x.map(v,this);let M=x.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&x.map((P,B)=>{let R=this.isPolygon()?(B+1)%x.length:B+1;return this._createMiddleMarker(M[B],M[R])}),M};this._markers=v(p),this.filterMarkerGroup(),d.addLayer(this._markerGroup)},_createMarker(d){let p=new L.Marker(d,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._pmTempLayer=!0,this.options.rotate?(p.on("dragstart",this._onRotateStart,this),p.on("drag",this._onRotate,this),p.on("dragend",this._onRotateEnd,this)):(p.on("click",this._onVertexClick,this),p.on("dragstart",this._onMarkerDragStart,this),p.on("move",this._onMarkerDrag,this),p.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||p.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(p),p},_createMiddleMarker(d,p){if(!d||!p)return!1;let v=L.PM.Utils.calcMiddleLatLng(this._map,d.getLatLng(),p.getLatLng()),x=this._createMarker(v),M=L.divIcon({className:"marker-icon marker-icon-middle"});return x.setIcon(M),x.leftM=d,x.rightM=p,d._middleMarkerNext=x,p._middleMarkerPrev=x,x.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),x.on("movestart",this._onMiddleMarkerMoveStart,this),x},_onMiddleMarkerClick(d){let p=d.target;if(!this._vertexValidation("add",d))return;let v=L.divIcon({className:"marker-icon"});p.setIcon(v),this._addMarker(p,p.leftM,p.rightM)},_onMiddleMarkerMoveStart(d){let p=d.target;if(p.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",d)){p.on("move",this._onMiddleMarkerMovePrevent,this);return}p._dragging=!0,this._addMarker(p,p.leftM,p.rightM)},_onMiddleMarkerMovePrevent(d){let p=d.target;this._vertexValidationDrag(p)},_onMiddleMarkerMoveEnd(d){let p=d.target;if(p.off("move",this._onMiddleMarkerMovePrevent,this),p.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(p))return;let v=L.divIcon({className:"marker-icon"});p.setIcon(v),setTimeout(()=>{delete p._dragging},100)},_addMarker(d,p,v){d.off("movestart",this._onMiddleMarkerMoveStart,this),d.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let x=d.getLatLng(),M=this._layer._latlngs;delete d.leftM,delete d.rightM;let{indexPath:P,index:B,parentPath:R}=L.PM.Utils.findDeepMarkerIndex(this._markers,p),j=P.length>1?(0,Ao.default)(M,R):M,q=P.length>1?(0,Ao.default)(this._markers,R):this._markers;j.splice(B+1,0,x),q.splice(B+1,0,d),this._layer.setLatLngs(M),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(p,d),this._createMiddleMarker(d,v)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(d,L.PM.Utils.findDeepMarkerIndex(this._markers,d).indexPath,x),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return ps(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(d){let p=this._layer,v,x;if(this.options.allowSelfIntersection?v=!1:(x=ps(this._layer.toGeoJSON(15)),v=x.features.length>0),v){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return v;d?this._flashLayer():(p.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(x)}else p.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return v},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(d,p){d.forEach(v=>{Array.isArray(v)?this._updateDisabledMarkerStyle(v,p):v._icon&&(p&&!this._checkMarkerAllowedToDrag(v)?L.DomUtil.addClass(v._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(v._icon,"vertexmarker-disabled"))})},_removeMarker(d){let p=d.target;if(!this._vertexValidation("remove",d))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=br(this._layer,this._layer.getLatLngs()));let v=this._layer.getLatLngs(),{indexPath:x,index:M,parentPath:P}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);if(!x)return;let B=x.length>1?(0,Ao.default)(v,P):v,R=x.length>1?(0,Ao.default)(this._markers,P):this._markers,j=P[P.length-1]>0&&this._layer instanceof L.Polygon;if(!this.options.removeLayerBelowMinVertexCount&&!j&&(B.length<=2||this.isPolygon()&&B.length<=3)){this._flashLayer();return}B.splice(M,1),this._layer.setLatLngs(v),this.isPolygon()&&B.length<=2&&B.splice(0,B.length);let q=!1;if(B.length<=1&&(B.splice(0,B.length),P.length>1&&x.length>1&&(v=Sa(v)),this._layer.setLatLngs(v),this._initMarkers(),q=!0),wi(v)||this._layer.remove(),v=Sa(v),this._layer.setLatLngs(v),this._markers=Sa(this._markers),!q&&(R=x.length>1?(0,Ao.default)(this._markers,P):this._markers,p._middleMarkerPrev&&(this._markerGroup.removeLayer(p._middleMarkerPrev),this._removeFromCache(p._middleMarkerPrev)),p._middleMarkerNext&&(this._markerGroup.removeLayer(p._middleMarkerNext),this._removeFromCache(p._middleMarkerNext)),this._markerGroup.removeLayer(p),this._removeFromCache(p),R)){let oe,re;if(this.isPolygon()?(oe=(M+1)%R.length,re=(M+(R.length-1))%R.length):(re=M-1<0?void 0:M-1,oe=M+1>=R.length?void 0:M+1),oe!==re){let Ee=R[re],Ae=R[oe];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(Ee,Ae)}R.splice(M,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(p,x),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(d){let p=this._layer.getLatLngs(),v=d.getLatLng(),{indexPath:x,index:M,parentPath:P}=L.PM.Utils.findDeepMarkerIndex(this._markers,d);(x.length>1?(0,Ao.default)(p,P):p).splice(M,1,v),this._layer.setLatLngs(p)},_getNeighborMarkers(d){let{indexPath:p,index:v,parentPath:x}=L.PM.Utils.findDeepMarkerIndex(this._markers,d),M=p.length>1?(0,Ao.default)(this._markers,x):this._markers,P=(v+1)%M.length,B=(v+(M.length-1))%M.length,R=M[B],j=M[P];return{prevMarker:R,nextMarker:j}},_checkMarkerAllowedToDrag(d){let{prevMarker:p,nextMarker:v}=this._getNeighborMarkers(d),x=L.polyline([p.getLatLng(),d.getLatLng()]),M=L.polyline([d.getLatLng(),v.getLatLng()]),P=Li(this._layer.toGeoJSON(15),x.toGeoJSON(15)).features.length,B=Li(this._layer.toGeoJSON(15),M.toGeoJSON(15)).features.length;return d.getLatLng()===this._markers[0][0].getLatLng()?B+=1:d.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(P+=1),!(P<=2&&B<=2)},_onMarkerDragStart(d){let p=d.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",d))return;let{indexPath:v}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireMarkerDragStart(d,v),this.options.allowSelfIntersection||(this._coordsBeforeEdit=br(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(p):this._markerAllowedToDrag=null},_onMarkerDrag(d){let p=d.target;if(!this._vertexValidationDrag(p))return;let{indexPath:v,index:x,parentPath:M}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);if(!v)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(p);let P=v.length>1?(0,Ao.default)(this._markers,M):this._markers,B=(x+1)%P.length,R=(x+(P.length-1))%P.length,j=p.getLatLng(),q=P[R].getLatLng(),oe=P[B].getLatLng();if(p._middleMarkerNext){let re=L.PM.Utils.calcMiddleLatLng(this._map,j,oe);p._middleMarkerNext.setLatLng(re)}if(p._middleMarkerPrev){let re=L.PM.Utils.calcMiddleLatLng(this._map,j,q);p._middleMarkerPrev.setLatLng(re)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(d,v),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(d){let p=d.target;if(!this._vertexValidationDragEnd(p))return;let{indexPath:v}=L.PM.Utils.findDeepMarkerIndex(this._markers,p),x=!this.options.allowSelfIntersection&&this.hasSelfIntersection();x&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(x=!1);let M=!this.options.allowSelfIntersection&&x;if(this._fireMarkerDragEnd(d,v,M),M){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(d,v);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(d){let p=d.target;if(p._dragging)return;let{indexPath:v}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireVertexClick(d,v)}}),Yn.Polygon=Yn.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(d){let{prevMarker:p,nextMarker:v}=this._getNeighborMarkers(d),x=L.polyline([p.getLatLng(),d.getLatLng()]),M=L.polyline([d.getLatLng(),v.getLatLng()]),P=Li(this._layer.toGeoJSON(15),x.toGeoJSON(15)).features.length,B=Li(this._layer.toGeoJSON(15),M.toGeoJSON(15)).features.length;return!(P<=2&&B<=2)}}),Yn.Rectangle=Yn.Polygon.extend({_shape:"Rectangle",_initMarkers(){let d=this._map,p=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,d.addLayer(this._markerGroup),this._markers=[],this._markers[0]=p.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((v,x)=>{let M=this._cornerMarkers.find(P=>P._index===x);M&&M.setLatLng(v)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(d,p){let v=new L.Marker(d,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(v,"vertexPane"),v._origLatLng=d,v._index=p,v._pmTempLayer=!0,v.on("click",this._onVertexClick,this),this._markerGroup.addLayer(v),v},_addMarkerEvents(){this._markers[0].forEach(d=>{d.on("dragstart",this._onMarkerDragStart,this),d.on("drag",this._onMarkerDrag,this),d.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||d.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(d){if(!this._vertexValidation("move",d))return;let p=d.target,v=this._cornerMarkers;p._oppositeCornerLatLng=v.find(M=>M._index===(p._index+2)%4).getLatLng(),p._snapped=!1;let{indexPath:x}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireMarkerDragStart(d,x)},_onMarkerDrag(d){let p=d.target;if(!this._vertexValidationDrag(p)||p._index===void 0)return;this._adjustRectangleForMarkerMove(p);let{indexPath:v}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireMarkerDrag(d,v),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(d){let p=d.target;if(!this._vertexValidationDragEnd(p))return;this._cornerMarkers.forEach(x=>{delete x._oppositeCornerLatLng});let{indexPath:v}=L.PM.Utils.findDeepMarkerIndex(this._markers,p);this._fireMarkerDragEnd(d,v),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(d){L.extend(d._origLatLng,d._latlng);let p=L.PM.Utils._getRotatedRectangle(d.getLatLng(),d._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(p),this._adjustAllMarkers(d),this._layer.redraw()},_adjustAllMarkers(d){let p=this._layer.getLatLngs()[0];if(p&&p.length!==4&&p.length>0)p.forEach((v,x)=>{this._cornerMarkers[x].setLatLng(v)}),this._cornerMarkers.slice(p.length).forEach(v=>{v.setLatLng(p[0])});else if(!p||!p.length)console.error("The layer has no LatLngs");else{let v=p.findIndex(x=>d.getLatLng().equals(x));v>-1?(this._cornerMarkers[(d._index+1)%4].setLatLng(p[(v+1)%4]),this._cornerMarkers[(d._index+2)%4].setLatLng(p[(v+2)%4]),this._cornerMarkers[(d._index+3)%4].setLatLng(p[(v+3)%4])):this._cornerMarkers.forEach(x=>{x.setLatLng(p[x._index])})}},_findCorners(){this._angle===void 0&&this.setInitAngle(er(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let d=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(d[0],d[2],this.getAngle(),this._map||this)}}),Yn.CircleMarker=Yn.extend({_shape:"CircleMarker",initialize(d){this._layer=d,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(d={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,d),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this._helperLayers&&(this._helperLayers.clearLayers(),this._helperLayers.removeFrom(this._map)),this.options[this._editableOption]?(this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(d){this.enabled()?this.disable():this.enable(d)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let d=this._map;this._helperLayers&&(this._helperLayers.removeFrom(d),this._helperLayers.clearLayers()),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(d);let p=this._layer.getLatLng(),v=this._layer._radius,x=this._getLatLngOnCircle(p,v);this._centerMarker=this._createCenterMarker(p),this._outerMarker=this._createOuterMarker(x),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(d,p){let v=this._map.project(d),x=L.point(v.x+p,v.y);return this._map.unproject(x)},_createHintLine(d,p){let v=d.getLatLng(),x=p.getLatLng();this._hintline=L.polyline([v,x],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(d){let p=this._createMarker(d);return this.options.draggable?(L.DomUtil.addClass(p._icon,"leaflet-pm-draggable"),p.on("move",this._moveCircle,this)):p.dragging.disable(),p},_createOuterMarker(d){let p=this._createMarker(d);return p.on("drag",this._resizeCircle,this),p},_createMarker(d){let p=new L.Marker(d,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._origLatLng=d,p._pmTempLayer=!0,p.on("dragstart",this._onMarkerDragStart,this),p.on("drag",this._onMarkerDrag,this),p.on("dragend",this._onMarkerDragEnd,this),p.on("click",this._onVertexClick,this),this._helperLayers.addLayer(p),p},_moveCircle(d){if(d.target._cancelDragEventChain)return;let p=this._centerMarker.getLatLng();this._layer.setLatLng(p);let v=this._layer._radius,x=this._getLatLngOnCircle(p,v);this._outerMarker._latlng=x,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let d=this._layer.getLatLng(),p=this._layer._radius,v=this._getLatLngOnCircle(d,p);this._outerMarker.setLatLng(v),this._centerMarker.setLatLng(d),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let d=this._centerMarker.getLatLng(),p=this._outerMarker.getLatLng(),v=this._distanceCalculation(d,p);this.options[this._minRadiusOption]&&v<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&v>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(v),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let d=this._centerMarker.getLatLng(),p=this._outerMarker.getLatLng();this._hintline.setLatLngs([d,p])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(d){this._vertexValidation("move",d)&&this._fireMarkerDragStart(d)},_onMarkerDrag(d){let p=d.target;p instanceof L.Marker&&!this._vertexValidationDrag(p)||this._fireMarkerDrag(d)},_onMarkerDragEnd(d){this._extedingMarkerDragEnd();let p=d.target;this._vertexValidationDragEnd(p)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(d))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let d=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,d.off("pm:drag",this._handleSnapping,this),d.on("pm:drag",this._handleSnapping,this),d.off("pm:dragend",this._cleanupSnapping,this),d.on("pm:dragend",this._cleanupSnapping,this),d.off("pm:dragstart",this._unsnap,this),d.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let d=this._layer;d.off("pm:drag",this._handleSnapping,this),d.off("pm:dragend",this._cleanupSnapping,this),d.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let d=this._layer._map||this._map;if(d){let p=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),d,this._layer.getLatLng()),v=L.circle(this._layer.getLatLng(),this._layer.options);v.setRadius(p);let x=d&&d.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(v,200,!x).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(v,200,!x),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let d=this._centerMarker.getLatLng(),p=this._outerMarker.getLatLng(),v=this._distanceCalculation(d,p);return this.options[this._minRadiusOption]&&v<this.options[this._minRadiusOption]?p=eo(this._map,d,p,this._getMinDistanceInMeter(d)):this.options[this._maxRadiusOption]&&v>this.options[this._maxRadiusOption]&&(p=eo(this._map,d,p,this._getMaxDistanceInMeter(d))),p},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let d=this._centerMarker.getLatLng(),p=this._outerMarker.getLatLng(),v=this._distanceCalculation(d,p);this.options[this._minRadiusOption]&&v<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&v>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(d,p){return this._map.project(d).distanceTo(this._map.project(p))},_getMinDistanceInMeter(d){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,d)},_getMaxDistanceInMeter(d){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,d)},_onVertexClick(d){d.target._dragging||this._fireVertexClick(d,void 0)}}),Yn.Circle=Yn.CircleMarker.extend({_shape:"Circle",initialize(d){this._layer=d,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._updateHiddenPolyCircle()},enable(d){L.PM.Edit.CircleMarker.prototype.enable.call(this,d||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let d=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(d,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let d=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!d).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!d),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(d,p){return this._map.distance(d,p)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(d){d.target._dragging||this._fireVertexClick(d,void 0)}}),Yn.ImageOverlay=Yn.extend({_shape:"ImageOverlay",initialize(d){this._layer=d,this._enabled=!1},toggleEdit(d){this.enabled()?this.disable():this.enable(d)},enabled(){return this._enabled},enable(d={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,d),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let d=this._layer.getBounds(),p=d.getNorthWest(),v=d.getNorthEast(),x=d.getSouthEast(),M=d.getSouthWest();return[p,v,x,M]}}),Yn.Text=Yn.extend({_shape:"Text",initialize(d){this._layer=d,this._enabled=!1},enable(d){if(L.Util.setOptions(this,d),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let d=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),d.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(d){this.enabled()?this.disable():this.enable(d)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let d=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,d.off("pm:drag",this._handleSnapping,this),d.on("pm:drag",this._handleSnapping,this),d.off("pm:dragend",this._cleanupSnapping,this),d.on("pm:dragend",this._cleanupSnapping,this),d.off("pm:dragstart",this._unsnap,this),d.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let d=this._layer;d.off("pm:drag",this._handleSnapping,this),d.off("pm:dragend",this._cleanupSnapping,this),d.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let d=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,p=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${d}px`,this.textArea.style.width=`${p}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(d){d.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(d={}){let p=this._hasFocus;this._hasFocus=d.type==="focus",!p!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(d){d&&(this.textArea.value=d),this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let p=this.options.className.split(" ");this.textArea.classList.add(...p)}let d=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(d),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(d=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),d===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(d){d.preventDefault()}});var Br=function(d,p,v,x,M,P){this._matrix=[d,p,v,x,M,P]};Br.init=()=>new L.PM.Matrix(1,0,0,1,0,0),Br.prototype={transform(d){return this._transform(d.clone())},_transform(d){let p=this._matrix,{x:v,y:x}=d;return d.x=p[0]*v+p[1]*x+p[4],d.y=p[2]*v+p[3]*x+p[5],d},untransform(d){let p=this._matrix;return new L.Point((d.x/p[0]-p[4])/p[0],(d.y/p[2]-p[5])/p[2])},clone(){let d=this._matrix;return new L.PM.Matrix(d[0],d[1],d[2],d[3],d[4],d[5])},translate(d){if(d===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let p,v;return typeof d=="number"?(p=d,v=d):(p=d.x,v=d.y),this._add(1,0,0,1,p,v)},scale(d,p){if(d===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let v,x;return p=p||L.point(0,0),typeof d=="number"?(v=d,x=d):(v=d.x,x=d.y),this._add(v,0,0,x,p.x,p.y)._add(1,0,0,1,-p.x,-p.y)},rotate(d,p){let v=Math.cos(d),x=Math.sin(d);return p=p||new L.Point(0,0),this._add(v,x,-x,v,p.x,p.y)._add(1,0,0,1,-p.x,-p.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(d,p,v,x,M,P){let B=[[],[],[]],R=this._matrix,j=[[R[0],R[2],R[4]],[R[1],R[3],R[5]],[0,0,1]],q=[[d,v,M],[p,x,P],[0,0,1]],oe;d&&d instanceof L.PM.Matrix&&(R=d._matrix,q=[[R[0],R[2],R[4]],[R[1],R[3],R[5]],[0,0,1]]);for(let re=0;re<3;re+=1)for(let Ee=0;Ee<3;Ee+=1){oe=0;for(let Ae=0;Ae<3;Ae+=1)oe+=j[re][Ae]*q[Ae][Ee];B[re][Ee]=oe}return this._matrix=[B[0][0],B[1][0],B[0][1],B[1][1],B[0][2],B[1][2]],this}};var wn=Br,ro={calcMiddleLatLng(d,p,v){let x=d.project(p),M=d.project(v);return d.unproject(x._add(M)._divideBy(2))},findLayers(d){let p=[];return d.eachLayer(v=>{(v instanceof L.Polyline||v instanceof L.Marker||v instanceof L.Circle||v instanceof L.CircleMarker||v instanceof L.ImageOverlay)&&p.push(v)}),p=p.filter(v=>!!v.pm),p=p.filter(v=>!v._pmTempLayer),p=p.filter(v=>!L.PM.optIn&&!v.options.pmIgnore||L.PM.optIn&&v.options.pmIgnore===!1),p},circleToPolygon(d,p=60,v=!0){let x=d.getLatLng(),M=d.getRadius(),P=ta(x,M,p,0,v),B=[];for(let R=0;R<P.length;R+=1){let j=[P[R].lat,P[R].lng];B.push(j)}return L.polygon(B,d.options)},disablePopup(d){d.getPopup()&&(d._tempPopupCopy=d.getPopup(),d.unbindPopup())},enablePopup(d){d._tempPopupCopy&&(d.bindPopup(d._tempPopupCopy),delete d._tempPopupCopy)},_fireEvent(d,p,v,x=!1){d.fire(p,v,x);let{groups:M}=this.getAllParentGroups(d);M.forEach(P=>{P.fire(p,v,x)})},getAllParentGroups(d){let p=[],v=[],x=M=>{for(let P in M._eventParents)if(p.indexOf(P)===-1){p.push(P);let B=M._eventParents[P];v.push(B),x(B)}};return!d._pmLastGroupFetch||!d._pmLastGroupFetch.time||new Date().getTime()-d._pmLastGroupFetch.time>1e3?(x(d),d._pmLastGroupFetch={time:new Date().getTime(),groups:v,groupIds:p},{groupIds:p,groups:v}):{groups:d._pmLastGroupFetch.groups,groupIds:d._pmLastGroupFetch.groupIds}},createGeodesicPolygon:ta,getTranslation:Bt,findDeepCoordIndex(d,p,v=!0){let x,M=B=>(R,j)=>{let q=B.concat(j);if(v){if(R.lat&&R.lat===p.lat&&R.lng===p.lng)return x=q,!0}else if(R.lat&&L.latLng(R).equals(p))return x=q,!0;return Array.isArray(R)&&R.some(M(q))};d.some(M([]));let P={};return x&&(P={indexPath:x,index:x[x.length-1],parentPath:x.slice(0,x.length-1)}),P},findDeepMarkerIndex(d,p){let v,x=P=>(B,R)=>{let j=P.concat(R);return B._leaflet_id===p._leaflet_id?(v=j,!0):Array.isArray(B)&&B.some(x(j))};d.some(x([]));let M={};return v&&(M={indexPath:v,index:v[v.length-1],parentPath:v.slice(0,v.length-1)}),M},_getIndexFromSegment(d,p){if(p&&p.length===2){let v=this.findDeepCoordIndex(d,p[0]),x=this.findDeepCoordIndex(d,p[1]),M=Math.max(v.index,x.index);return(v.index===0||x.index===0)&&M!==1&&(M+=1),{indexA:v,indexB:x,newIndex:M,indexPath:v.indexPath,parentPath:v.parentPath}}return null},_getRotatedRectangle(d,p,v,x){let M=mr(x,d),P=mr(x,p),B=v*Math.PI/180,R=Math.cos(B),j=Math.sin(B),q=(P.x-M.x)*R+(P.y-M.y)*j,oe=(P.y-M.y)*R-(P.x-M.x)*j,re=q*R+M.x,Ee=q*j+M.y,Ae=-oe*j+M.x,Ve=oe*R+M.y,tt=Po(x,M),lt=Po(x,{x:re,y:Ee}),Wt=Po(x,P),ie=Po(x,{x:Ae,y:Ve});return[tt,lt,Wt,ie]},pxRadiusToMeterRadius(d,p,v){let x=p.project(v),M=L.point(x.x+d,x.y);return p.distance(p.unproject(M),v)}},Zf=ro;L.PM=L.PM||{version:La.version,Map:Ta,Toolbar:pu,Draw:Hn,Edit:Yn,Utils:Zf,Matrix:wn,activeLang:"en",optIn:!1,initialize(d){this.addInitHooks(d)},setOptIn(d){this.optIn=!!d},addInitHooks(){function d(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(d);function p(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(p);function v(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(v);function x(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(x);function M(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(M);function P(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(P);function B(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(B);function R(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(R);function j(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(j)},reInitLayer(d){d instanceof L.LayerGroup&&d.eachLayer(p=>{this.reInitLayer(p)}),d.pm||L.PM.optIn&&d.options.pmIgnore!==!1||d.options.pmIgnore||(d instanceof L.Map?d.pm=new L.PM.Map(d):d instanceof L.Marker?d.options.textMarker?(d.pm=new L.PM.Edit.Text(d),d.pm._initTextMarker(),d.pm._createTextMarker(!1)):d.pm=new L.PM.Edit.Marker(d):d instanceof L.Circle?d.pm=new L.PM.Edit.Circle(d):d instanceof L.CircleMarker?d.pm=new L.PM.Edit.CircleMarker(d):d instanceof L.Rectangle?d.pm=new L.PM.Edit.Rectangle(d):d instanceof L.Polygon?d.pm=new L.PM.Edit.Polygon(d):d instanceof L.Polyline?d.pm=new L.PM.Edit.Line(d):d instanceof L.LayerGroup?d.pm=new L.PM.Edit.LayerGroup(d):d instanceof L.ImageOverlay&&(d.pm=new L.PM.Edit.ImageOverlay(d)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(d){let p=this._map.mouseEventToLayerPoint(d),v,x;for(let M=this._drawFirst;M;M=M.next)v=M.layer,v.options.interactive&&v._containsPoint(p)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(v))&&(x=v);x&&(L.DomEvent.fakeStop(d),this._fireEvent([x],d))}}),L.PM.initialize()})()),xk}OY();window.L=Pn;delete Pn.Icon.Default.prototype._getIconUrl;Pn.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const BY=t=>`
  .custom-popup .leaflet-popup-content-wrapper { background-color: var(--color-bg-primary) !important; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); background-opacity: 0.8; box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37) !important; border: 1px solid var(--color-border) !important; border-radius: 8px; }
  .custom-popup .leaflet-popup-tip { background: var(--color-bg-primary) !important; }
  .custom-popup .leaflet-popup-content { margin: 0 !important; }
  .custom-popup .leaflet-container a.leaflet-popup-close-button { display: none !important; }
  .leaflet-bar a.search-button, .leaflet-bar a.reset { background-color: var(--color-bg-primary) !important; border-color: var(--color-border) !important; color: var(--color-text-primary) !important; }
  .leaflet-bar a.search-button:hover, .leaflet-bar a.reset:hover { background-color: var(--color-bg-tertiary) !important; }
  .leaflet-draw-toolbar a { background-color: var(--color-bg-primary) !important; border-color: var(--color-border) !important; }
  .leaflet-draw-toolbar a:hover { background-color: var(--color-bg-tertiary) !important; }
  .marker-cluster { border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }
  .marker-cluster-ok { background-color: ${t.accent_secondary}BF; border: 2px solid ${t.accent_secondary}; }
  .marker-cluster-warning { background-color: ${t.warning}BF; border: 2px solid ${t.warning}; }
  .marker-cluster-overload { background-color: ${t.overload}BF; border: 2px solid ${t.overload}; }
  .vaps-tooltip, .cluster-tooltip { background-color: ${t.bg_tertiary} !important; border: 1px solid ${t.border} !important; color: ${t.text_primary} !important; box-shadow: 0 1px 3px rgba(0,0,0,0.4) !important; border-radius: 4px; padding: 6px !important; font-size: 12px; }
  .vaps-tooltip .status-ok, .cluster-tooltip .status-ok { color: ${t.accent_secondary}; font-weight: bold; }
  .vaps-tooltip .status-warning, .cluster-tooltip .status-warning { color: ${t.warning}; font-weight: bold; }
  .vaps-tooltip .status-overload, .cluster-tooltip .status-overload { color: ${t.overload}; font-weight: bold; }
`,wk=(t,e)=>{const r=e==="N"||e==="S"?2:3;if(t.length<r+2)return NaN;const i=parseInt(t.slice(0,r),10),o=parseFloat(t.slice(r));if(isNaN(i)||isNaN(o))return NaN;let a=i+o/60;return(e==="S"||e==="W")&&(a*=-1),a},NY=(t,e)=>{if(!t||t.length<2)return(t==null?void 0:t[0])||null;const n=[0];let r=0;for(let S=0;S<t.length-1;S++){const A=t[S].distanceTo(t[S+1]);r+=A,n.push(r)}if(r===0)return t[0];const i=e*r;if(i<=0)return t[0];if(i>=r)return t[t.length-1];let o=0;for(let S=0;S<n.length-1;S++)if(i>=n[S]&&i<=n[S+1]){o=S;break}const a=t[o],u=t[o+1],f=n[o+1]-n[o],h=i-n[o];if(f<1e-6)return a;const m=h/f,_=a.lat+(u.lat-a.lat)*m,E=a.lng+(u.lng-a.lng)*m;return Pn.latLng(_,E)},RY=({isOpen:t,onClose:e,rawRecords:n,spsPoints:r,theme:i,summaryData:o})=>{const{t:a,language:u}=qi(),[f,h]=$.useState("loading"),[m,_]=$.useState([]),[E,S]=$.useState([]),[A,I]=$.useState(null);return $.useEffect(()=>{t&&(h("loading"),setTimeout(()=>{try{const N=n.flatMap(Z=>{var Le,Pe,_e,Ne,qe;const X=(Le=Z.gpgga)==null?void 0:Le.match(/\$GPGGA,(\d{6}(?:\.\d{1,})?),(\d{4}\.\d+),([NS]),(\d{5}\.\d+),([EW]),\d,\d+,[\d\.]+,([\d\.-]+)/);if(!Z.vibratorId||!X)return[];const te=wk(X[2],X[3]),ne=wk(X[4],X[5]);if(isNaN(te)||isNaN(ne))return[];const se=X[1],ke=new Date(1970,0,1,parseInt(se.substring(0,2)),parseInt(se.substring(2,4)),parseInt(se.substring(4,6)));return[{id:Z.id,vibroId:Z.vibratorId,time:ke,location:{lat:te,lon:ne,elevation:parseFloat(X[6])},status:Z.status,line:Z.lineName||"",point:Z.pointNumber||"",shotNb:((Pe=Z.shotNb)==null?void 0:Pe.toString())||"",avgForce:((_e=Z.averageForce)==null?void 0:_e.toString())||"0",avgPhase:((Ne=Z.averagePhase)==null?void 0:Ne.toString())||"0",avgDist:((qe=Z.averageDistortion)==null?void 0:qe.toString())||"0",duplicateVibrators:Z.duplicateVibrators,slope:Z.slope}]});_(N);const z=31,G=r.map(Z=>{try{const X=DY(Z.x,Z.y,z,"N");return{...Z,location:{lat:X.latitude,lon:X.longitude,elevation:Z.z}}}catch(X){return console.warn(`Could not convert UTM for SPS point ${Z.id}`,X),null}}).filter(Z=>Z!==null);if(S(G),N.length===0&&G.length===0)throw new Error(a("noGpsData"));h("ready")}catch(N){const z=N;console.error("Error preparing map data:",z),I(z.message||a("mapDataError")),h("error")}},50))},[t,n,r,a]),t?V.jsxs("div",{className:"fixed inset-0 bg-bg-primary z-40",children:[V.jsx("style",{children:BY(i)}),V.jsxs("div",{className:"w-full h-full relative",children:[f==="ready"&&V.jsx(FY,{center:[28.0339,1.6596],zoom:6,scrollWheelZoom:!0,maxZoom:22,vapsPoints:m,spsPoints:E,summaryData:o,theme:i}),f!=="ready"&&V.jsxs("div",{className:"absolute inset-0 z-[1001] flex flex-col items-center justify-center bg-bg-primary/90 backdrop-blur-sm gap-4 text-text-primary p-4 text-center",children:[f==="loading"&&V.jsx("div",{className:"w-12 h-12 border-4 border-t-accent-primary border-transparent rounded-full animate-spin"}),f==="error"&&V.jsx(Pf,{size:48,className:"text-yellow-400"}),V.jsx("p",{className:"text-xl",children:f==="loading"?a("generatingStatus"):A})]}),V.jsx("button",{onClick:e,className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-[1001] bg-accent-primary text-white font-bold py-2 px-8 rounded-full shadow-lg hover:opacity-90 hover:translate-y-0 transition-[box-shadow,opacity,transform]",children:a("returnToProgramInterface")})]})]}):null},FY=({vapsPoints:t,spsPoints:e,summaryData:n,theme:r,...i})=>{const[o,a]=$.useState(null),u=$.useRef(null),f=$.useRef(null),h=$.useContext(w_),{t:m}=qi(),[_,E]=$.useState(e.length>0&&n?"planner":"analysis"),[S,A]=$.useState({ok:!0,warning:!0,overload:!0}),[I,N]=$.useState(null),z=$.useMemo(()=>{const je=new Map;return(t||[]).forEach(Ze=>{const Ge=je.get(Ze.vibroId)||{count:0};Ge.count++,je.set(Ze.vibroId,Ge)}),je},[t]),G=$.useMemo(()=>Array.from(z.keys()).sort((je,Ze)=>Gi(je)-Gi(Ze)),[z]),Z=$.useMemo(()=>{let je=t||[];return je=je.filter(Ze=>S[Ze.status]),I&&(je=je.filter(Ze=>Ze.vibroId===I)),je},[I,S,t]),[X,te]=$.useState(null),[ne,se]=$.useState("difficulty"),[ke,Le]=$.useState([]),Pe=$.useRef(null),_e=$.useRef(null),[Ne,qe]=$.useState(iv([])),Ke=$.useMemo(()=>{if(!n)return{};const je=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#C9CBCF","#E63946","#F1FAEE","#A8DADC","#457B9D","#1D3557"],Ze={};return n.individual_performance.forEach((Ge,Ue)=>{Ze[Ge.vibro_id]=je[Ue%je.length]}),Ze},[n]),ht=(t||[]).length,Xe=Z.length,it=e.length,Ie=X?X.length:0,nt=$.useCallback(()=>{const je=f.current;if(!je)return;if(_==="analysis"){if(Z.length===0)return;const Ue=Pn.latLngBounds(Z.map(Mt=>[Mt.location.lat,Mt.location.lon]));Ue.isValid()&&je.flyToBounds(Ue,{padding:[80,80],maxZoom:18});return}const Ze=(X&&X.length>0?X:e).filter(Ue=>Ue==null?void 0:Ue.location);if(Ze.length===0)return;const Ge=Pn.latLngBounds(Ze.map(Ue=>[Ue.location.lat,Ue.location.lon]));Ge.isValid()&&je.flyToBounds(Ge,{padding:[80,80],maxZoom:16})},[_,X,Z,e]);$.useEffect(()=>{const je=u.current;if(je&&!f.current){try{const Ze=Pn.map(je,{...i});f.current=Ze;const Ge={[m("satellite")]:Pn.tileLayer("https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:22,subdomains:["mt0","mt1","mt2","mt3"]}),[m("streetMap")]:Pn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:22})};Ge[m("satellite")].addTo(Ze),Pn.control.layers(Ge).addTo(Ze),Pn.control.scale({imperial:!1}).addTo(Ze),Ze.addControl(new xY({provider:new wY,style:"bar",autoClose:!0,searchLabel:m("searchLabelPlaceholder")})),Ze.pm.addControls({position:"topright",drawCircle:!1,drawCircleMarker:!1,drawMarker:!1}),Ze.on("pm:create",Ue=>{if(Ue.shape==="Polygon"){const Mt=Ue.layer.toGeoJSON();qe(Dt=>iv([...Dt.features,Mt])),Ue.layer.bindTooltip(m("noGoZone"),{sticky:!0}).openTooltip()}}),a(Ze)}catch(Ze){console.error("Failed to initialize map:",Ze)}return()=>{try{f.current&&(f.current.remove(),f.current=null,a(null))}catch(Ze){console.warn("Error removing map:",Ze)}}}},[]);const xe=()=>{if(!n||e.length===0)return;const je=fD(e,n.individual_performance,Ne);te(je),se("assignment"),alert(m("planGenerated"))},fe=()=>{te(null),se("difficulty"),Le([])},ve=()=>{if(!X)return;let je="data:text/csv;charset=utf-8,";je+=`Vibrator,Line,Station,Difficulty,Easting,Northing,Elevation\r
`,X.forEach(Ue=>{const Mt=[Ue.assignedVibrator,Ue.line,Ue.station,Ue.difficulty.toFixed(3),Ue.x,Ue.y,Ue.z].join(",");je+=Mt+`\r
`});const Ze=encodeURI(je),Ge=document.createElement("a");Ge.setAttribute("href",Ze),Ge.setAttribute("download","work_plan.csv"),document.body.appendChild(Ge),Ge.click(),document.body.removeChild(Ge)};return $.useEffect(()=>{if(_e.current&&(cancelAnimationFrame(_e.current),_e.current=null),o&&Pe.current&&(o.removeLayer(Pe.current),Pe.current=null),o&&ke.length>0&&X){const je=Pn.layerGroup().addTo(o);Pe.current=je;const Ze=ke.map(Ge=>{const Ue=X.filter(Ct=>Ct.assignedVibrator===Ge).map(Ct=>Pn.latLng(Ct.location.lat,Ct.location.lon));if(Ue.length<2)return null;Pn.polyline(Ue,{color:Ke[Ge]||r.text_secondary,weight:2,opacity:.6,dashArray:"5, 10"}).addTo(je);const Mt=Pn.divIcon({html:`<div style="background-color: ${Ke[Ge]}; width: 14px; height: 14px; border-radius: 50%; box-shadow: 0 0 12px 4px ${Ke[Ge]}; border: 2px solid #fff;"></div>`,className:"",iconSize:[14,14]}),Dt=Pn.marker(Ue[0],{icon:Mt}).addTo(je);let $e=0;for(let Ct=0;Ct<Ue.length-1;Ct++)$e+=Ue[Ct].distanceTo(Ue[Ct+1]);const vt=Math.max(3e3,$e/500*1e3);return{marker:Dt,path:Ue,duration:vt}}).filter(Boolean);if(Ze.length>0){let Ge=null;const Ue=Mt=>{Ge||(Ge=Mt);const Dt=Mt-Ge;Ze.forEach($e=>{if($e){const vt=Dt%$e.duration/$e.duration,Ct=NY($e.path,vt);Ct&&$e.marker.setLatLng(Ct)}}),_e.current=requestAnimationFrame(Ue)};_e.current=requestAnimationFrame(Ue)}}return()=>{_e.current&&cancelAnimationFrame(_e.current)}},[ke,X,o,r,Ke]),V.jsxs("div",{className:"w-full h-full relative",children:[V.jsx("div",{ref:u,className:"w-full h-full"}),o&&V.jsxs(V.Fragment,{children:[_==="analysis"&&V.jsx(zY,{map:o,points:Z,totalPointsCount:(t||[]).length,theme:r,i18nContextValue:h}),_==="planner"&&V.jsx(jY,{map:o,spsPoints:X||e,colorMode:ne,vibratorColors:Ke,theme:r,highlightedVibrators:ke}),V.jsx(UY,{map:o,mode:_,setMode:E,plan:X,handleGeneratePlan:xe,handleClearPlan:fe,handleExportPlan:ve,summaryData:n,colorMode:ne,setColorMode:se,highlightedVibrators:ke,setHighlightedVibrators:Le,spsPoints:e,vapsPoints:t,hasVaps:t.length>0,statusFilters:S,setStatusFilters:A,activeVibratorId:I,setActiveVibratorId:N,sortedVibrators:G,vibratorSummaries:z,vibratorColors:Ke}),V.jsx($Y,{mode:_,colorMode:ne,totalVaps:ht,visibleVaps:Xe,totalSps:it,plannedCount:Ie,summaryData:n,onRecenter:nt})]})]})},zY=({map:t,points:e,totalPointsCount:n,theme:r,i18nContextValue:i})=>{const o=$.useRef(null),{t:a}=qi(),[u,f]=$.useState([]);return $.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(u)&&f(e)},[e,u]),$.useEffect(()=>{if(!t||(o.current&&(t.removeLayer(o.current),o.current=null),!u||u.length===0))return;const h=Pn.markerClusterGroup({chunkedLoading:!0,maxClusterRadius:60,iconCreateFunction:m=>{const _=m.getAllChildMarkers();let E=0,S=0;_.forEach(z=>{z.options.status==="overload"?E++:z.options.status==="warning"&&S++});let A=" marker-cluster-";const I=m.getChildCount();I<10?A+="small":I<100?A+="medium":A+="large";const N=E>0?"marker-cluster-overload":S>0?"marker-cluster-warning":"marker-cluster-ok";return Pn.divIcon({html:`<div><span>${I}</span></div>`,className:`marker-cluster${A} ${N}`,iconSize:Pn.point(40,40)})}});if(h.on("clustermouseover",m=>{const _=m.layer.getAllChildMarkers();let E=0,S=0;_.forEach(N=>{N.options.status==="overload"?E++:N.options.status==="warning"&&S++});const A=_.length-E-S,I=[];A>0&&I.push(`<div class="status-ok">${a("ok")}: ${A}</div>`),S>0&&I.push(`<div class="status-warning">${a("warning")}: ${S}</div>`),E>0&&I.push(`<div class="status-overload">${a("overload")}: ${E}</div>`),m.layer.bindTooltip(`<b>Total: ${_.length}</b><br>${I.join("")}`,{direction:"top",sticky:!0,className:"cluster-tooltip"}).openTooltip()}),h.on("clustermouseout",m=>m.layer.closeTooltip()),u.forEach(m=>{const _={ok:r.accent_secondary,warning:r.warning,overload:r.overload},E=Pn.circleMarker([m.location.lat,m.location.lon],{radius:6,fillColor:_[m.status],color:r.bg_primary,weight:1.5,opacity:1,fillOpacity:.8});E.options.status=m.status;const S=`
                <b>${a("popup_vibrator")} ${Gi(m.vibroId)}</b><br>
                ${a("popup_line")}: ${m.line} | ${a("popup_point")}: ${m.point}<br>
                ${a("time")}: ${m.time.toLocaleTimeString()}<br>
                ${a("popup_status")}: <span class="status-${m.status}">${a(m.status)}</span>
            `;E.bindTooltip(S,{className:"vaps-tooltip"}),h.addLayer(E)}),t.addLayer(h),o.current=h,u.length>0&&u.length===n){const m=h.getBounds();m.isValid()&&t.flyToBounds(m,{padding:[50,50],maxZoom:18})}return()=>{t&&o.current&&t.removeLayer(o.current)}},[t,u,r,i,a,n]),null},jY=({map:t,spsPoints:e,colorMode:n,vibratorColors:r,theme:i,highlightedVibrators:o})=>{const a=$.useRef(null),u=$.useRef(null),f=h=>h>.66?i.overload:h>.33?i.warning:i.accent_secondary;return $.useEffect(()=>{if(!t)return;a.current&&t.removeLayer(a.current);const h=Pn.featureGroup();return e.forEach(m=>{const _=n==="assignment"?m.assignedVibrator?r[m.assignedVibrator]:"#888":f(m.difficulty),E=n==="assignment"&&o.includes(m.assignedVibrator),S=Pn.circleMarker([m.location.lat,m.location.lon],{radius:E?8:5,fillColor:_,color:E?i.text_primary:_,weight:E?2:1,opacity:1,fillOpacity:E?1:.7});S.bindTooltip(`Line: ${m.line}, Station: ${m.station}<br>Difficulty: ${m.difficulty.toFixed(2)}`),h.addLayer(S)}),h.addTo(t),a.current=h,()=>{a.current&&t.hasLayer(a.current)&&(t.removeLayer(a.current),a.current=null)}},[t,e,n,r,i,o]),$.useEffect(()=>{const h=JSON.stringify(e.map(m=>m.id));if(t&&a.current&&e.length>0&&h!==u.current){u.current=h;const m=a.current.getBounds();m.isValid()&&t.flyToBounds(m,{padding:[50,50]})}},[t,e]),null},UY=({map:t,mode:e,setMode:n,plan:r,handleGeneratePlan:i,handleClearPlan:o,handleExportPlan:a,summaryData:u,colorMode:f,setColorMode:h,highlightedVibrators:m,setHighlightedVibrators:_,spsPoints:E,vapsPoints:S,hasVaps:A,statusFilters:I,setStatusFilters:N,activeVibratorId:z,setActiveVibratorId:G,sortedVibrators:Z,vibratorSummaries:X,vibratorColors:te})=>{const{t:ne,language:se}=qi(),[ke,Le]=$.useState(!1),Pe=$.useRef(null);$.useEffect(()=>{Pe.current&&Pn.DomEvent.disableClickPropagation(Pe.current)},[]);const _e=$.useMemo(()=>new Intl.NumberFormat(se==="fr"?"fr-FR":"en-US"),[se]),Ne=E.length>0&&u,qe=$.useMemo(()=>{if(!E||E.length===0)return null;const Xe=E.length,it=new Set(E.map(Ie=>Ie.line)).size;return{totalPoints:Xe,totalLines:it}},[E]),Ke=$.useMemo(()=>{if(!r)return{};const Xe={};return r.forEach(it=>{it.assignedVibrator&&(Xe[it.assignedVibrator]=(Xe[it.assignedVibrator]||0)+1)}),Xe},[r]),ht=Xe=>{_(it=>{const Ie=new Set(it);return Ie.has(Xe)?Ie.delete(Xe):Ie.add(Xe),Array.from(Ie)})};return V.jsxs("div",{ref:Pe,className:`absolute top-6 left-6 z-[1002] transition-all duration-300 ${ke?"w-14 h-14":"w-[360px]"}`,children:[V.jsx("button",{onClick:()=>Le(!ke),className:"absolute -right-3 top-4 bg-bg-tertiary p-1 rounded-full border border-border-color hover:bg-border-color",children:ke?V.jsx(C3,{size:16}):V.jsx(kk,{size:16})}),V.jsxs("div",{className:`p-4 transition-opacity duration-200 ${ke?"opacity-0 invisible":"opacity-100 visible"}`,style:{height:"calc(100vh - 48px)"},children:[V.jsx("h2",{className:"text-lg font-bold flex items-center gap-2 mb-2 pb-2 border-b border-border-color",children:ne("geoPlanner")}),V.jsxs("div",{className:"flex bg-bg-tertiary rounded-md p-1 mb-4",children:[A&&V.jsxs("button",{onClick:()=>n("analysis"),className:`flex-1 text-sm font-semibold p-2 rounded ${e==="analysis"?"bg-accent-primary text-white":"hover:bg-bg-secondary"}`,children:[V.jsx(UA,{size:16,className:"inline mr-1"}),ne("analysis")]}),E.length>0&&V.jsxs("button",{onClick:()=>n("planner"),className:`flex-1 text-sm font-semibold p-2 rounded ${e==="planner"?"bg-accent-primary text-white":"hover:bg-bg-secondary"}`,children:[V.jsx(x_,{size:16,className:"inline mr-1"}),ne("planner")]})]}),V.jsxs("div",{className:"h-[calc(100%-80px)] overflow-y-auto pr-2 -mr-2",children:[e==="planner"&&V.jsxs("div",{children:[qe&&V.jsxs("div",{className:"mb-4 p-3 bg-bg-secondary rounded-md border border-border-color",children:[V.jsxs("h3",{className:"font-semibold text-sm text-text-secondary mb-2 flex items-center gap-2",children:[V.jsx(Mk,{size:16})," ",ne("spsPlanData")]}),V.jsxs("div",{className:"space-y-1 text-sm",children:[V.jsxs("div",{className:"flex justify-between",children:[V.jsxs("span",{children:[ne("totalSpsPoints"),":"]}),V.jsx("span",{className:"font-bold",children:_e.format(qe.totalPoints)})]}),V.jsxs("div",{className:"flex justify-between",children:[V.jsxs("span",{children:[ne("totalSpsLines"),":"]}),V.jsx("span",{className:"font-bold",children:_e.format(qe.totalLines)})]})]})]}),!Ne&&V.jsx("div",{className:"text-center text-sm text-text-secondary p-4 bg-bg-secondary rounded-md",children:E.length===0?ne("noSpsData"):ne("noVapsDataForPlanning")}),Ne&&V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:"space-y-2 mb-4",children:[V.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 p-2 rounded-md bg-accent-primary text-white font-semibold hover:opacity-90",children:[V.jsx(nv,{size:16}),ne("generatePlan")]}),V.jsxs("div",{className:"flex gap-2",children:[V.jsxs("button",{onClick:o,disabled:!r,className:"w-full flex items-center justify-center gap-2 p-2 rounded-md bg-bg-tertiary text-text-secondary font-semibold hover:bg-border-color disabled:opacity-50",children:[V.jsx(Pk,{size:16}),ne("clearPlan")]}),V.jsxs("button",{onClick:a,disabled:!r,className:"w-full flex items-center justify-center gap-2 p-2 rounded-md bg-bg-tertiary text-text-secondary font-semibold hover:bg-border-color disabled:opacity-50",children:[V.jsx(a3,{size:16}),ne("exportPlan")]})]})]}),r&&V.jsxs("div",{className:"mb-3",children:[V.jsxs("h3",{className:"font-semibold text-sm text-text-secondary mb-2 flex items-center gap-2",children:[V.jsx(tv,{size:16})," ",ne("colorBy")]}),V.jsxs("div",{className:"flex bg-bg-tertiary rounded-md p-1",children:[V.jsx("button",{onClick:()=>h("difficulty"),className:`flex-1 text-xs p-1 rounded ${f==="difficulty"?"bg-bg-primary shadow-sm":""}`,children:ne("difficulty")}),V.jsx("button",{onClick:()=>h("assignment"),className:`flex-1 text-xs p-1 rounded ${f==="assignment"?"bg-bg-primary shadow-sm":""}`,children:ne("assignment")})]})]}),V.jsxs("div",{children:[V.jsxs("h3",{className:"font-semibold text-sm text-text-secondary mb-2 flex items-center gap-2",children:[V.jsx(Hh,{size:16}),ne("vibratorFleet")]}),V.jsx("div",{className:"space-y-1",children:u==null?void 0:u.individual_performance.map(Xe=>{const it=m.includes(Xe.vibro_id);return V.jsxs("div",{onClick:()=>r&&ht(Xe.vibro_id),className:`p-2 rounded-md cursor-pointer flex items-center gap-3 ${it?"bg-accent-primary/20 ring-1 ring-accent-primary":"bg-bg-secondary"}`,children:[V.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:te[Xe.vibro_id]}}),V.jsxs("div",{className:"flex-grow",children:[V.jsxs("div",{className:"flex justify-between items-center",children:[V.jsx("span",{className:"font-bold text-sm text-text-primary",children:Xe.vibro_id}),r&&V.jsxs("span",{className:"text-xs font-mono px-2 py-0.5 rounded-full bg-bg-primary text-text-secondary",children:[_e.format(Ke[Xe.vibro_id]||0)," ",ne("tasksAssigned")]})]}),V.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[ne("efficiency"),": ",Xe.efficiencyScore.toFixed(1),"%"]})]})]},Xe.vibro_id)})})]})]})]}),e==="analysis"&&V.jsxs("div",{children:[V.jsxs("div",{className:"mb-4",children:[V.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[V.jsx(S3,{size:16})," ",ne("filterPoints")]}),V.jsx("div",{className:"space-y-2 text-sm",children:["ok","warning","overload"].map(Xe=>V.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded-md hover:bg-bg-secondary",children:[I[Xe]?V.jsx(A3,{size:16,className:"text-accent-primary"}):V.jsx(I3,{size:16,className:"text-text-secondary"}),V.jsx("input",{type:"checkbox",checked:I[Xe],onChange:it=>N(Ie=>({...Ie,[Xe]:it.target.checked})),className:"hidden"}),V.jsx("span",{children:ne(Xe)})]},Xe))})]}),V.jsxs("div",{children:[V.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[V.jsx(Hh,{size:16}),ne("vibratorList")]}),V.jsxs("div",{className:"space-y-1",children:[V.jsxs("button",{onClick:()=>G(null),className:`w-full text-left p-2 text-sm rounded-md font-semibold flex items-center justify-between transition-colors ${z===null?"bg-accent-primary text-white":"bg-bg-secondary hover:bg-bg-tertiary"}`,children:[V.jsxs("span",{className:"flex items-center gap-2",children:[V.jsx(l3,{size:16}),ne("showAll")]}),V.jsx("span",{className:"bg-bg-primary text-text-secondary text-xs font-mono px-2 py-0.5 rounded-full",children:_e.format(S.length)})]}),Z.map(Xe=>{var it;return V.jsxs("button",{onClick:()=>G(Xe),className:`w-full text-left p-2 text-sm rounded-md font-semibold flex items-center justify-between transition-colors ${z===Xe?"bg-accent-primary text-white":"bg-bg-secondary hover:bg-bg-tertiary"}`,children:[V.jsx("span",{children:`${ne("popup_vibrator")} ${Gi(Xe)}`}),V.jsx("span",{className:"bg-bg-primary text-text-secondary text-xs font-mono px-2 py-0.5 rounded-full",children:_e.format(((it=X.get(Xe))==null?void 0:it.count)||0)})]},Xe)})]})]})]})]})]})]})},$Y=({mode:t,colorMode:e,totalVaps:n,visibleVaps:r,totalSps:i,plannedCount:o,summaryData:a,onRecenter:u})=>{const{t:f,language:h}=qi(),m=$.useMemo(()=>new Intl.NumberFormat(h==="fr"?"fr-FR":"en-US"),[h]),_=$.useMemo(()=>t==="planner"?[{key:"totalSps",label:f("planningPoints"),value:m.format(i)},{key:"tasks",label:f("tasksAssigned"),value:m.format(o)},{key:"fleet",label:f("vibratorFleet"),value:m.format((a==null?void 0:a.individual_performance.length)??0)}]:[{key:"visible",label:f("vibrationPoints"),value:`${m.format(r)} / ${m.format(Math.max(n,r))}`},{key:"netOps",label:f("netOperations"),value:m.format((a==null?void 0:a.general_summary.net_operations)??0)},{key:"duplicates",label:f("totalDuplicates"),value:m.format((a==null?void 0:a.general_summary.total_duplicates)??0)}],[m,t,o,a,f,i,n,r]),E=$.useMemo(()=>t==="analysis"?[{key:"ok",label:f("ok"),color:"var(--color-success)"},{key:"warning",label:f("warning"),color:"var(--color-warning)"},{key:"overload",label:f("overload"),color:"var(--color-overload)"}]:e==="assignment"?[{key:"assignment",label:f("colorBy_assignment"),color:"var(--color-accent-primary)"},{key:"unassigned",label:f("clearSelection"),color:"#6b7280"}]:[{key:"low",label:f("low"),color:"var(--color-accent-secondary)"},{key:"medium",label:f("medium"),color:"var(--color-warning)"},{key:"high",label:f("high"),color:"var(--color-overload)"}],[e,t,f]);return V.jsxs("div",{className:"pointer-events-none absolute top-6 right-6 flex flex-col gap-3",children:[V.jsxs("div",{className:"pointer-events-auto w-[320px] rounded-3xl border border-border-light/80 bg-gradient-to-br from-bg-primary/90 via-bg-primary/70 to-bg-secondary/60 px-6 py-5 shadow-[0_35px_80px_-50px_rgba(15,23,42,0.7)] backdrop-blur-xl",children:[V.jsxs("div",{className:"flex items-start justify-between gap-3",children:[V.jsxs("div",{children:[V.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.28em] text-text-tertiary",children:f("mapView")}),V.jsx("h3",{className:"mt-2 text-xl font-bold text-text-primary",children:f(t==="planner"?"planner":"analysis")})]}),V.jsxs("button",{type:"button",onClick:u,className:"flex h-10 w-10 items-center justify-center rounded-full border border-border-light/70 bg-bg-secondary text-text-secondary transition hover:border-accent-primary hover:text-accent-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary",children:[V.jsx(x_,{size:18}),V.jsx("span",{className:"sr-only",children:f("reset")})]})]}),V.jsx("div",{className:"mt-4 grid grid-cols-3 gap-3",children:_.map(S=>V.jsxs("div",{className:"rounded-2xl border border-border-light/70 bg-bg-primary/60 px-3 py-3",children:[V.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.24em] text-text-tertiary",children:S.label}),V.jsx("p",{className:"mt-2 text-xl font-bold text-text-primary",children:S.value})]},S.key))})]}),V.jsx("div",{className:"pointer-events-auto inline-flex items-center gap-3 self-end rounded-full border border-border-light/70 bg-bg-secondary/70 px-4 py-2 shadow-[0_25px_60px_-45px_rgba(15,23,42,0.5)] backdrop-blur-lg",children:E.map(S=>V.jsxs("span",{className:"flex items-center gap-2 text-xs font-semibold text-text-secondary",children:[V.jsx("span",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:S.color}}),S.label]},S.key))})]})},VY=({currentThemeName:t,setThemeName:e})=>{const n=Object.keys(rv),r=()=>{const o=(n.indexOf(t)+1)%n.length;e(n[o])};return n.length<=1?V.jsxs("div",{className:"flex items-center gap-2 text-text-secondary px-2",children:[V.jsx(tv,{size:16}),V.jsx("span",{className:"text-sm font-medium",children:t})]}):V.jsx("button",{onClick:r,className:"flex items-center gap-3 p-2 rounded-md hover:bg-bg-tertiary",title:t,children:V.jsx(tv,{size:18,className:"text-text-secondary"})})},GY={success:YA,info:b_,warning:Pf,error:HA},qY=t=>{switch(t){case"success":return"var(--color-success)";case"warning":return"var(--color-warning)";case"error":return"var(--color-overload)";case"info":default:return"var(--color-info)"}},HY=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`notice-${Date.now()}-${Math.random().toString(36).slice(2,10)}`;function WY(){const[t,e]=$.useState(Fb),n=rv[t]||rv[Fb],[r,i]=$.useState([]),[o,a]=$.useState(null),[u,f]=$.useState(null),[h,m]=$.useState("welcome"),[_,E]=$.useState(null),[S,A]=$.useState([]),[I,N]=$.useState([]),[z,G]=$.useState(null),[Z,X]=$.useState(!1),[te,ne]=$.useState(!1),[se,ke]=$.useState(!1),[Le,Pe]=$.useState(!1),[_e,Ne]=$.useState(!1),[qe,Ke]=$.useState(!1),[ht,Xe]=$.useState([]),it=$.useRef(null),{language:Ie,setLanguage:nt,t:xe}=qi(),fe=$.useCallback(at=>{Xe(St=>St.filter(Xt=>Xt.id!==at))},[]),ve=$.useCallback((at,St=6e3)=>{const Xt=HY();Xe(xn=>[...xn,{...at,id:Xt}]),St>0&&window.setTimeout(()=>{Xe(xn=>xn.filter($n=>$n.id!==Xt))},St)},[]);$.useEffect(()=>{const at=document.documentElement;Object.entries(n).forEach(([St,Xt])=>{const xn=`--color-${St.replace(/_/g,"-")}`;at.style.setProperty(xn,Xt)})},[n]);const je=$.useMemo(()=>new Intl.NumberFormat(Ie==="fr"?"fr-FR":"en-US"),[Ie]),Ze=$.useCallback(()=>{E(null),A([]),N([]),G(null),a(null),f(null),m("welcome")},[]),Ge=$.useCallback(at=>{Ke(!0),E(null),A([]),G(null);try{const{result:St,rawRecords:Xt,totalLines:xn,conflictedShotDetails:$n}=sD(at.content);if(!St)throw new Error(xe("emptyDataBody"));E(St),A(Xt);const Dr=uD(St,at.name,xn,$n);G(Dr),m("vaps_analysis"),a(at),ve({type:"success",title:xe("analysisReport"),description:at.name});const ur=r.find(Vn=>Vn.type==="sps");ur&&(f(ur),N(Gb(ur.content)))}catch(St){console.error("Failed to parse VAPS file:",St),ve({type:"error",title:xe("analysis"),description:xe("analysisErrorBody",{error:String(St)})}),a(null)}finally{Ke(!1)}},[r,ve,xe]),Ue=$.useCallback(at=>{try{const St=Gb(at.content);N(St),f(at),ve({type:"success",title:xe("spsFile"),description:at.name})}catch(St){console.error("Failed to parse SPS file:",St),ve({type:"error",title:xe("planner"),description:St instanceof Error?St.message:String(St)}),f(null)}},[ve,xe]),Mt=$.useCallback(at=>{const St=r.find(Xt=>Xt.name===at);St&&((St.type==="vaps"||St.type==="aps")&&(o==null?void 0:o.name)!==St.name?Ge(St):St.type==="sps"&&(u==null?void 0:u.name)!==St.name&&Ue(St))},[Ge,r,Ue,u,o]),Dt=at=>{const St=at.name.toLowerCase();return St.endsWith(".sps")?"sps":St.endsWith(".aps")?"aps":St.includes("sps")?"sps":St.endsWith(".txt")||!St.includes(".")?"vaps":"unknown"},$e=$.useCallback(at=>{Ke(!0);const St=Array.from(at).map(Xt=>new Promise((xn,$n)=>{const Dr=Dt(Xt);if(Dr==="unknown"){xn({name:Xt.name,content:"",type:Dr});return}const ur=new FileReader;ur.onload=Vn=>{var Rn;return xn({name:Xt.name,content:(Rn=Vn.target)==null?void 0:Rn.result,type:Dr})},ur.onerror=Vn=>$n(Vn),ur.readAsText(Xt)}));Promise.all(St).then(Xt=>{i(xn=>{const $n=Xt.filter(Rn=>!xn.some(yo=>yo.name===Rn.name)),Dr=[...xn,...$n];if($n.length>0){const Rn=$n.length===1?"filesSelected_one":"filesSelected_other";ve({type:"info",title:xe("loadedFiles"),description:xe(Rn,{count:$n.length})})}const ur=$n.find(Rn=>Rn.type==="vaps"||Rn.type==="aps"),Vn=$n.find(Rn=>Rn.type==="sps");return ur&&(!o||ur.name!==o.name)&&Ge(ur),Vn&&(!u||Vn.name!==u.name)&&Ue(Vn),Dr})}).catch(Xt=>{console.error("Failed to load files:",Xt),ve({type:"error",title:xe("addFiles"),description:Xt instanceof Error?Xt.message:String(Xt)})}).finally(()=>Ke(!1))},[Ge,Ue,ve,u,o,xe]),vt=$.useCallback(()=>{i([]),Ze(),ve({type:"info",title:xe("loadedFiles"),description:xe("clearList")})},[ve,Ze,xe]),Ct=$.useCallback(()=>{if(!z)return;const at=hD(z),St=new Blob([at],{type:"text/plain;charset=utf-8"}),Xt=URL.createObjectURL(St),xn=document.createElement("a");xn.href=Xt,xn.download=`Summary_${z.source_file}`,xn.click(),URL.revokeObjectURL(Xt),ve({type:"success",title:xe("exportTxt"),description:z.source_file})},[z,xe,ve]),He=$.useCallback(()=>{S.length>0||I.length>0?ke(!0):ve({type:"warning",title:xe("geoPlanner"),description:xe("noGpsData")})},[ve,S,I,xe]),gn=at=>{at.preventDefault(),at.stopPropagation()},Jt=at=>{at.preventDefault(),at.stopPropagation(),Pe(!0)},In=at=>{at.preventDefault(),at.stopPropagation(),Pe(!1)},On=$.useCallback(at=>{at.preventDefault(),at.stopPropagation(),Pe(!1),at.dataTransfer.files&&$e(at.dataTransfer.files)},[$e]),Qn=$.useCallback(()=>nt(Ie==="en"?"fr":"en"),[Ie,nt]),$r=$.useMemo(()=>[o==null?void 0:o.name,u==null?void 0:u.name].filter(Boolean),[u,o]),ei=z==null?void 0:z.general_summary,Zi=$.useMemo(()=>ei?[{key:"total_vibros",label:xe("totalVibrators"),value:je.format(ei.total_vibros),icon:Hh,tone:"accent"},{key:"net_operations",label:xe("netOperations"),value:je.format(ei.net_operations),icon:DA,tone:"info"},{key:"total_duplicates",label:xe("totalDuplicates"),value:je.format(ei.total_duplicates),icon:Pf,tone:"warning"},{key:"total_duration",label:xe("totalDuration"),value:ei.total_operation_duration_str,icon:Tk,tone:"success"}]:[],[je,ei,xe]),vi=at=>{switch(at){case"vaps":return Nb;case"sps":return x_;case"aps":return BA;default:return Nb}},Zo=(at,St)=>at?V.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border-light bg-bg-tertiary/80 px-3 py-1 text-xs font-semibold text-text-secondary shadow-sm",children:[V.jsx("span",{className:"uppercase tracking-[0.14em] text-text-tertiary",children:xe(St)}),V.jsx("span",{className:"rounded-full bg-bg-quaternary px-2 py-0.5 text-text-primary",children:at.name})]}):null;return V.jsxs("div",{className:"flex min-h-screen flex-col bg-bg-primary text-text-primary",onDragEnter:Jt,onDragLeave:In,onDragOver:gn,onDrop:On,children:[V.jsx("input",{type:"file",multiple:!0,accept:".txt,.sps,.aps",ref:it,onChange:at=>at.target.files&&$e(at.target.files),className:"hidden"}),Le&&V.jsx("div",{className:"pointer-events-none fixed inset-0 z-50 flex items-center justify-center bg-[rgba(8,11,24,0.75)] backdrop-blur-sm",children:V.jsxs("div",{className:"flex flex-col items-center gap-4 rounded-3xl border-2 border-dashed border-accent-primary/80 bg-bg-primary/95 px-16 py-14 text-center shadow-[0_40px_120px_-50px_rgba(37,99,235,0.7)]",children:[V.jsx(Rb,{size:48,className:"text-accent-primary"}),V.jsx("p",{className:"text-xl font-semibold",children:xe("dropFilesHint")})]})}),V.jsxs("header",{className:"relative z-30 border-b border-border-color bg-gradient-to-r from-bg-secondary/80 via-bg-primary/80 to-bg-secondary/80 backdrop-blur supports-[backdrop-filter]:bg-bg-primary/70",children:[V.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col gap-4 px-6 py-5 lg:flex-row lg:items-center lg:justify-between",children:[V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsx("button",{type:"button",onClick:()=>Ne(at=>!at),className:"hidden h-12 w-12 items-center justify-center rounded-2xl border border-border-color bg-bg-tertiary text-text-secondary transition hover:text-accent-primary lg:flex",title:xe(_e?"pinPanel":"unpinPanel"),children:_e?V.jsx(GA,{size:18}):V.jsx(kk,{size:18})}),V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsx("div",{className:"flex h-12 w-12 items-center justify-center overflow-hidden rounded-2xl border border-border-color bg-bg-tertiary shadow-[0_25px_45px_-25px_rgba(15,23,42,0.6)]",children:V.jsx("img",{src:"/assets/3d.png",alt:"Logo",className:"h-10 w-10 object-contain"})}),V.jsxs("div",{children:[V.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.28em] text-text-tertiary",children:xe("intelligentMonitoring")}),V.jsx("h1",{className:"text-2xl font-bold tracking-tight text-text-primary",children:xe("vibrationAnalyzer")})]})]})]}),V.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[V.jsxs("div",{className:"hidden items-center gap-2 rounded-full border border-border-color bg-bg-tertiary/80 px-4 py-2 text-xs font-semibold uppercase tracking-[0.18em] text-text-tertiary sm:flex",children:[xe("loadedFiles"),V.jsx("span",{className:"rounded-full bg-bg-quaternary px-2 py-0.5 text-text-primary",children:je.format(r.length)})]}),V.jsxs("button",{onClick:()=>{var at;return(at=it.current)==null?void 0:at.click()},className:"flex items-center gap-2 rounded-full bg-gradient-to-r from-accent-primary via-accent-secondary to-accent-primary px-5 py-2.5 text-sm font-semibold text-white shadow-[0_18px_45px_-20px_rgba(37,99,235,0.6)] transition hover:brightness-105 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary",children:[V.jsx(Bb,{size:18}),V.jsx("span",{children:xe("addFiles")})]}),V.jsxs("button",{onClick:vt,disabled:r.length===0,className:"flex items-center gap-2 rounded-full border border-border-color px-4 py-2 text-sm font-semibold text-text-secondary transition hover:border-accent-primary hover:text-accent-primary disabled:cursor-not-allowed disabled:opacity-40",children:[V.jsx(Pk,{size:16}),V.jsx("span",{children:xe("clearList")})]}),V.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-border-color bg-bg-tertiary/80 px-2 py-1",children:[V.jsx(VY,{currentThemeName:t,setThemeName:e}),V.jsx("button",{onClick:Qn,className:"flex h-9 w-9 items-center justify-center rounded-full text-text-secondary transition hover:text-accent-primary",title:"Change Language",children:V.jsx(p3,{size:18})}),V.jsx("button",{onClick:()=>X(!0),className:"flex h-9 w-9 items-center justify-center rounded-full text-text-secondary transition hover:text-accent-primary",title:xe("about"),children:V.jsx(b_,{size:18})})]})]})]}),qe&&V.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 overflow-hidden",children:V.jsx("div",{className:"h-full w-full origin-left bg-gradient-to-r from-accent-secondary via-accent-primary to-accent-secondary animate-[progressSlide_1.4s_ease-in-out_infinite]"})})]}),V.jsxs("div",{className:"relative flex flex-1 overflow-hidden",children:[V.jsx("aside",{className:`hidden h-full border-r border-border-color bg-bg-primary/70 backdrop-blur transition-all duration-300 lg:flex ${_e?"w-[110px]":"w-[320px]"}`,children:V.jsxs("div",{className:"flex h-full w-full flex-col gap-5 overflow-hidden px-4 py-6",children:[V.jsxs("section",{className:`rounded-3xl border border-border-color bg-bg-secondary/80 p-4 text-sm shadow-[0_25px_60px_-35px_rgba(15,23,42,0.6)] transition-all ${_e?"items-center justify-center":""}`,children:[V.jsxs("button",{type:"button",onClick:()=>{var at;return(at=it.current)==null?void 0:at.click()},className:`flex w-full items-center justify-center gap-3 rounded-2xl border border-dashed border-border-light bg-bg-tertiary/70 px-4 py-4 text-sm font-semibold text-text-secondary transition hover:border-accent-primary hover:text-accent-primary ${_e?"flex-col text-center":""}`,children:[V.jsx(XA,{size:24,className:"text-accent-primary"}),!_e&&V.jsx("span",{children:xe("dropFilesHint")})]}),!_e&&V.jsxs("div",{className:"mt-4 grid gap-2 text-xs text-text-secondary",children:[V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx("span",{children:xe("vibrationPoints")}),V.jsx("span",{className:"font-semibold text-text-primary",children:je.format(S.length)})]}),V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx("span",{children:xe("planningPoints")}),V.jsx("span",{className:"font-semibold text-text-primary",children:je.format(I.length)})]})]})]}),V.jsxs("section",{className:"flex flex-1 flex-col overflow-hidden rounded-3xl border border-border-color bg-bg-secondary/70 shadow-[0_25px_60px_-35px_rgba(15,23,42,0.55)]",children:[V.jsxs("div",{className:`flex items-center justify-between border-b border-border-color px-4 py-3 text-xs uppercase tracking-[0.18em] text-text-tertiary ${_e?"flex-col gap-2 text-center":""}`,children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx(Mk,{size:16,className:"text-accent-primary"}),!_e&&V.jsx("span",{children:xe("loadedFiles")})]}),V.jsx("span",{className:"rounded-full bg-bg-quaternary px-2 py-0.5 text-text-primary",children:je.format(r.length)})]}),V.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4",children:r.length===0?V.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-3 rounded-2xl border border-dashed border-border-light bg-bg-tertiary/50 p-6 text-center text-text-tertiary",children:[V.jsx(Bb,{size:24}),V.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em]",children:xe("readyToAnalyze")})]}):V.jsx("div",{className:"flex flex-col gap-3",children:r.map(at=>{const St=$r.includes(at.name),Xt=vi(at.type);return V.jsxs("button",{onClick:()=>Mt(at.name),className:`group relative flex w-full items-center gap-3 rounded-2xl border border-transparent px-3 py-3 text-left transition-all ${St?"border-accent-primary bg-accent-primary/15 text-accent-primary shadow-[0_20px_40px_-25px_rgba(37,99,235,0.65)]":"bg-bg-tertiary/70 text-text-primary hover:border-border-color hover:bg-bg-tertiary/90"}`,title:at.name,children:[V.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl border border-border-light bg-bg-secondary",children:V.jsx(Xt,{size:18,className:St?"text-accent-primary":"text-text-secondary"})}),!_e&&V.jsxs("span",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[V.jsx("span",{className:"truncate text-sm font-semibold",children:at.name}),V.jsx("span",{className:"text-xs uppercase tracking-[0.2em] text-text-tertiary",children:xe(`${at.type}File`)})]})]},at.name)})})}),V.jsxs("div",{className:`border-t border-border-color px-4 py-4 ${_e?"flex flex-col items-center gap-3":"space-y-3"}`,children:[h==="vaps_analysis"&&V.jsxs(V.Fragment,{children:[V.jsx(ev,{icon:zA,text:xe("showSummary"),variant:"primary",onClick:()=>ne(!0),disabled:!z,compact:_e}),V.jsx(ev,{icon:Rb,text:xe("exportTxt"),onClick:Ct,disabled:!z,compact:_e})]}),V.jsx(ev,{icon:b3,text:xe("geoPlanner"),variant:"ghost",onClick:He,disabled:S.length===0&&I.length===0,compact:_e})]})]})]})}),V.jsxs("main",{className:"relative flex-1 overflow-hidden bg-bg-secondary",children:[V.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,rgba(37,99,235,0.15),transparent_60%)]"}),V.jsx("div",{className:"relative z-10 h-full overflow-y-auto",children:V.jsxs("div",{className:"mx-auto flex h-full w-full max-w-7xl flex-col gap-8 px-6 py-8",children:[V.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[Zo(o,"vapsFile"),Zo(u,"spsFile")]}),Zi.length>0&&V.jsx("section",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:Zi.map(at=>{const St=at.icon,Xt=at.tone==="success"?"var(--color-success)":at.tone==="warning"?"var(--color-warning)":at.tone==="info"?"var(--color-info)":"var(--color-accent-primary)";return V.jsx("div",{className:"group relative overflow-hidden rounded-3xl border border-border-color bg-bg-primary/90 p-6 shadow-[0_30px_70px_-45px_rgba(15,23,42,0.7)] transition-all hover:-translate-y-1 hover:border-accent-primary/60",children:V.jsxs("div",{className:"flex items-start justify-between",children:[V.jsxs("div",{children:[V.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-text-tertiary",children:at.label}),V.jsx("p",{className:"mt-4 text-2xl font-bold text-text-primary",children:at.value})]}),V.jsx("span",{className:"flex h-12 w-12 items-center justify-center rounded-2xl border border-border-light bg-bg-secondary",style:{color:Xt,borderColor:Xt},children:V.jsx(St,{size:20})})]})},at.key)})}),V.jsx("section",{className:"flex flex-1 flex-col overflow-hidden rounded-3xl border border-border-color bg-bg-primary/90 shadow-[0_35px_80px_-45px_rgba(15,23,42,0.65)]",children:V.jsxs("div",{className:"relative flex-1 overflow-hidden",children:[h==="welcome"&&V.jsx(mD,{theme:n}),h==="vaps_analysis"&&_&&V.jsx("div",{className:"flex h-full flex-col",children:V.jsx(xG,{analysisData:_,theme:n})})]})})]})})]})]}),V.jsx(ZY,{notices:ht,onDismiss:fe}),V.jsx(bG,{isOpen:Z,onClose:()=>X(!1),theme:n}),h==="vaps_analysis"&&V.jsx(uY,{isOpen:te,onClose:()=>ne(!1),summary:z,rawRecords:S,theme:n}),V.jsx(RY,{isOpen:se,onClose:()=>ke(!1),rawRecords:S,spsPoints:I,theme:n,summaryData:z})]})}const ev=({icon:t,text:e,variant:n="secondary",compact:r=!1,...i})=>{const{className:o,...a}=i,u={...a,title:a.title??e};r&&!u["aria-label"]&&(u["aria-label"]=e);let f="group relative flex items-center gap-3 rounded-2xl border border-border-color px-4 py-3 text-sm font-semibold transition-all duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary disabled:pointer-events-none disabled:opacity-40",h="text-accent-primary transition",m="truncate text-sm font-semibold";return r?(f="flex h-12 w-12 items-center justify-center rounded-full border border-border-color bg-bg-tertiary/80 text-text-primary transition hover:border-accent-primary hover:text-accent-primary disabled:opacity-40",h="text-accent-primary"):n==="primary"?(f+=" border-transparent bg-gradient-to-r from-accent-primary via-accent-secondary to-accent-primary text-white shadow-[0_18px_48px_-24px_rgba(37,99,235,0.7)] hover:shadow-[0_28px_65px_-30px_rgba(37,99,235,0.8)]",h="text-white drop-shadow-sm",m="truncate text-sm font-semibold text-white"):n==="ghost"?f+=" bg-transparent text-text-secondary hover:border-accent-primary hover:text-accent-primary":f+=" bg-bg-tertiary/80 text-text-primary hover:border-accent-primary hover:text-accent-primary shadow-[0_15px_35px_-30px_rgba(15,23,42,0.6)]",u.className=[f,o].filter(Boolean).join(" "),V.jsxs("button",{...u,children:[V.jsx(t,{size:18,className:h}),!r&&V.jsx("span",{className:m,children:e})]})},ZY=({notices:t,onDismiss:e})=>V.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-6 z-50 flex flex-col items-center gap-3 px-4 sm:right-6 sm:left-auto sm:w-96 sm:items-stretch",children:t.map(n=>{const r=GY[n.type],i=qY(n.type);return V.jsxs("div",{className:"pointer-events-auto relative overflow-hidden rounded-3xl border border-border-light bg-bg-primary/95 px-4 py-4 text-sm shadow-[0_30px_70px_-45px_rgba(15,23,42,0.75)] backdrop-blur animate-[toastSlideIn_0.45s_cubic-bezier(.22,.68,0,1.12)_forwards]",style:{borderColor:i},children:[V.jsxs("div",{className:"flex items-start gap-3",children:[V.jsx("div",{className:"mt-1 flex h-10 w-10 items-center justify-center rounded-2xl border bg-bg-secondary",style:{borderColor:i,color:i},children:V.jsx(r,{size:18})}),V.jsxs("div",{className:"flex-1",children:[V.jsx("p",{className:"text-sm font-semibold text-text-primary",children:n.title}),n.description&&V.jsx("p",{className:"mt-1 text-xs leading-relaxed text-text-secondary",children:n.description})]}),V.jsx("button",{type:"button",onClick:()=>e(n.id),className:"flex h-8 w-8 items-center justify-center rounded-full border border-transparent text-text-secondary transition hover:text-text-primary",style:{color:i},"aria-label":"Dismiss notification",children:V.jsx(Af,{size:16})})]}),V.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1",style:{background:i,opacity:.3}})]},n.id)})}),I4=document.getElementById("root");if(!I4)throw new Error("Could not find root element to mount to");const KY=EA.createRoot(I4);KY.render(V.jsx(_A.StrictMode,{children:V.jsx(pD,{children:V.jsx(WY,{})})}));
